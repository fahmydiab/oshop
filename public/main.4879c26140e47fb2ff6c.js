(self.webpackChunkoshop=self.webpackChunkoshop||[]).push([[179],{8255:Pe=>{function pe(F){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+F+"'");throw l.code="MODULE_NOT_FOUND",l})}pe.keys=()=>[],pe.resolve=pe,pe.id=8255,Pe.exports=pe},7716:(Pe,pe,F)=>{"use strict";F.d(pe,{deG:()=>lu,tb:()=>Fv,AFp:()=>U1,ip1:()=>gt,CZH:()=>Kn,hGG:()=>KN,z2F:()=>fp,sBO:()=>Tw,Sil:()=>zd,_Vd:()=>Ad,EJc:()=>j1,SBq:()=>Go,qLn:()=>xo,vpe:()=>qr,gxx:()=>dd,tBr:()=>zr,XFs:()=>Fe,OlP:()=>Yt,zs3:()=>xn,ZZ4:()=>sm,aQg:()=>Uf,soG:()=>Vl,YKP:()=>Iw,v3s:()=>rE,h0i:()=>Ol,PXZ:()=>cp,R0b:()=>Yi,FiY:()=>cs,Lbi:()=>$1,g9A:()=>H1,Qsj:()=>gI,FYo:()=>Sd,JOm:()=>_,Tiy:()=>xl,q3G:()=>ln,tp0:()=>or,EAV:()=>WN,Rgc:()=>Hf,dDg:()=>Zo,DyG:()=>Gr,q4F:()=>Wy,GfV:()=>vw,s_b:()=>Pl,ifc:()=>Se,eFA:()=>km,G48:()=>FN,Gpc:()=>U,X6Q:()=>up,_c5:()=>$l,VLi:()=>PN,c2e:()=>Sm,zSh:()=>lf,wAp:()=>Ze,vHH:()=>Ee,EiD:()=>Aa,mCW:()=>$i,qzn:()=>_l,JVY:()=>zc,pB0:()=>A0,eBb:()=>Lh,L6k:()=>e_,LAX:()=>t_,cg1:()=>Dy,Tjo:()=>Ys,kL8:()=>ZC,yhl:()=>yl,dqk:()=>Qe,sIi:()=>Us,CqO:()=>mC,QGY:()=>ly,F4k:()=>gC,RDi:()=>Ts,AaK:()=>K,z3N:()=>xs,qOj:()=>Vu,TTD:()=>en,_Bn:()=>dw,xp6:()=>eb,uIk:()=>jb,Tol:()=>MC,DjV:()=>Gs,ekj:()=>Oa,Suo:()=>Ev,Xpm:()=>Xn,lG2:()=>zl,Yz7:()=>Wt,cJS:()=>nn,oAB:()=>Cs,Yjl:()=>Br,Y36:()=>_d,_UZ:()=>ay,BQk:()=>Pg,ynx:()=>fC,qZA:()=>oy,TgZ:()=>sy,EpF:()=>pC,n5z:()=>ba,Ikx:()=>Ey,SDv:()=>uw,QtT:()=>Nd,pQV:()=>By,LFG:()=>kn,$8M:()=>wa,NdJ:()=>Fg,CRH:()=>m1,oxw:()=>vC,ALo:()=>vm,lcZ:()=>c1,Hsn:()=>bC,F$t:()=>uy,Q6J:()=>ry,s9C:()=>Vg,MGl:()=>Bg,VKq:()=>pv,WLB:()=>gv,kEZ:()=>mv,iGM:()=>wv,MAs:()=>J_,CHM:()=>nl,LSH:()=>Jc,kYT:()=>Ya,Udp:()=>fy,YNc:()=>Gb,W1O:()=>np,_uU:()=>yt,Oqu:()=>_y,hij:()=>Pa,Gf:()=>hr});var l=F(9765),te=F(5319),L=F(7574),ce=F(6682),re=F(8819);function J(r){for(let i in r)if(r[i]===J)return i;throw Error("Could not find renamed property on target object.")}function oe(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function K(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(K).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Y(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const P=J({__forward_ref__:J});function U(r){return r.__forward_ref__=U,r.toString=function(){return K(this())},r}function G(r){return de(r)?r():r}function de(r){return"function"==typeof r&&r.hasOwnProperty(P)&&r.__forward_ref__===U}class Ee extends Error{constructor(i,o){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,o)),this.code=i}}function ee(r){return"string"==typeof r?r:null==r?"":String(r)}function ie(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ee(r)}function mt(r,i){const o=i?` in ${i}`:"";throw new Ee("201",`No provider for ${ie(r)} found${o}`)}function St(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}function Wt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function nn(r){return{providers:r.providers||[],imports:r.imports||[]}}function Fn(r){return It(r,vi)||It(r,Hn)}function It(r,i){return r.hasOwnProperty(i)?r[i]:null}function Jr(r){return r&&(r.hasOwnProperty(Ce)||r.hasOwnProperty(Tn))?r[Ce]:null}const vi=J({\u0275prov:J}),Ce=J({\u0275inj:J}),Hn=J({ngInjectableDef:J}),Tn=J({ngInjectorDef:J});var Fe=(()=>((Fe=Fe||{})[Fe.Default=0]="Default",Fe[Fe.Host=1]="Host",Fe[Fe.Self=2]="Self",Fe[Fe.SkipSelf=4]="SkipSelf",Fe[Fe.Optional=8]="Optional",Fe))();let Mt;function pr(r){const i=Mt;return Mt=r,i}function $e(r,i,o){const u=Fn(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Fe.Optional?null:void 0!==i?i:void mt(K(r),"Injector")}function ht(r){return{toString:r}.toString()}var ft=(()=>((ft=ft||{})[ft.OnPush=0]="OnPush",ft[ft.Default=1]="Default",ft))(),Se=(()=>((Se=Se||{})[Se.Emulated=0]="Emulated",Se[Se.None=2]="None",Se[Se.ShadowDom=3]="ShadowDom",Se))();const je="undefined"!=typeof globalThis&&globalThis,Wa="undefined"!=typeof window&&window,Ji="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qe=je||"undefined"!=typeof global&&global||Wa||Ji,z={},$=[],q=J({\u0275cmp:J}),ge=J({\u0275dir:J}),ae=J({\u0275pipe:J}),ke=J({\u0275mod:J}),Xe=J({\u0275loc:J}),Nt=J({\u0275fac:J}),mn=J({__NG_ELEMENT_ID__:J});let _n=0;function Xn(r){return ht(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===ft.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||$,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Se.Emulated,id:"c",styles:r.styles||$,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,h=r.features,m=r.pipes;return u.id+=_n++,u.inputs=ws(r.inputs,o),u.outputs=ws(r.outputs),h&&h.forEach(y=>y(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(Gn):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(bs):null,u})}function Gn(r){return Ln(r)||function(r){return r[ge]||null}(r)}function bs(r){return function(r){return r[ae]||null}(r)}const za={};function Cs(r){return ht(()=>{const i={type:r.type,bootstrap:r.bootstrap||$,declarations:r.declarations||$,imports:r.imports||$,exports:r.exports||$,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(za[r.id]=r.type),i})}function Ya(r,i){return ht(()=>{const o=Ur(r,!0);o.declarations=i.declarations||$,o.imports=i.imports||$,o.exports=i.exports||$})}function ws(r,i){if(null==r)return z;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,i&&(i[c]=h)}return o}const zl=Xn;function Br(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Ln(r){return r[q]||null}function Ur(r,i){const o=r[ke]||null;if(!o&&!0===i)throw new Error(`Type ${K(r)} does not have '\u0275mod' property.`);return o}function qt(r){return Array.isArray(r)&&"object"==typeof r[1]}function Yn(r){return Array.isArray(r)&&!0===r[1]}function fc(r){return 0!=(8&r.flags)}function Xo(r){return 2==(2&r.flags)}function vr(r){return 1==(1&r.flags)}function ei(r){return null!==r.template}function ti(r){return 0!=(512&r[2])}function bi(r,i){return r.hasOwnProperty(Nt)?r[Nt]:null}class ra{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function en(){return ia}function ia(r){return r.type.prototype.ngOnChanges&&(r.setInput=nr),xp}function xp(){const r=qa(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===z)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function nr(r,i,o,u){const c=qa(r)||function(r,i){return r[Ci]=i}(r,{previous:z,current:null}),h=c.current||(c.current={}),m=c.previous,y=this.declaredInputs[o],C=m[y];h[y]=new ra(C&&C.currentValue,i,m===z),r[u]=i}en.ngInherit=!0;const Ci="__ngSimpleChanges__";function qa(r){return r[Ci]||null}let uo;function Ts(r){uo=r}function es(){return void 0!==uo?uo:"undefined"!=typeof document?document:void 0}function Ht(r){return!!r.listen}const wi={createRenderer:(r,i)=>es()};function Lt(r){for(;Array.isArray(r);)r=r[0];return r}function Is(r,i){return Lt(i[r])}function Sr(r,i){return Lt(i[r.index])}function ts(r,i){return r.data[i]}function ns(r,i){return r[i]}function Zn(r,i){const o=i[r];return qt(o)?o:o[0]}function Qa(r){return 4==(4&r[2])}function Xa(r){return 128==(128&r[2])}function vn(r,i){return null==i?null:r[i]}function oa(r){r[18]=0}function aa(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const ze={lFrame:ru(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function la(){return ze.bindingsEnabled}function _e(){return ze.lFrame.lView}function ot(){return ze.lFrame.tView}function nl(r){return ze.lFrame.contextLView=r,r[8]}function Gt(){let r=rl();for(;null!==r&&64===r.type;)r=r.parent;return r}function rl(){return ze.lFrame.currentTNode}function Ei(){const r=ze.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}function rr(r,i){const o=ze.lFrame;o.currentTNode=r,o.isParent=i}function ho(){return ze.lFrame.isParent}function ua(){ze.lFrame.isParent=!1}function fo(){return ze.isInCheckNoChangesMode}function po(r){ze.isInCheckNoChangesMode=r}function bn(){const r=ze.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function $r(){return ze.lFrame.bindingIndex}function ri(){return ze.lFrame.bindingIndex++}function ir(r){const i=ze.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}function il(r){ze.lFrame.inI18n=r}function da(r,i){const o=ze.lFrame;o.bindingIndex=o.bindingRootIndex=r,ha(i)}function ha(r){ze.lFrame.currentDirectiveIndex=r}function sl(){return ze.lFrame.currentQueryIndex}function go(r){ze.lFrame.currentQueryIndex=r}function mo(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function nu(r,i,o){if(o&Fe.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||o&Fe.Host||(c=mo(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const u=ze.lFrame=Nc();return u.currentTNode=i,u.lView=r,!0}function Ns(r){const i=Nc(),o=r[1];ze.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function Nc(){const r=ze.lFrame,i=null===r?null:r.child;return null===i?ru(r):i}function ru(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Ac(){const r=ze.lFrame;return ze.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const Sc=Ac;function xi(){const r=Ac();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Vn(){return ze.lFrame.selectedIndex}function _o(r){ze.lFrame.selectedIndex=r}function sn(){const r=ze.lFrame;return ts(r.tView,r.selectedIndex)}function ol(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:C,ngAfterViewChecked:D,ngOnDestroy:N}=h;m&&(r.contentHooks||(r.contentHooks=[])).push(-o,m),y&&((r.contentHooks||(r.contentHooks=[])).push(o,y),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,y)),C&&(r.viewHooks||(r.viewHooks=[])).push(-o,C),D&&((r.viewHooks||(r.viewHooks=[])).push(o,D),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,D)),null!=N&&(r.destroyHooks||(r.destroyHooks=[])).push(o,N)}}function is(r,i,o){su(r,i,3,o)}function ga(r,i,o,u){(3&r[2])===o&&su(r,i,o,u)}function pn(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function su(r,i,o,u){const h=null!=u?u:-1,m=i.length-1;let y=0;for(let C=void 0!==u?65535&r[18]:0;C<m;C++)if("number"==typeof i[C+1]){if(y=i[C],null!=u&&y>=u)break}else i[C]<0&&(r[18]+=65536),(y<h||-1==h)&&(bh(r,o,i,C),r[18]=(4294901760&r[18])+C+2),C++}function bh(r,i,o,u){const c=o[u]<0,h=o[u+1],y=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(y)}finally{}}}else try{h.call(y)}finally{}}class vo{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function kc(r,i,o){const u=Ht(r);let c=0;for(;c<o.length;){const h=o[c];if("number"==typeof h){if(0!==h)break;c++;const m=o[c++],y=o[c++],C=o[c++];u?r.setAttribute(i,y,C,m):i.setAttributeNS(m,y,C)}else{const m=h,y=o[++c];Pi(m)?u&&r.setProperty(i,m,y):u?r.setAttribute(i,m,y):i.setAttribute(m,y),c++}}return c}function wh(r){return 3===r||4===r||6===r}function Pi(r){return 64===r.charCodeAt(0)}function al(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||Eh(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function Eh(r,i,o,u,c){let h=0,m=r.length;if(-1===i)m=-1;else for(;h<r.length;){const y=r[h++];if("number"==typeof y){if(y===i){m=-1;break}if(y>i){m=h-1;break}}}for(;h<r.length;){const y=r[h];if("number"==typeof y)break;if(y===o){if(null===u)return void(null!==c&&(r[h+1]=c));if(u===r[h+1])return void(r[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==m&&(r.splice(m,0,i),h=m+1),r.splice(h++,0,o),null!==u&&r.splice(h++,0,u),null!==c&&r.splice(h++,0,c)}function au(r){return-1!==r}function os(r){return 32767&r}function Mr(r,i){let o=function(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let ma=!0;function Co(r){const i=ma;return ma=r,i}let Pc=0;function _a(r,i){const o=An(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,As(u.data,r),As(i,null),As(u.blueprint,null));const c=Cn(r,i),h=r.injectorIndex;if(au(c)){const m=os(c),y=Mr(c,i),C=y[1].data;for(let D=0;D<8;D++)i[h+D]=y[m+D]|C[m+D]}return i[h+8]=c,h}function As(r,i){r.push(0,0,0,0,0,0,0,0,i)}function An(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Cn(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const h=c[1],m=h.type;if(u=2===m?h.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function Be(r,i,o){!function(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(mn)&&(u=o[mn]),null==u&&(u=o[mn]=Pc++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function Fi(r,i,o){if(o&Fe.Optional)return r;mt(i,"NodeInjector")}function wo(r,i,o,u){if(o&Fe.Optional&&void 0===u&&(u=null),0==(o&(Fe.Self|Fe.Host))){const c=r[9],h=pr(void 0);try{return c?c.get(i,u,o&Fe.Optional):$e(i,u,o&Fe.Optional)}finally{pr(h)}}return Fi(u,i,o)}function Ye(r,i,o,u=Fe.Default,c){if(null!==r){const h=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(mn)?r[mn]:void 0;return"number"==typeof i?i>=0?255&i:Sn:i}(o);if("function"==typeof h){if(!nu(i,r,u))return u&Fe.Host?Fi(c,o,u):wo(i,o,u,c);try{const m=h(u);if(null!=m||u&Fe.Optional)return m;mt(o)}finally{Sc()}}else if("number"==typeof h){let m=null,y=An(r,i),C=-1,D=u&Fe.Host?i[16][6]:null;for((-1===y||u&Fe.SkipSelf)&&(C=-1===y?Cn(r,i):i[y+8],-1!==C&&va(u,!1)?(m=i[1],y=os(C),i=Mr(C,i)):y=-1);-1!==y;){const N=i[1];if(Eo(h,y,N.data)){const R=Th(y,i,o,m,u,D);if(R!==jr)return R}C=i[y+8],-1!==C&&va(u,i[1].data[y+8]===D)&&Eo(h,y,i)?(m=N,y=os(C),i=Mr(C,i)):y=-1}}}return wo(i,o,u,c)}const jr={};function Sn(){return new si(Gt(),_e())}function Th(r,i,o,u,c,h){const m=i[1],y=m.data[r+8],N=as(y,m,o,null==u?Xo(y)&&ma:u!=m&&0!=(3&y.type),c&Fe.Host&&h===y);return null!==N?ya(i,m,N,y):jr}function as(r,i,o,u,c){const h=r.providerIndexes,m=i.data,y=1048575&h,C=r.directiveStart,N=h>>20,k=c?y+N:r.directiveEnd;for(let H=u?y:y+N;H<k;H++){const Z=m[H];if(H<C&&o===Z||H>=C&&Z.type===o)return H}if(c){const H=m[C];if(H&&ei(H)&&H.type===o)return C}return null}function ya(r,i,o,u){let c=r[o];const h=i.data;if(function(r){return r instanceof vo}(c)){const m=c;m.resolving&&function(r,i){throw new Ee("200",`Circular dependency in DI detected for ${r}`)}(ie(h[o]));const y=Co(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?pr(m.injectImpl):null;nu(r,u,Fe.Default);try{c=r[o]=m.factory(void 0,h,r,u),i.firstCreatePass&&o>=u.directiveStart&&function(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const m=ia(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,h))}(o,h[o],i)}finally{null!==C&&pr(C),Co(y),m.resolving=!1,Sc()}}return c}function Eo(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function va(r,i){return!(r&Fe.Self||r&Fe.Host&&i)}class si{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return Ye(this._tNode,this._lView,i,u,o)}}function ba(r){return ht(()=>{const i=r.prototype.constructor,o=i[Nt]||Ca(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const h=c[Nt]||Ca(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Ca(r){return de(r)?()=>{const i=Ca(G(r));return i&&i()}:bi(r)}function wa(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(wh(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(Gt(),r)}const ls="__parameters__";function ai(r,i,o){return ht(()=>{const u=function(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const m=new c(...h);return y.annotation=m,y;function y(C,D,N){const R=C.hasOwnProperty(ls)?C[ls]:Object.defineProperty(C,ls,{value:[]})[ls];for(;R.length<=N;)R.push(null);return(R[N]=R[N]||[]).push(m),C}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class Yt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Wt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lu=new Yt("AnalyzeForEntryComponents"),Gr=Function;function Et(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Et(u,i)):i!==r&&i.push(u)}return i}function Di(r,i){r.forEach(o=>Array.isArray(o)?Di(o,i):i(o))}function ul(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Ft(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Vi(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}function sr(r,i,o){let u=Io(r,i);return u>=0?r[1|u]=o:(u=~u,function(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function Bi(r,i){const o=Io(r,i);if(o>=0)return r[1|o]}function Io(r,i){return function(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const h=u+(c-u>>1),m=r[h<<o];if(i===m)return h<<o;m>i?c=h:u=h+1}return~(c<<o)}(r,i,1)}const pt={},$t="__NG_DI_FLAG__",an="ngTempTokenPath",Rt=/\n/gm,Ms="__source",Wr=J({provide:String,useValue:J});let Ti;function Ui(r){const i=Ti;return Ti=r,i}function hl(r,i=Fe.Default){if(void 0===Ti)throw new Error("inject() must be called from an injection context");return null===Ti?$e(r,void 0,i):Ti.get(r,i&Fe.Optional?null:void 0,i)}function kn(r,i=Fe.Default){return(Mt||hl)(G(r),i)}function Da(r){const i=[];for(let o=0;o<r.length;o++){const u=G(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,h=Fe.Default;for(let m=0;m<u.length;m++){const y=u[m],C=Mh(y);"number"==typeof C?-1===C?c=y.token:h|=C:c=y}i.push(kn(c,h))}else i.push(kn(u))}return i}function No(r,i){return r[$t]=i,r.prototype[$t]=i,r}function Mh(r){return r[$t]}function jc(r,i,o,u){const c=r[an];throw i[Ms]&&c.unshift(i[Ms]),r.message=function(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=K(i);if(Array.isArray(i))c=i.map(K).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let y=i[m];h.push(m+":"+("string"==typeof y?JSON.stringify(y):K(y)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Rt,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[an]=null,r}const zr=No(ai("Inject",r=>({token:r})),-1),cs=No(ai("Optional"),8),or=No(ai("SkipSelf"),4);let pl;function Ia(r){var i;return(null===(i=function(){if(void 0===pl&&(pl=null,Qe.trustedTypes))try{pl=Qe.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return pl}())||void 0===i?void 0:i.createHTML(r))||r}class So{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kr extends So{getTypeName(){return"HTML"}}class Mo extends So{getTypeName(){return"Style"}}class Yp extends So{getTypeName(){return"Script"}}class I0 extends So{getTypeName(){return"URL"}}class N0 extends So{getTypeName(){return"ResourceURL"}}function xs(r){return r instanceof So?r.changingThisBreaksApplicationSecurity:r}function _l(r,i){const o=yl(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}function yl(r){return r instanceof So&&r.getTypeName()||null}function zc(r){return new kr(r)}function e_(r){return new Mo(r)}function Lh(r){return new Yp(r)}function t_(r){return new I0(r)}function A0(r){return new N0(r)}function Zp(r){const i=new M0(r);return function(){try{return!!(new window.DOMParser).parseFromString(Ia(""),"text/html")}catch(r){return!1}}()?new S0(i):i}class S0{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(Ia(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class M0{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(i){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ia(i),o;const u=this.inertDocument.createElement("body");return u.innerHTML=Ia(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(i){const o=i.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&i.removeAttribute(m)}let u=i.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const k0=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yc=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $i(r){return(r=String(r)).match(k0)||r.match(Yc)?r:"unsafe:"+r}function vu(r){return(r=String(r)).split(",").map(i=>$i(i.trim())).join(", ")}function Yr(r){const i={};for(const o of r.split(","))i[o]=!0;return i}function bu(...r){const i={};for(const o of r)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const vl=Yr("area,br,col,hr,img,wbr"),Cu=Yr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vh=Yr("rp,rt"),Zc=bu(vl,bu(Cu,Yr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bu(Vh,Yr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bu(Vh,Cu)),Kp=Yr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ro=Yr("srcset"),qc=bu(Kp,Ro,Yr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qp=Yr("script,style,template");class wu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Zc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Qp.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const h=u.item(c),m=h.name,y=m.toLowerCase();if(!qc.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let C=h.value;Kp[y]&&(C=$i(C)),Ro[y]&&(C=vu(C)),this.buf.push(" ",m,'="',ko(C),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Zc.hasOwnProperty(o)&&!vl.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(ko(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Kc=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P0=/([^\#-~ |!])/g;function ko(r){return r.replace(/&/g,"&amp;").replace(Kc,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(P0,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Na;function Aa(r,i){let o=null;try{Na=Na||Zp(r);let u=i?String(i):"";o=Na.getInertBodyElement(u);let c=5,h=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=h,h=o.innerHTML,o=Na.getInertBodyElement(u)}while(u!==h);return Ia((new wu).sanitizeChildren(Os(o)||o))}finally{if(o){const u=Os(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Os(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var ln=(()=>((ln=ln||{})[ln.NONE=0]="NONE",ln[ln.HTML=1]="HTML",ln[ln.STYLE=2]="STYLE",ln[ln.SCRIPT=3]="SCRIPT",ln[ln.URL=4]="URL",ln[ln.RESOURCE_URL=5]="RESOURCE_URL",ln))();function Jc(r){const i=function(){const r=_e();return r&&r[12]}();return i?i.sanitize(ln.URL,r)||"":_l(r,"URL")?xs(r):$i(ee(r))}const tg="__ngContext__";function xr(r,i){r[tg]=i}function ed(r){const i=function(r){return r[tg]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Cl(r){return r.ngOriginalError}function Nu(r,...i){r.error(...i)}class xo{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=this._findContext(i),c=(r=i)&&r.ngErrorLogger||Nu;var r;c(this._console,"ERROR",i),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(i){return i?i.ngDebugContext||this._findContext(Cl(i)):null}_findOriginalError(i){let o=i&&Cl(i);for(;o&&Cl(o);)o=Cl(o);return o||null}}const Zh=/^>|^->|<!--|-->|--!>|<!-$/g,Ps=/(<|>)/;const Kh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qe))();function ui(r){return r instanceof Function?r():r}var _=(()=>((_=_||{})[_.Important=1]="Important",_[_.DashCase=2]="DashCase",_))();let f;function p(r,i){return f(r,i)}function S(r){const i=r[3];return Yn(i)?i[3]:i}function Ne(r){return Oe(r[13])}function we(r){return Oe(r[4])}function Oe(r){for(;null!==r&&!Yn(r);)r=r[4];return r}function at(r,i,o,u,c){if(null!=u){let h,m=!1;Yn(u)?h=u:qt(u)&&(m=!0,u=u[0]);const y=Lt(u);0===r&&null!==o?null==c?B0(i,o,y):Ru(i,o,y,c||null,!0):1===r&&null!==o?Ru(i,o,y,c||null,!0):2===r?z0(i,y,m):3===r&&i.destroyNode(y),null!=h&&function(r,i,o,u,c){const h=o[7];h!==Lt(o)&&at(i,r,u,h,c);for(let y=10;y<o.length;y++){const C=o[y];rf(C[1],C,r,i,u,h)}}(i,r,h,o,c)}}function jn(r,i){return Ht(r)?r.createText(i):r.createTextNode(i)}function Po(r,i,o){Ht(r)?r.setValue(i,o):i.textContent=o}function Qh(r,i){return r.createComment(function(r){return r.replace(Zh,i=>i.replace(Ps,"\u200b$1\u200b"))}(i))}function wl(r,i,o){return Ht(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function ef(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,aa(c,-1)),o.splice(u,1)}function tf(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&ef(c,u),i>0&&(r[o-1][4]=u[4]);const h=Ft(r,10+i);!function(r,i){rf(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const m=h[19];null!==m&&m.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function od(r,i){if(!(256&i[2])){const o=i[11];Ht(o)&&o.destroyNode&&rf(r,i,o,3,null,null),function(r){let i=r[13];if(!i)return nf(r[1],r);for(;i;){let o=null;if(qt(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)qt(i)&&nf(i[1],i),i=i[3];null===i&&(i=r),qt(i)&&nf(i[1],i),o=i&&i[4]}i=o}}(i)}}function nf(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof vo)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const y=c[h[m]],C=h[m+1];try{C.call(y)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],y="function"==typeof m?m(i):Lt(i[m]),C=u[c=o[h+2]],D=o[h+3];"boolean"==typeof D?y.removeEventListener(o[h],C,D):D>=0?u[c=D]():u[c=-D].unsubscribe(),h+=2}else{const m=u[c=o[h+1]];o[h].call(m)}if(null!==u){for(let h=c+1;h<u.length;h++)u[h]();i[7]=null}}(r,i),1===i[1].type&&Ht(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Yn(i[3])){o!==i[3]&&ef(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function V0(r,i,o){return Mu(r,i.parent,o)}function Mu(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===Se.None||c===Se.Emulated)return null}return Sr(u,o)}function Ru(r,i,o,u,c){Ht(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function B0(r,i,o){Ht(r)?r.appendChild(i,o):i.appendChild(o)}function U0(r,i,o,u,c){null!==u?Ru(r,i,o,u,c):B0(r,i,o)}function cg(r,i){return Ht(r)?r.parentNode(i):i.parentNode}function H0(r,i,o){return j0(r,i,o)}function $0(r,i,o){return 40&r.type?Sr(r,o):null}let g_,j0=$0;function G0(r,i){j0=r,g_=i}function dg(r,i,o,u){const c=V0(r,u,i),h=i[11],y=H0(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let C=0;C<o.length;C++)U0(h,c,o[C],y,!1);else U0(h,c,o,y,!1);void 0!==g_&&g_(h,u,i,o,c)}function hg(r,i){if(null!==i){const o=i.type;if(3&o)return Sr(i,r);if(4&o)return m_(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return hg(r,u);{const c=r[i.index];return Yn(c)?m_(-1,c):Lt(c)}}if(32&o)return p(i,r)()||Lt(r[i.index]);{const u=W0(r,i);return null!==u?Array.isArray(u)?u[0]:hg(S(r[16]),u):hg(r,i.next)}}return null}function W0(r,i){return null!==i?r[16][6].projection[i.projection]:null}function m_(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return hg(u,c)}return i[7]}function z0(r,i,o){const u=cg(r,i);u&&function(r,i,o,u){Ht(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}function __(r,i,o,u,c,h,m){for(;null!=o;){const y=u[o.index],C=o.type;if(m&&0===i&&(y&&xr(Lt(y),u),o.flags|=4),64!=(64&o.flags))if(8&C)__(r,i,o.child,u,c,h,!1),at(i,r,c,y,h);else if(32&C){const D=p(o,u);let N;for(;N=D();)at(i,r,c,N,h);at(i,r,c,y,h)}else 16&C?Y0(r,i,u,o,c,h):at(i,r,c,y,h);o=m?o.projectionNext:o.next}}function rf(r,i,o,u,c,h){__(o,u,r.firstChild,i,c,h,!1)}function Y0(r,i,o,u,c,h){const m=o[16],C=m[6].projection[u.projection];if(Array.isArray(C))for(let D=0;D<C.length;D++)at(i,r,c,C[D],h);else __(r,i,C,m[3],c,h,!0)}function Z0(r,i,o){Ht(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function y_(r,i,o){Ht(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function q0(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||r.charCodeAt(c+h)<=32)return c}o=c+1}}const K0="ng-template";function zE(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==q0(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function J0(r){return 4===r.type&&r.value!==K0}function YE(r,i,o){return i===(4!==r.type||o?r.value:K0)}function ZE(r,i,o){let u=4;const c=r.attrs||[],h=function(r){for(let i=0;i<r.length;i++)if(wh(r[i]))return i;return r.length}(c);let m=!1;for(let y=0;y<i.length;y++){const C=i[y];if("number"!=typeof C){if(!m)if(4&u){if(u=2|1&u,""!==C&&!YE(r,C,o)||""===C&&1===i.length){if(Ls(u))return!1;m=!0}}else{const D=8&u?C:i[++y];if(8&u&&null!==r.attrs){if(!zE(r.attrs,D,o)){if(Ls(u))return!1;m=!0}continue}const R=qE(8&u?"class":C,c,J0(r),o);if(-1===R){if(Ls(u))return!1;m=!0;continue}if(""!==D){let k;k=R>h?"":c[R+1].toLowerCase();const H=8&u?k:null;if(H&&-1!==q0(H,D,0)||2&u&&D!==k){if(Ls(u))return!1;m=!0}}}}else{if(!m&&!Ls(u)&&!Ls(C))return!1;if(m&&Ls(C))continue;m=!1,u=C|1&u}}return Ls(u)||m}function Ls(r){return 0==(1&r)}function qE(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let h=!1;for(;c<i.length;){const m=i[c];if(m===r)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let y=i[++c];for(;"string"==typeof y;)y=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function Q0(r,i,o=!1){for(let u=0;u<i.length;u++)if(ZE(r,i[u],o))return!0;return!1}function XE(r,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(r.length===u.length){for(let c=0;c<r.length;c++)if(r[c]!==u[c])continue e;return!0}}return!1}function X0(r,i){return r?":not("+i.trim()+")":i}function eD(r){let i=r[0],o=1,u=2,c="",h=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&u){const y=r[++o];c+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!Ls(m)&&(i+=X0(h,c),c=""),u=m,h=h||!Ls(u);o++}return""!==c&&(i+=X0(h,c)),i}const tt={};function eb(r){tb(ot(),_e(),Vn()+r,fo())}function tb(r,i,o,u){if(!u)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&is(i,h,o)}else{const h=r.preOrderHooks;null!==h&&ga(i,h,0,o)}_o(o)}function fg(r,i){return r<<17|i<<2}function Vs(r){return r>>17&32767}function v_(r){return 2|r}function Sa(r){return(131068&r)>>2}function b_(r,i){return-131069&r|i<<2}function C_(r){return 1|r}function ad(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],h=o[u+1];if(-1!==h){const m=r.data[h];go(c),m.contentQueries(2,i[h],h)}}}function un(r,i,o,u,c,h,m,y,C,D){const N=i.blueprint.slice();return N[0]=c,N[2]=140|u,oa(N),N[3]=N[15]=r,N[8]=o,N[10]=m||r&&r[10],N[11]=y||r&&r[11],N[12]=C||r&&r[12]||null,N[9]=D||r&&r[9]||null,N[6]=h,N[16]=2==i.type?r[16]:N,N}function Xt(r,i,o,u,c){let h=r.data[i];if(null===h)h=Fo(r,i,o,u,c),ze.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const m=Ei();h.injectorIndex=null===m?-1:m.injectorIndex}return rr(h,!0),h}function Fo(r,i,o,u,c){const h=rl(),m=ho(),C=r.data[i]=function(r,i,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=C),null!==h&&(m?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}function Bs(r,i,o,u){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function sf(r,i,o){Ns(i);try{const u=r.viewQuery;null!==u&&ud(1,u,o);const c=r.template;null!==c&&xu(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&ad(r,i),r.staticViewQueries&&ud(2,r.viewQuery,o);const h=r.components;null!==h&&function(r,i){for(let o=0;o<i.length;o++)bb(r,i[o])}(i,h)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,xi()}}function ku(r,i,o,u){const c=i[2];if(256==(256&c))return;Ns(i);const h=fo();try{oa(i),function(r){ze.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&xu(r,i,o,2,u);const m=3==(3&c);if(!h)if(m){const D=r.preOrderCheckHooks;null!==D&&is(i,D,null)}else{const D=r.preOrderHooks;null!==D&&ga(i,D,0,null),pn(i,0)}if(function(r){for(let i=Ne(r);null!==i;i=we(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],h=c[3];0==(1024&c[2])&&aa(h,1),c[2]|=1024}}}(i),function(r){for(let i=Ne(r);null!==i;i=we(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];Xa(u)&&ku(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&ad(r,i),!h)if(m){const D=r.contentCheckHooks;null!==D&&is(i,D)}else{const D=r.contentHooks;null!==D&&ga(i,D,1),pn(i,1)}!function(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)_o(~c);else{const h=c,m=o[++u],y=o[++u];da(m,h),y(2,i[h])}}}finally{_o(-1)}}(r,i);const y=r.components;null!==y&&function(r,i){for(let o=0;o<i.length;o++)CD(r,i[o])}(i,y);const C=r.viewQuery;if(null!==C&&ud(2,C,u),!h)if(m){const D=r.viewCheckHooks;null!==D&&is(i,D)}else{const D=r.viewHooks;null!==D&&ga(i,D,2),pn(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,aa(i[3],-1))}finally{xi()}}function cD(r,i,o,u){const c=i[10],h=!fo(),m=Qa(i);try{h&&!m&&c.begin&&c.begin(),m&&sf(r,i,u),ku(r,i,o,u)}finally{h&&!m&&c.end&&c.end()}}function xu(r,i,o,u,c){const h=Vn(),m=2&u;try{_o(-1),m&&i.length>20&&tb(r,i,20,fo()),o(u,c)}finally{_o(h)}}function cb(r,i,o){if(fc(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const m=r.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function vg(r,i,o){!la()||(function(r,i,o,u){const c=o.directiveStart,h=o.directiveEnd;r.firstCreatePass||_a(o,i),xr(u,i);const m=o.initialInputs;for(let y=c;y<h;y++){const C=r.data[y],D=ei(C);D&&vD(i,o,C);const N=ya(i,r,y,o);xr(N,i),null!==m&&tS(0,y-c,N,C,0,m),D&&(Zn(o.index,i)[8]=N)}}(r,i,o,Sr(o,i)),128==(128&o.flags)&&function(r,i,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,y=ze.lFrame.currentDirectiveIndex;try{_o(m);for(let C=u;C<c;C++){const D=r.data[C],N=i[C];ha(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Eg(D,N)}}finally{_o(-1),ha(y)}}(r,i,o))}function bg(r,i,o=Sr){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],y=-1===m?o(i,r):r[m];r[c++]=y}}}function ar(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Cg(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Cg(r,i,o,u,c,h,m,y,C,D){const N=20+u,R=N+c,k=function(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:tt);return o}(N,R),H="function"==typeof D?D():D;return k[1]={type:r,blueprint:k,template:o,queries:null,viewQuery:y,declTNode:i,data:k.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:R,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:H,incompleteFirstPass:!1}}function ld(r,i,o,u){const c=Tb(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&Ou(r).push(u,c.length-1))}function fb(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function ji(r,i,o,u,c,h,m,y){const C=Sr(i,o);let N,D=i.inputs;!y&&null!=D&&(N=D[u])?(Nb(r,o,N,u,c),Xo(i)&&function(r,i){const o=Zn(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=m?m(c,i.value||"",u):c,Ht(h)?h.setProperty(C,u,c):Pi(u)||(C.setProperty?C.setProperty(u,c):C[u]=c))}function wg(r,i,o,u){let c=!1;if(la()){const h=function(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let h=0;h<u.length;h++){const m=u[h];Q0(o,m.selectors,!1)&&(c||(c=[]),Be(_a(o,i),r,m.type),ei(m)?(yb(r,o),c.unshift(m)):c.push(m))}return c}(r,i,o),m=null===u?null:{"":-1};if(null!==h){c=!0,yD(o,r.data.length,h.length);for(let N=0;N<h.length;N++){const R=h[N];R.providersResolver&&R.providersResolver(R)}let y=!1,C=!1,D=Bs(r,i,h.length,null);for(let N=0;N<h.length;N++){const R=h[N];o.mergedAttrs=al(o.mergedAttrs,R.hostAttrs),R_(r,o,i,D,R),_D(D,R,m),null!==R.contentQueries&&(o.flags|=8),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(o.flags|=128);const k=R.type.prototype;!y&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),y=!0),!C&&(k.ngOnChanges||k.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),C=!0),D++}!function(r,i){const u=i.directiveEnd,c=r.data,h=i.attrs,m=[];let y=null,C=null;for(let D=i.directiveStart;D<u;D++){const N=c[D],R=N.inputs,k=null===h||J0(i)?null:of(R,h);m.push(k),y=fb(R,D,y),C=fb(N.outputs,D,C)}null!==y&&(y.hasOwnProperty("class")&&(i.flags|=16),y.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=m,i.inputs=y,i.outputs=C}(r,o)}m&&function(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new Ee("301",`Export of name '${i[c+1]}' not found!`);u.push(i[c],h)}}}(o,u,m)}return o.mergedAttrs=al(o.mergedAttrs,o.attrs),c}function mb(r,i,o,u,c,h){const m=h.hostBindings;if(m){let y=r.hostBindingOpCodes;null===y&&(y=r.hostBindingOpCodes=[]);const C=~i.index;(function(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(y)!=C&&y.push(C),y.push(u,c,m)}}function Eg(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function yb(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function _D(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;ei(i)&&(o[""]=r)}}function yD(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function R_(r,i,o,u,c){r.data[u]=c;const h=c.factory||(c.factory=bi(c.type)),m=new vo(h,ei(c),null);r.blueprint[u]=m,o[u]=m,mb(r,i,0,u,Bs(r,o,c.hostVars,tt),c)}function vD(r,i,o){const u=Sr(i,r),c=ar(o),h=r[10],m=Lo(r,un(r,c,null,o.onPush?64:16,u,i,h,h.createRenderer(u,o),null,null));r[i.index]=m}function Dg(r,i,o,u,c,h,m){if(null==h)Ht(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const y=null==m?ee(h):m(h,u||"",c);Ht(r)?r.setAttribute(i,c,y,o):o?i.setAttributeNS(o,c,y):i.setAttribute(c,y)}}function tS(r,i,o,u,c,h){const m=h[i];if(null!==m){const y=u.setInput;for(let C=0;C<m.length;){const D=m[C++],N=m[C++],R=m[C++];null!==y?u.setInput(o,R,D,N):o[N]=R}}}function of(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function af(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function CD(r,i){const o=Zn(i,r);if(Xa(o)){const u=o[1];80&o[2]?ku(u,o,u.template,o[8]):o[5]>0&&k_(o)}}function k_(r){for(let u=Ne(r);null!==u;u=we(u))for(let c=10;c<u.length;c++){const h=u[c];if(1024&h[2]){const m=h[1];ku(m,h,m.template,h[8])}else h[5]>0&&k_(h)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Zn(o[u],r);Xa(c)&&c[5]>0&&k_(c)}}function bb(r,i){const o=Zn(i,r),u=o[1];(function(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),sf(u,o,o[8])}function Lo(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Cb(r){for(;r;){r[2]|=64;const i=S(r);if(ti(r)&&!i)return r;r=i}return null}function Eb(r,i,o){const u=i[10];u.begin&&u.begin();try{ku(r,i,r.template,o)}catch(c){throw Ib(i,c),c}finally{u.end&&u.end()}}function O_(r){!function(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=ed(o),c=u[1];cD(c,u,c.template,o)}}(r[8])}function ud(r,i,o){go(0),i(r,o)}const Tg=(()=>Promise.resolve(null))();function Tb(r){return r[7]||(r[7]=[])}function Ou(r){return r.cleanup||(r.cleanup=[])}function Ib(r,i){const o=r[9],u=o?o.get(xo,null):null;u&&u.handleError(i)}function Nb(r,i,o,u,c){for(let h=0;h<o.length;){const m=o[h++],y=o[h++],C=i[m],D=r.data[m];null!==D.setInput?D.setInput(C,c,u,y):C[y]=c}}function cd(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const y=i[m];"number"==typeof y?h=y:1==h?c=Y(c,y):2==h&&(u=Y(u,y+": "+i[++m]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const dd=new Yt("INJECTOR",-1);class Ab{get(i,o=pt){if(o===pt){const u=new Error(`NullInjectorError: No provider for ${K(i)}!`);throw u.name="NullInjectorError",u}return o}}const lf=new Yt("Set Injector scope."),uf={},TD={};let Ra;function Sb(){return void 0===Ra&&(Ra=new Ab),Ra}function Pu(r,i=null,o=null,u){return new L_(r,o,i||Sb(),u)}class L_{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&Di(o,y=>this.processProvider(y,i,o)),Di([i],y=>this.processInjectorType(y,[],h)),this.records.set(dd,Fu(void 0,this));const m=this.records.get(lf);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof i?null:K(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=pt,u=Fe.Default){this.assertNotDestroyed();const c=Ui(this),h=pr(void 0);try{if(!(u&Fe.SkipSelf)){let y=this.records.get(i);if(void 0===y){const C=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Yt)&&Fn(i);y=C&&this.injectableDefInScope(C)?Fu(V_(i),uf):null,this.records.set(i,y)}if(null!=y)return this.hydrate(i,y)}return(u&Fe.Self?Sb():this.parent).get(i,o=u&Fe.Optional&&o===pt?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[an]=m[an]||[]).unshift(K(i)),c)throw m;return jc(m,i,"R3InjectorError",this.source)}throw m}finally{pr(h),Ui(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(K(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,o,u){if(!(i=G(i)))return!1;let c=Jr(i);const h=null==c&&i.ngModule||void 0,m=void 0===h?i:h,y=-1!==u.indexOf(m);if(void 0!==h&&(c=Jr(h)),null==c)return!1;if(null!=c.imports&&!y){let N;u.push(m);try{Di(c.imports,R=>{this.processInjectorType(R,o,u)&&(void 0===N&&(N=[]),N.push(R))})}finally{}if(void 0!==N)for(let R=0;R<N.length;R++){const{ngModule:k,providers:H}=N[R];Di(H,Z=>this.processProvider(Z,k,H||$))}}this.injectorDefTypes.add(m);const C=bi(m)||(()=>new m);this.records.set(m,Fu(C,uf));const D=c.providers;if(null!=D&&!y){const N=i;Di(D,R=>this.processProvider(R,N,D))}return void 0!==h&&void 0!==i.providers}processProvider(i,o,u){let c=hd(i=G(i))?i:G(i&&i.provide);const h=_t(r=i)?Fu(void 0,r.useValue):Fu(Mb(r),uf);var r;if(hd(i)||!0!==i.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=Fu(void 0,uf,!0),m.factory=()=>Da(m.multi),this.records.set(c,m)),c=i,m.multi.push(i)}this.records.set(c,h)}hydrate(i,o){return o.value===uf&&(o.value=TD,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(r=o.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const o=G(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function V_(r){const i=Fn(r),o=null!==i?i.factory:bi(r);if(null!==o)return o;if(r instanceof Yt)throw new Error(`Token ${K(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const u=Vi(i,"?");throw new Error(`Can't resolve all parameters for ${K(r)}: (${u.join(", ")}).`)}const o=function(r){const i=r&&(r[vi]||r[Hn]);if(i){const o=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Error("unreachable")}function Mb(r,i,o){let u;if(hd(r)){const c=G(r);return bi(c)||V_(c)}if(_t(r))u=()=>G(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...Da(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))u=()=>kn(G(r.useExisting));else{const c=G(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return bi(c)||V_(c);u=()=>new c(...Da(r.deps))}return u}function Fu(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function _t(r){return null!==r&&"object"==typeof r&&Wr in r}function hd(r){return"function"==typeof r}const kb=function(r,i,o){return function(r,i=null,o=null,u){const c=Pu(r,i,o,u);return c._resolveInjectorDefTypes(),c}({name:o},i,r,o)};let xn=(()=>{class r{static create(o,u){return Array.isArray(o)?kb(o,u,""):kb(o.providers,o.parent,o.name||"")}}return r.THROW_IF_NOT_FOUND=pt,r.NULL=new Ab,r.\u0275prov=Wt({token:r,providedIn:"any",factory:()=>kn(dd)}),r.__NG_ELEMENT_ID__=-1,r})();function $D(r,i){ol(ed(r)[1],Gt())}function Vu(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(ei(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(o){u.push(c);const m=r;m.inputs=Mg(r.inputs),m.declaredInputs=Mg(r.declaredInputs),m.outputs=Mg(r.outputs);const y=c.hostBindings;y&&zD(r,y);const C=c.viewQuery,D=c.contentQueries;if(C&&GD(r,C),D&&WD(r,D),oe(r.inputs,c.inputs),oe(r.declaredInputs,c.declaredInputs),oe(r.outputs,c.outputs),ei(c)&&c.data.animation){const N=r.data;N.animation=(N.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const y=h[m];y&&y.ngInherit&&y(r),y===Vu&&(o=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=al(c.hostAttrs,o=al(o,c.hostAttrs))}}(u)}function Mg(r){return r===z?{}:r===$?[]:r}function GD(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function WD(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,h)=>{i(u,c,h),o(u,c,h)}:i}function zD(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let Tl=null;function ka(){if(!Tl){const r=Qe.Symbol;if(r&&r.iterator)Tl=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Tl=u)}}}return Tl}class Ni{constructor(i){this.wrapped=i}static wrap(i){return new Ni(i)}static unwrap(i){return Ni.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof Ni}}function Us(r){return!!$b(r)&&(Array.isArray(r)||!(r instanceof Map)&&ka()in r)}function $b(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function xa(r,i,o){return r[i]=o}function ci(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function pd(r,i,o,u){const c=ci(r,i,o);return ci(r,i+1,u)||c}function jb(r,i,o,u){const c=_e();return ci(c,ri(),i)&&(ot(),function(r,i,o,u,c,h){const m=Sr(r,i);Dg(i[11],m,h,r.value,o,u,c)}(sn(),c,r,i,o,u)),jb}function ff(r,i,o,u){return ci(r,ri(),o)?i+ee(o)+u:tt}function mf(r,i,o,u,c,h,m,y,C,D){const R=function(r,i,o,u,c,h){const m=pd(r,i,o,u);return pd(r,i+2,c,h)||m}(r,$r(),o,c,m,C);return ir(4),R?i+ee(o)+u+ee(c)+h+ee(m)+y+ee(C)+D:tt}function Gb(r,i,o,u,c,h,m,y){const C=_e(),D=ot(),N=r+20,R=D.firstCreatePass?function(r,i,o,u,c,h,m,y,C){const D=i.consts,N=Xt(i,r,4,m||null,vn(D,y));wg(i,o,N,vn(D,C)),ol(i,N);const R=N.tViews=Cg(2,N,u,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,D);return null!==i.queries&&(i.queries.template(i,N),R.queries=i.queries.embeddedTView(N)),N}(N,D,C,i,o,u,c,h,m):D.data[N];rr(R,!1);const k=C[11].createComment("");dg(D,C,k,R),xr(k,C),Lo(C,C[N]=af(k,C,k,R)),vr(R)&&vg(D,C,R),null!=m&&bg(C,R,y)}function J_(r){return ns(ze.lFrame.contextLView,20+r)}function _d(r,i=Fe.Default){const o=_e();return null===o?kn(r,i):Ye(Gt(),o,G(r),i)}function ry(r,i,o){const u=_e();return ci(u,ri(),i)&&ji(ot(),sn(),u,r,i,u[11],o,!1),ry}function iy(r,i,o,u,c){const m=c?"class":"style";Nb(r,o,i.inputs[m],m,u)}function sy(r,i,o,u){const c=_e(),h=ot(),m=20+r,y=c[11],C=c[m]=wl(y,i,ze.lFrame.currentNamespace),D=h.firstCreatePass?function(r,i,o,u,c,h,m){const y=i.consts,D=Xt(i,r,2,c,vn(y,h));return wg(i,o,D,vn(y,m)),null!==D.attrs&&cd(D,D.attrs,!1),null!==D.mergedAttrs&&cd(D,D.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,D),D}(m,h,c,0,i,o,u):h.data[m];rr(D,!0);const N=D.mergedAttrs;null!==N&&kc(y,C,N);const R=D.classes;null!==R&&y_(y,C,R);const k=D.styles;null!==k&&Z0(y,C,k),64!=(64&D.flags)&&dg(h,c,C,D),0===ze.lFrame.elementDepthCount&&xr(C,c),ze.lFrame.elementDepthCount++,vr(D)&&(vg(h,c,D),cb(h,D,c)),null!==u&&bg(c,D)}function oy(){let r=Gt();ho()?ua():(r=r.parent,rr(r,!1));const i=r;ze.lFrame.elementDepthCount--;const o=ot();o.firstCreatePass&&(ol(o,r),fc(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&iy(o,i,_e(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&iy(o,i,_e(),i.stylesWithoutHost,!1)}function ay(r,i,o,u){sy(r,i,o,u),oy()}function fC(r,i,o){const u=_e(),c=ot(),h=r+20,m=c.firstCreatePass?function(r,i,o,u,c){const h=i.consts,m=vn(h,u),y=Xt(i,r,8,"ng-container",m);return null!==m&&cd(y,m,!0),wg(i,o,y,vn(h,c)),null!==i.queries&&i.queries.elementStart(i,y),y}(h,c,u,i,o):c.data[h];rr(m,!0);const y=u[h]=u[11].createComment("");dg(c,u,y,m),xr(y,u),vr(m)&&(vg(c,u,m),cb(c,m,u)),null!=o&&bg(u,m)}function Pg(){let r=Gt();const i=ot();ho()?ua():(r=r.parent,rr(r,!1)),i.firstCreatePass&&(ol(i,r),fc(r)&&i.queries.elementEnd(r))}function pC(){return _e()}function ly(r){return!!r&&"function"==typeof r.then}function gC(r){return!!r&&"function"==typeof r.subscribe}const mC=gC;function Fg(r,i,o,u){const c=_e(),h=ot(),m=Gt();return function(r,i,o,u,c,h,m,y){const C=vr(u),N=r.firstCreatePass&&Ou(r),R=i[8],k=Tb(i);let H=!0;if(3&u.type||y){const ne=Sr(u,i),Te=y?y(ne):ne,fe=k.length,Ue=y?Ke=>y(Lt(Ke[u.index])):u.index;if(Ht(o)){let Ke=null;if(!y&&C&&(Ke=function(r,i,o,u){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===u){const y=i[7],C=c[h+2];return y.length>C?y[C]:null}"string"==typeof m&&(h+=2)}return null}(r,i,c,u.index)),null!==Ke)(Ke.__ngLastListenerFn__||Ke).__ngNextListenerFn__=h,Ke.__ngLastListenerFn__=h,H=!1;else{h=Lg(u,i,R,h,!1);const Dt=o.listen(Te,c,h);k.push(h,Dt),N&&N.push(c,Ue,fe,fe+1)}}else h=Lg(u,i,R,h,!0),Te.addEventListener(c,h,m),k.push(h),N&&N.push(c,Ue,fe,m)}else h=Lg(u,i,R,h,!1);const Z=u.outputs;let ue;if(H&&null!==Z&&(ue=Z[c])){const ne=ue.length;if(ne)for(let Te=0;Te<ne;Te+=2){const fr=i[ue[Te]][ue[Te+1]].subscribe(h),ys=k.length;k.push(h,fr),N&&N.push(c,u.index,ys,-(ys+1))}}}(h,c,c[11],m,r,i,!!o,u),Fg}function fT(r,i,o,u){try{return!1!==o(u)}catch(c){return Ib(r,c),!1}}function Lg(r,i,o,u,c){return function h(m){if(m===Function)return u;const y=2&r.flags?Zn(r.index,i):i;0==(32&i[2])&&Cb(y);let C=fT(i,0,u,m),D=h.__ngNextListenerFn__;for(;D;)C=fT(i,0,D,m)&&C,D=D.__ngNextListenerFn__;return c&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function vC(r=1){return function(r){return(ze.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,ze.lFrame.contextLView))[8]}(r)}function pT(r,i){let o=null;const u=function(r){const i=r.attrs;if(null!=i){const o=i.indexOf(5);if(0==(1&o))return i[o+1]}return null}(r);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===u?Q0(r,h,!0):XE(u,h))return c}else o=c}return o}function uy(r){const i=_e()[16][6];if(!i.projection){const u=i.projection=Vi(r?r.length:1,null),c=u.slice();let h=i.child;for(;null!==h;){const m=r?pT(h,r):0;null!==m&&(c[m]?c[m].projectionNext=h:u[m]=h,c[m]=h),h=h.next}}}function bC(r,i=0,o){const u=_e(),c=ot(),h=Xt(c,20+r,16,null,o||null);null===h.projection&&(h.projection=i),ua(),64!=(64&h.flags)&&function(r,i,o){Y0(i[11],0,i,o,V0(r,o,i),H0(o.parent||i[6],o,i))}(c,u,h)}function Vg(r,i,o){return Bg(r,"",i,"",o),Vg}function Bg(r,i,o,u,c){const h=_e(),m=ff(h,i,o,u);return m!==tt&&ji(ot(),sn(),h,r,m,h[11],c,!1),Bg}function TC(r,i,o,u,c){const h=r[o+1],m=null===i;let y=u?Vs(h):Sa(h),C=!1;for(;0!==y&&(!1===C||m);){const N=r[y+1];vT(r[y],i)&&(C=!0,r[y+1]=u?C_(N):v_(N)),y=u?Vs(N):Sa(N)}C&&(r[o+1]=u?v_(h):C_(h))}function vT(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Io(r,i)>=0}const gn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function IC(r){return r.substring(gn.key,gn.keyEnd)}function Hg(r,i){const o=gn.textEnd;return o===i?-1:(i=gn.keyEnd=function(r,i,o){for(;i<o&&r.charCodeAt(i)>32;)i++;return i}(r,gn.key=i,o),yd(r,i,o))}function yd(r,i,o){for(;i<o&&r.charCodeAt(i)<=32;)i++;return i}function fy(r,i,o){return $s(r,i,o,!1),fy}function Oa(r,i){return $s(r,i,null,!0),Oa}function MC(r){cr(sr,$o,r,!0)}function $o(r,i){for(let o=function(r){return function(r){gn.key=0,gn.keyEnd=0,gn.value=0,gn.valueEnd=0,gn.textEnd=r.length}(r),Hg(r,yd(r,0,gn.textEnd))}(i);o>=0;o=Hg(i,o))sr(r,IC(i),!0)}function $s(r,i,o,u){const c=_e(),h=ot(),m=ir(2);h.firstUpdatePass&&vd(h,r,m,u),i!==tt&&ci(c,m,i)&&xC(h,h.data[Vn()],c,c[11],r,c[m+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=K(xs(r)))),r}(i,o),u,m)}function cr(r,i,o,u){const c=ot(),h=ir(2);c.firstUpdatePass&&vd(c,null,h,u);const m=_e();if(o!==tt&&ci(m,h,o)){const y=c.data[Vn()];if(my(y,u)&&!$g(c,h)){let C=u?y.classesWithoutHost:y.stylesWithoutHost;null!==C&&(o=Y(C,o||"")),iy(c,y,m,o,u)}else!function(r,i,o,u,c,h,m,y){c===tt&&(c=$);let C=0,D=0,N=0<c.length?c[0]:null,R=0<h.length?h[0]:null;for(;null!==N||null!==R;){const k=C<c.length?c[C+1]:void 0,H=D<h.length?h[D+1]:void 0;let ue,Z=null;N===R?(C+=2,D+=2,k!==H&&(Z=R,ue=H)):null===R||null!==N&&N<R?(C+=2,Z=N):(D+=2,Z=R,ue=H),null!==Z&&xC(r,i,o,u,Z,ue,m,y),N=C<c.length?c[C]:null,R=D<h.length?h[D]:null}}(c,y,m,m[11],m[h+1],m[h+1]=function(r,i,o){if(null==o||""===o)return $;const u=[],c=xs(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)r(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&r(u,h,c[h]);else"string"==typeof c&&i(u,c);return u}(r,i,o),u,h)}}function $g(r,i){return i>=r.expandoStartIndex}function vd(r,i,o,u){const c=r.data;if(null===c[o+1]){const h=c[Vn()],m=$g(r,o);my(h,u)&&null===i&&!m&&(i=!1),i=function(r,i,o,u){const c=function(r){const i=ze.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let h=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=wf(o=py(null,r,i,o,u),i.attrs,u),h=null);else{const m=i.directiveStylingLast;if(-1===m||r[m]!==c)if(o=py(c,r,i,o,u),null===h){let C=function(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Sa(u))return r[Vs(u)]}(r,i,u);void 0!==C&&Array.isArray(C)&&(C=py(null,r,i,C[1],u),C=wf(C,i.attrs,u),function(r,i,o,u){r[Vs(o?i.classBindings:i.styleBindings)]=u}(r,i,u,C))}else h=function(r,i,o){let u;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)u=wf(u,r[h].hostAttrs,o);return wf(u,i.attrs,o)}(r,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,u),function(r,i,o,u,c,h){let m=h?i.classBindings:i.styleBindings,y=Vs(m),C=Sa(m);r[u]=o;let N,D=!1;if(Array.isArray(o)){const R=o;N=R[1],(null===N||Io(R,N)>0)&&(D=!0)}else N=o;if(c)if(0!==C){const k=Vs(r[y+1]);r[u+1]=fg(k,y),0!==k&&(r[k+1]=b_(r[k+1],u)),r[y+1]=function(r,i){return 131071&r|i<<17}(r[y+1],u)}else r[u+1]=fg(y,0),0!==y&&(r[y+1]=b_(r[y+1],u)),y=u;else r[u+1]=fg(C,0),0===y?y=u:r[C+1]=b_(r[C+1],u),C=u;D&&(r[u+1]=v_(r[u+1])),TC(r,N,u,!0),TC(r,N,u,!1),function(r,i,o,u,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Io(h,i)>=0&&(o[u+1]=C_(o[u+1]))}(i,N,r,u,h),m=fg(y,C),h?i.classBindings=m:i.styleBindings=m}(c,h,i,o,m,u)}}function py(r,i,o,u,c){let h=null;const m=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<m&&(h=i[y],u=wf(u,h.hostAttrs,c),h!==r);)y++;return null!==r&&(o.directiveStylingLast=y),u}function wf(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?c=m:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),sr(r,m,!!o||i[++h]))}return void 0===r?null:r}function xC(r,i,o,u,c,h,m,y){if(!(3&i.type))return;const C=r.data,D=C[y+1];jg(function(r){return 1==(1&r)}(D)?OC(C,i,o,c,Sa(D),m):void 0)||(jg(h)||function(r){return 2==(2&r)}(D)&&(h=OC(C,null,o,c,y,m)),function(r,i,o,u,c){const h=Ht(r);if(i)c?h?r.addClass(o,u):o.classList.add(u):h?r.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:_.DashCase;if(null==c)h?r.removeStyle(o,u,m):o.style.removeProperty(u);else{const y="string"==typeof c&&c.endsWith("!important");y&&(c=c.slice(0,-10),m|=_.Important),h?r.setStyle(o,u,c,m):o.style.setProperty(u,c,y?"important":"")}}}(u,m,Is(Vn(),o),c,h))}function OC(r,i,o,u,c,h){const m=null===i;let y;for(;c>0;){const C=r[c],D=Array.isArray(C),N=D?C[1]:C,R=null===N;let k=o[c+1];k===tt&&(k=R?$:void 0);let H=R?Bi(k,u):N===u?k:void 0;if(D&&!jg(H)&&(H=Bi(C,u)),jg(H)&&(y=H,m))return y;const Z=r[c+1];c=m?Vs(Z):Sa(Z)}if(null!==i){let C=h?i.residualClasses:i.residualStyles;null!=C&&(y=Bi(C,u))}return y}function jg(r){return void 0!==r}function my(r,i){return 0!=(r.flags&(i?16:32))}function yt(r,i=""){const o=_e(),u=ot(),c=r+20,h=u.firstCreatePass?Xt(u,c,1,i,null):u.data[c],m=o[c]=jn(o[11],i);dg(u,o,m,h),rr(h,!1)}function _y(r){return Pa("",r,""),_y}function Pa(r,i,o){const u=_e(),c=ff(u,r,i,o);return c!==tt&&function(r,i,o){const u=Is(i,r);Po(r[11],u,o)}(u,Vn(),c),Pa}function Gs(r,i,o,u,c,h,m,y,C){cr(sr,$o,mf(_e(),r,i,o,u,c,h,m,y,C),!0)}function Ey(r,i,o){const u=_e();return ci(u,ri(),i)&&ji(ot(),sn(),u,r,i,u[11],o,!0),Ey}const jo=void 0;var YC=["en",[["a","p"],["AM","PM"],jo],[["AM","PM"],jo,jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jo,"{1} 'at' {0}",jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),o=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===o?1:5}];let Cd={};function Dy(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=qC(i);if(o)return o;const u=i.split("-")[0];if(o=qC(u),o)return o;if("en"===u)return YC;throw new Error(`Missing locale data for the locale "${r}".`)}function ZC(r){return Dy(r)[Ze.PluralCase]}function qC(r){return r in Cd||(Cd[r]=Qe.ng&&Qe.ng.common&&Qe.ng.common.locales&&Qe.ng.common.locales[r]),Cd[r]}var Ze=(()=>((Ze=Ze||{})[Ze.LocaleId=0]="LocaleId",Ze[Ze.DayPeriodsFormat=1]="DayPeriodsFormat",Ze[Ze.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ze[Ze.DaysFormat=3]="DaysFormat",Ze[Ze.DaysStandalone=4]="DaysStandalone",Ze[Ze.MonthsFormat=5]="MonthsFormat",Ze[Ze.MonthsStandalone=6]="MonthsStandalone",Ze[Ze.Eras=7]="Eras",Ze[Ze.FirstDayOfWeek=8]="FirstDayOfWeek",Ze[Ze.WeekendRange=9]="WeekendRange",Ze[Ze.DateFormat=10]="DateFormat",Ze[Ze.TimeFormat=11]="TimeFormat",Ze[Ze.DateTimeFormat=12]="DateTimeFormat",Ze[Ze.NumberSymbols=13]="NumberSymbols",Ze[Ze.NumberFormats=14]="NumberFormats",Ze[Ze.CurrencyCode=15]="CurrencyCode",Ze[Ze.CurrencySymbol=16]="CurrencySymbol",Ze[Ze.CurrencyName=17]="CurrencyName",Ze[Ze.Currencies=18]="Currencies",Ze[Ze.Directionality=19]="Directionality",Ze[Ze.PluralCase=20]="PluralCase",Ze[Ze.ExtraData=21]="ExtraData",Ze))();const KC=["zero","one","two","few","many"],wd="en-US",Sl={marker:"element"},If={marker:"ICU"};var Pn=(()=>((Pn=Pn||{})[Pn.SHIFT=2]="SHIFT",Pn[Pn.APPEND_EAGERLY=1]="APPEND_EAGERLY",Pn[Pn.COMMENT=2]="COMMENT",Pn))();let ju=wd;function Zg(r){(function(r,i){null==r&&St(i,r,null,"!=")})(r,"Expected localeId to be defined"),"string"==typeof r&&(ju=r.toLowerCase().replace(/_/g,"-"))}function Nf(r,i,o){const u=i.insertBeforeIndex,c=Array.isArray(u)?u[0]:u;return null===c?$0(r,0,o):Lt(o[c])}function Ny(r,i,o,u,c){const h=i.insertBeforeIndex;if(Array.isArray(h)){let m=u,y=null;if(3&i.type||(y=m,m=c),null!==m&&0==(2&i.flags))for(let C=1;C<h.length;C++)Ru(r,m,o[h[C]],y,!1)}}function qg(r,i){if(r.push(i),r.length>1)for(let o=r.length-2;o>=0;o--){const u=r[o];Ay(u)||Sy(u,i)&&null===My(u)&&VT(u,i.index)}}function Ay(r){return!(64&r.type)}function Sy(r,i){return Ay(i)||r.index>i.index}function My(r){const i=r.insertBeforeIndex;return Array.isArray(i)?i[0]:i}function VT(r,i){const o=r.insertBeforeIndex;Array.isArray(o)?o[0]=i:(G0(Nf,Ny),r.insertBeforeIndex=i)}function Ml(r,i){const o=r.data[i];return null===o||"string"==typeof o?null:o.hasOwnProperty("currentCaseLViewIndex")?o:o.value}function UT(r,i,o){const u=Fo(r,o,64,null,null);return qg(i,u),u}function Kg(r,i){const o=i[r.currentCaseLViewIndex];return null===o?o:o<0?~o:o}function Af(r){return r>>>17}function Ed(r){return(131070&r)>>>1}let Dd=0,Sf=0;function XC(r,i,o,u){const c=o[11];let m,h=null;for(let y=0;y<i.length;y++){const C=i[y];if("string"==typeof C){const D=i[++y];null===o[D]&&(o[D]=jn(c,C))}else if("number"==typeof C)switch(1&C){case 0:const D=Af(C);let N,R;if(null===h&&(h=D,m=cg(c,u)),D===h?(N=u,R=m):(N=null,R=Lt(o[D])),null!==R){const ue=Ed(C);Ru(c,R,o[ue],N,!1);const Te=Ml(r,ue);if(null!==Te&&"object"==typeof Te){const fe=Kg(Te,o);null!==fe&&XC(r,Te.create[fe],o,o[Te.anchorIdx])}}break;case 1:const H=i[++y],Z=i[++y];Dg(c,Is(C>>>1,o),null,null,H,Z,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${C}"`)}else switch(C){case If:const D=i[++y],N=i[++y];null===o[N]&&xr(o[N]=Qh(c,D),o);break;case Sl:const R=i[++y],k=i[++y];null===o[k]&&xr(o[k]=wl(c,R,null),o)}}}function ky(r,i,o,u,c){for(let h=0;h<o.length;h++){const m=o[h],y=o[++h];if(m&c){let C="";for(let D=h+1;D<=h+y;D++){const N=o[D];if("string"==typeof N)C+=N;else if("number"==typeof N)if(N<0)C+=ee(i[u-N]);else{const R=N>>>2;switch(3&N){case 1:const k=o[++D],H=o[++D],Z=r.data[R];"string"==typeof Z?Dg(i[11],i[R],null,Z,k,C,H):ji(r,Z,i,k,C,i[11],H,!1);break;case 0:const ue=i[R];null!==ue&&Po(i[11],ue,C);break;case 2:jT(r,Ml(r,R),i,C);break;case 3:Mf(r,Ml(r,R),u,i)}}}}else{const C=o[h+1];if(C>0&&3==(3&C)){const N=Ml(r,C>>>2);i[N.currentCaseLViewIndex]<0&&Mf(r,N,u,i)}}h+=y}}function Mf(r,i,o,u){let c=u[i.currentCaseLViewIndex];if(null!==c){let h=Dd;c<0&&(c=u[i.currentCaseLViewIndex]=~c,h=-1),ky(r,u,i.update[c],o,h)}}function jT(r,i,o,u){const c=function(r,i){let o=r.cases.indexOf(i);if(-1===o)switch(r.type){case 1:{const u=function(r,i){const o=ZC(i)(parseInt(r,10)),u=KC[o];return void 0!==u?u:"other"}(i,ju);o=r.cases.indexOf(u),-1===o&&"other"!==u&&(o=r.cases.indexOf("other"));break}case 0:o=r.cases.indexOf("other")}return-1===o?null:o}(i,u);if(Kg(i,o)!==c&&(Qg(r,i,o),o[i.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const m=o[i.anchorIdx];m&&XC(r,i.create[c],o,m)}}function Qg(r,i,o){let u=Kg(i,o);if(null!==u){const c=i.remove[u];for(let h=0;h<c.length;h++){const m=c[h];if(m>0){const y=Is(m,o);null!==y&&z0(o[11],y)}else Qg(r,Ml(r,~m),o)}}}function ew(){const r=[];let o,u,i=-1;function h(y,C){i=0;const D=Kg(y,C);u=null!==D?y.remove[D]:$}function m(){if(i<u.length){const y=u[i++];return y>0?o[y]:(r.push(i,u),h(o[1].data[~y],o),m())}return 0===r.length?null:(u=r.pop(),i=r.pop(),m())}return function(y,C){for(o=C;r.length;)r.pop();return h(y.value,C),m}}const Td=/\ufffd(\d+):?\d*\ufffd/gi,YT=/\ufffd(\d+)\ufffd/,kl=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ZT=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,qT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,KT=/\uE500/g;function xy(r,i,o,u,c,h,m){const y=Bs(r,u,1,null);let C=y<<Pn.SHIFT,D=Ei();i===D&&(D=null),null===D&&(C|=Pn.APPEND_EAGERLY),m&&(C|=Pn.COMMENT,function(r){void 0===f&&(f=r())}(ew)),c.push(C,null===h?"":h);const N=Fo(r,y,m?32:1,null===h?"":h,null);qg(o,N);const R=N.index;return rr(N,!1),null!==D&&i!==D&&function(r,i){let o=r.insertBeforeIndex;null===o?(G0(Nf,Ny),o=r.insertBeforeIndex=[null,i]):(function(r,i,o){r!=i&&St(o,r,i,"==")}(Array.isArray(o),!0,"Expecting array here"),o.push(i))}(D,R),N}function nw(r,i,o,u,c,h,m){const y=m.match(Td),C=xy(r,i,o,h,u,y?null:m,!1);y&&Id(c,m,C.index,null,0,null)}function Id(r,i,o,u,c,h){const m=r.length,y=m+1;r.push(null,null);const C=m+2,D=i.split(Td);let N=0;for(let R=0;R<D.length;R++){const k=D[R];if(1&R){const H=c+parseInt(k,10);r.push(-1-H),N|=Gi(H)}else""!==k&&r.push(k)}return r.push(o<<2|(u?1:0)),u&&r.push(u,h),r[m]=N,r[y]=r.length-C,N}function Gi(r){return 1<<Math.min(r,31)}function Py(r){let i,h,o="",u=0,c=!1;for(;null!==(i=ZT.exec(r));)c?i[0]===`\ufffd/*${h}\ufffd`&&(u=i.index,c=!1):(o+=r.substring(u,i.index+i[0].length),h=i[1],c=!0);return o+=r.substr(u),o}function Of(r,i,o,u,c,h){let m=0;const y={type:c.type,currentCaseLViewIndex:Bs(r,i,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function(r,i,o){r.push(Gi(i.mainBinding),2,-1-i.mainBinding,o<<2|2)})(o,c,h),function(r,i,o){const u=r.data[i];null===u?r.data[i]=o:u.value=o}(r,h,y);const C=c.values;for(let D=0;D<C.length;D++){const N=C[D],R=[];for(let k=0;k<N.length;k++){const H=N[k];if("string"!=typeof H){const Z=R.push(H)-1;N[k]=`\x3c!--\ufffd${Z}\ufffd--\x3e`}}m=XT(r,y,i,o,u,c.cases[D],N.join(""),R)|m}m&&function(r,i,o){r.push(i,1,o<<2|3)}(o,m,h)}function QT(r){const i=[],o=[];let u=1,c=0;const h=Fy(r=r.replace(kl,function(m,y,C){return u="select"===C?0:1,c=parseInt(y.substr(1),10),""}));for(let m=0;m<h.length;){let y=h[m++].trim();1===u&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&i.push(y);const C=Fy(h[m++]);i.length>o.length&&o.push(C)}return{type:u,mainBinding:c,cases:i,values:o}}function Fy(r){if(!r)return[];let i=0;const o=[],u=[],c=/[{}]/g;let h;for(c.lastIndex=0;h=c.exec(r);){const y=h.index;if("}"==h[0]){if(o.pop(),0==o.length){const C=r.substring(i,y);kl.test(C)?u.push(QT(C)):u.push(C),i=y+1}}else{if(0==o.length){const C=r.substring(i,y);u.push(C),i=y+1}o.push("{")}}const m=r.substring(i);return u.push(m),u}function XT(r,i,o,u,c,h,m,y){const C=[],D=[],N=[];i.cases.push(h),i.create.push(C),i.remove.push(D),i.update.push(N);const k=Zp(es()).getInertBodyElement(m),H=Os(k)||k;return H?iw(r,i,o,u,C,D,N,H,c,y,0):0}function iw(r,i,o,u,c,h,m,y,C,D,N){let R=0,k=y.firstChild;for(;k;){const H=Bs(r,o,1,null);switch(k.nodeType){case Node.ELEMENT_NODE:const Z=k,ue=Z.tagName.toLowerCase();if(Zc.hasOwnProperty(ue)){em(c,Sl,ue,C,H),r.data[H]=ue;const Ue=Z.attributes;for(let Ke=0;Ke<Ue.length;Ke++){const Dt=Ue.item(Ke),fr=Dt.name.toLowerCase();Dt.value.match(Td)?qc.hasOwnProperty(fr)&&Id(m,Dt.value,H,Dt.name,0,Kp[fr]?$i:Ro[fr]?vu:null):tm(c,H,Dt)}R=iw(r,i,o,u,c,h,m,k,H,D,N+1)|R,Pf(h,H,N)}break;case Node.TEXT_NODE:const ne=k.textContent||"",Te=ne.match(Td);em(c,null,Te?"":ne,C,H),Pf(h,H,N),Te&&(R=Id(m,ne,H,null,0,null)|R);break;case Node.COMMENT_NODE:const fe=YT.exec(k.textContent||"");if(fe){const Ke=D[parseInt(fe[1],10)];em(c,If,"",C,H),Of(r,o,u,C,Ke,H),sw(h,H,N)}}k=k.nextSibling}return R}function Pf(r,i,o){0===o&&r.push(i)}function sw(r,i,o){0===o&&(r.push(~i),r.push(i))}function em(r,i,o,u,c){null!==i&&r.push(i),r.push(o,c,function(r,i,o){return 0|i<<17|o<<1}(0,u,c))}function tm(r,i,o){r.push(i<<1|1,o.name,o.value)}function Lf(r,i,o=-1){const u=ot(),c=_e(),h=20+r,m=vn(u.consts,i),y=Ei();u.firstCreatePass&&function(r,i,o,u,c,h){const m=Ei(),y=[],C=[],D=[[]],N=function(r){return r.replace(KT," ")}(c=function(r,i){if(function(r){return-1===r}(i))return Py(r);{const o=r.indexOf(`:${i}\ufffd`)+2+i.toString().length,u=r.search(new RegExp(`\ufffd\\/\\*\\d+:${i}\ufffd`));return Py(r.substring(o,u))}}(c,h)).split(qT);for(let R=0;R<N.length;R++){let k=N[R];if(0==(1&R)){const H=Fy(k);for(let Z=0;Z<H.length;Z++){let ue=H[Z];if(0==(1&Z)){const ne=ue;""!==ne&&nw(r,m,D[0],y,C,o,ne)}else{const ne=ue;if("object"!=typeof ne)throw new Error(`Unable to parse ICU expression in "${c}" message.`);Of(r,o,C,i,ne,xy(r,m,D[0],o,y,"",!0).index)}}}else{const H=47===k.charCodeAt(0),ue=(k.charCodeAt(H?1:0),20+Number.parseInt(k.substring(H?2:1)));if(H)D.shift(),rr(Ei(),!1);else{const ne=UT(r,D[0],ue);D.unshift([]),rr(ne,!0)}}}r.data[u]={create:y,update:C}}(u,null===y?0:y.index,c,h,m,o);const C=u.data[h],N=Mu(u,y===c[6]?null:y,c);(function(r,i,o,u){const c=r[11];for(let h=0;h<i.length;h++){const m=i[h++],y=i[h],C=(m&Pn.COMMENT)===Pn.COMMENT,D=(m&Pn.APPEND_EAGERLY)===Pn.APPEND_EAGERLY,N=m>>>Pn.SHIFT;let R=r[N];null===R&&(R=r[N]=C?c.createComment(y):jn(c,y)),D&&null!==o&&Ru(c,o,R,u,!1)}})(c,C.create,N,y&&8&y.type?c[y.index]:null),il(!0)}function uw(r,i,o){Lf(r,i,o),il(!1)}function By(r){return function(r){r&&(Dd|=1<<Math.min(Sf,31)),Sf++}(ci(_e(),ri(),r)),By}function Nd(r){!function(r,i,o){if(Sf>0){const u=r.data[o];ky(r,i,Array.isArray(u)?u:u.update,$r()-Sf-1,Dd)}Dd=0,Sf=0}(ot(),_e(),r+20)}function Gu(r,i,o,u,c){if(r=G(r),Array.isArray(r))for(let h=0;h<r.length;h++)Gu(r[h],i,o,u,c);else{const h=ot(),m=_e();let y=hd(r)?r:G(r.provide),C=Mb(r);const D=Gt(),N=1048575&D.providerIndexes,R=D.directiveStart,k=D.providerIndexes>>20;if(hd(r)||!r.multi){const H=new vo(C,c,_d),Z=Hy(y,i,c?N:N+k,R);-1===Z?(Be(_a(D,m),h,y),Uy(h,r,i.length),i.push(y),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(H),m.push(H)):(o[Z]=H,m[Z]=H)}else{const H=Hy(y,i,N+k,R),Z=Hy(y,i,N,N+k),ue=H>=0&&o[H],ne=Z>=0&&o[Z];if(c&&!ne||!c&&!ue){Be(_a(D,m),h,y);const Te=function(r,i,o,u,c){const h=new vo(r,o,_d);return h.multi=[],h.index=i,h.componentProviders=0,cw(h,c,u&&!o),h}(c?uI:lI,o.length,c,u,C);!c&&ne&&(o[Z].providerFactory=Te),Uy(h,r,i.length,0),i.push(y),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),o.push(Te),m.push(Te)}else Uy(h,r,H>-1?H:Z,cw(o[c?Z:H],C,!c&&u));!c&&u&&ne&&o[Z].componentProviders++}}}function Uy(r,i,o,u){const c=hd(i);if(c||function(r){return!!r.useClass}(i)){const m=(i.useClass||i).prototype.ngOnDestroy;if(m){const y=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const C=y.indexOf(o);-1===C?y.push(o,[u,m]):y[C+1].push(u,m)}else y.push(o,m)}}}function cw(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Hy(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function lI(r,i,o,u){return $y(this.multi,[])}function uI(r,i,o,u){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=ya(o,o[1],this.providerFactory.index,u);h=y.slice(0,m),$y(c,h);for(let C=m;C<y.length;C++)h.push(y[C])}else h=[],$y(c,h);return h}function $y(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function dw(r,i=[]){return o=>{o.providersResolver=(u,c)=>function(r,i,o){const u=ot();if(u.firstCreatePass){const c=ei(r);Gu(o,u.data,u.blueprint,c,!0),Gu(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class jy{}const fw="ngComponent";class hI{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${K(r)}. Did you add it to @NgModule.entryComponents?`);return i[fw]=r,i}(i)}}let Ad=(()=>{class r{}return r.NULL=new hI,r})();function Vf(...r){}function Wu(r,i){return new Go(Sr(r,i))}const pI=function(){return Wu(Gt(),_e())};let Go=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=pI,r})();function _w(r){return r instanceof Go?r.nativeElement:r}class Sd{}let gI=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>Gy(),r})();const Gy=function(){const r=_e(),o=Zn(Gt().index,r);return function(r){return r[11]}(qt(o)?o:r)};let xl=(()=>{class r{}return r.\u0275prov=Wt({token:r,providedIn:"root",factory:()=>null}),r})();class vw{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Wy=new vw("12.2.15");class bw{constructor(){}supports(i){return Us(i)}create(i){return new bI(i)}}const yI=(r,i)=>i;class bI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||yI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<Bf(u,c,h)?o:u,y=Bf(m,c,h),C=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const D=y-c,N=C-c;if(D!=N){for(let k=0;k<D;k++){const H=k<h.length?h[k]:h[k]=0,Z=H+k;N<=Z&&Z<D&&(h[k]=H+1)}h[m.previousIndex]=N-D}}y!==C&&i(m,y,C)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!Us(i))throw new Error(`Error trying to diff '${K(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let y=0;y<this.length;y++)h=i[y],m=this._trackByFn(y,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,y)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,y),u=!0),o=o._next}else c=0,function(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[ka()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,y=>{m=this._trackByFn(c,y),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,y,m,c)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new CI(o,u),h,c),i}_verifyReinsertion(i,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Cw),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Cw),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class CI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ai{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class Cw{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new Ai,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bf(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class rm{constructor(){}supports(i){return i instanceof Map||$b(i)}create(){return new im}}class im{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||$b(i)))throw new Error(`Error trying to diff '${K(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const u=new Md(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class Md{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ww(){return new sm([new bw])}let sm=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||ww()),deps:[[r,new or,new cs]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(r){return r.name||typeof r}(o)}'`)}}return r.\u0275prov=Wt({token:r,providedIn:"root",factory:ww}),r})();function Ew(){return new Uf([new rm])}let Uf=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||Ew()),deps:[[r,new or,new cs]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return r.\u0275prov=Wt({token:r,providedIn:"root",factory:Ew}),r})();function om(r,i,o,u,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(Lt(h)),Yn(h))for(let y=10;y<h.length;y++){const C=h[y],D=C[1].firstChild;null!==D&&om(C[1],C,D,u)}const m=o.type;if(8&m)om(r,i,o.child,u);else if(32&m){const y=p(o,i);let C;for(;C=y();)u.push(C)}else if(16&m){const y=W0(i,o);if(Array.isArray(y))u.push(...y);else{const C=S(i[16]);om(C[1],C,y,u,!0)}}o=c?o.projectionNext:o.next}return u}class Rd{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return om(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Yn(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(tf(i,u),Ft(o,u))}this._attachedToViewContainer=!1}od(this._lView[1],this._lView)}onDestroy(i){ld(this._lView[1],this._lView,null,i)}markForCheck(){Cb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Eb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,o){po(!0);try{Eb(r,i,o)}finally{po(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,rf(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class Dw extends Rd{constructor(i){super(i),this._view=i}detectChanges(){O_(this._view)}checkNoChanges(){!function(r){po(!0);try{O_(r)}finally{po(!1)}}(this._view)}get context(){return null}}const zu=function(r){return function(r,i,o){if(Xo(r)&&!o){const u=Zn(r.index,i);return new Rd(u,u)}return 47&r.type?new Rd(i[16],i):null}(Gt(),_e(),16==(16&r))};let Tw=(()=>{class r{}return r.__NG_ELEMENT_ID__=zu,r})();const DI=[new rm],II=new sm([new bw]),NI=new Uf(DI),MI=function(){return am(Gt(),_e())};let Hf=(()=>{class r{}return r.__NG_ELEMENT_ID__=MI,r})();const RI=Hf,Zy=class extends RI{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=un(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(u[19]=h.createEmbeddedView(o)),sf(o,u,i),new Rd(u)}};function am(r,i){return 4&r.type?new Zy(i,r,Wu(r,i)):null}class Ol{}class Iw{}const xI=function(){return Sw(Gt(),_e())};let Pl=(()=>{class r{}return r.__NG_ELEMENT_ID__=xI,r})();const PI=Pl,Nw=class extends PI{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Wu(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const i=Cn(this._hostTNode,this._hostLView);if(au(i)){const o=Mr(i,this._hostLView),u=os(i);return new si(o[1].data[u+8],o)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Aw(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,h){const m=u||this.parentInjector;if(!h&&null==i.ngModule&&m){const C=m.get(Ol,null);C&&(h=C)}const y=i.create(m,c,void 0,h);return this.insert(y.hostView,o),y}insert(i,o){const u=i._lView,c=u[1];if(Yn(u[3])){const N=this.indexOf(i);if(-1!==N)this.detach(N);else{const R=u[3],k=new Nw(R,R[6],R[3]);k.detach(k.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function(r,i,o,u){const c=10+u,h=o.length;u>0&&(o[c-1][4]=i),u<h-10?(i[4]=o[c],ul(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const m=i[17];null!==m&&o!==m&&function(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(m,i);const y=i[19];null!==y&&y.insertView(r),i[2]|=128}(c,u,m,h);const y=m_(h,m),C=u[11],D=cg(C,m[7]);return null!==D&&function(r,i,o,u,c,h){u[0]=c,u[6]=i,rf(r,u,o,1,c,h)}(c,m[6],C,u,D,y),i.attachToViewContainerRef(),ul(lm(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Aw(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=tf(this._lContainer,o);u&&(Ft(lm(this._lContainer),o),od(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=tf(this._lContainer,o);return u&&null!=Ft(lm(this._lContainer),o)?new Rd(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function Aw(r){return r[8]}function lm(r){return r[8]||(r[8]=[])}function Sw(r,i){let o;const u=i[r.index];if(Yn(u))o=u;else{let c;if(8&r.type)c=Lt(u);else{const h=i[11];c=h.createComment("");const m=Sr(r,i);Ru(h,cg(h,m),c,function(r,i){return Ht(r)?r.nextSibling(i):i.nextSibling}(h,m),!1)}i[r.index]=o=af(u,i,c,r),Lo(i,o)}return new Nw(o,r,i)}const Fl={};class ym extends Ad{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Ln(i);return new tN(o,this.ngModule)}}function XI(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const zS=new Yt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Kh});class tN extends jy{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=i.selectors.map(eD).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return XI(this.componentDef.inputs)}get outputs(){return XI(this.componentDef.outputs)}create(i,o,u,c){const h=(c=c||this.ngModule)?function(r,i){return{get:(o,u,c)=>{const h=r.get(o,Fl,c);return h!==Fl||u===Fl?h:i.get(o,u,c)}}}(i,c.injector):i,m=h.get(Sd,wi),y=h.get(xl,null),C=m.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",N=u?function(r,i,o){if(Ht(r))return r.selectRootElement(i,o===Se.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(C,u,this.componentDef.encapsulation):wl(m.createRenderer(null,this.componentDef),D,function(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(D)),R=this.componentDef.onPush?576:528,k=function(r,i){return{components:[],scheduler:r||Kh,clean:Tg,playerHandler:i||null,flags:0}}(),H=Cg(0,null,null,1,0,null,null,null,null,null),Z=un(null,H,k,R,null,null,m,C,y,h);let ue,ne;Ns(Z);try{const Te=function(r,i,o,u,c,h){const m=o[1];o[20]=r;const C=Xt(m,20,2,"#host",null),D=C.mergedAttrs=i.hostAttrs;null!==D&&(cd(C,D,!0),null!==r&&(kc(c,r,D),null!==C.classes&&y_(c,r,C.classes),null!==C.styles&&Z0(c,r,C.styles)));const N=u.createRenderer(r,i),R=un(o,ar(i),null,i.onPush?64:16,o[20],C,u,N,h||null,null);return m.firstCreatePass&&(Be(_a(C,o),m,i.type),yb(m,C),yD(C,o.length,1)),Lo(o,R),o[20]=R}(N,this.componentDef,Z,m,C);if(N)if(u)kc(C,N,["ng-version",Wy.full]);else{const{attrs:fe,classes:Ue}=function(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let h=r[u];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++u]):8===c&&o.push(h);else{if(!Ls(c))break;c=h}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);fe&&kc(C,N,fe),Ue&&Ue.length>0&&y_(C,N,Ue.join(" "))}if(ne=ts(H,20),void 0!==o){const fe=ne.projection=[];for(let Ue=0;Ue<this.ngContentSelectors.length;Ue++){const Ke=o[Ue];fe.push(null!=Ke?Array.from(Ke):null)}}ue=function(r,i,o,u,c){const h=o[1],m=function(r,i,o){const u=Gt();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),R_(r,u,i,Bs(r,i,1,null),o));const c=ya(i,r,u.directiveStart,u);xr(c,i);const h=Sr(u,i);return h&&xr(h,i),c}(h,o,i);if(u.components.push(m),r[8]=m,c&&c.forEach(C=>C(m,i)),i.contentQueries){const C=Gt();i.contentQueries(1,m,C.directiveStart)}const y=Gt();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(_o(y.index),mb(o[1],y,0,y.directiveStart,y.directiveEnd,i),Eg(i,m)),m}(Te,this.componentDef,Z,k,[$D]),sf(H,Z,null)}finally{xi()}return new ZS(this.componentType,ue,Wu(ne,Z),Z,ne)}}class ZS extends class{}{constructor(i,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Dw(c),this.componentType=i}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Vd=new Map;class n1 extends Ol{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ym(this);const u=Ur(i),c=i[Xe]||null;c&&Zg(c),this._bootstrapComponents=ui(u.bootstrap),this._r3Injector=Pu(i,o,[{provide:Ol,useValue:this},{provide:Ad,useValue:this.componentFactoryResolver}],K(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=xn.THROW_IF_NOT_FOUND,u=Fe.Default){return i===xn||i===Ol||i===dd?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class fv extends Iw{constructor(i){super(),this.moduleType=i,null!==Ur(i)&&function(r){const i=new Set;!function o(u){const c=Ur(u,!0),h=c.id;null!==h&&(function(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${K(i)} vs ${K(i.name)}`)}(h,Vd.get(h),u),Vd.set(h,u));const m=ui(c.imports);for(const y of m)i.has(y)||(i.add(y),o(y))}(r)}(i)}create(i){return new n1(this.moduleType,i)}}function pv(r,i,o,u){return a1(_e(),bn(),r,i,o,u)}function gv(r,i,o,u,c){return function(r,i,o,u,c,h,m){const y=i+o;return pd(r,y,c,h)?xa(r,y+2,m?u.call(m,c,h):u(c,h)):Qf(r,y+2)}(_e(),bn(),r,i,o,u,c)}function mv(r,i,o,u,c,h){return function(r,i,o,u,c,h,m,y){const C=i+o;return function(r,i,o,u,c){const h=pd(r,i,o,u);return ci(r,i+2,c)||h}(r,C,c,h,m)?xa(r,C+3,y?u.call(y,c,h,m):u(c,h,m)):Qf(r,C+3)}(_e(),bn(),r,i,o,u,c,h)}function Qf(r,i){const o=r[i];return o===tt?void 0:o}function a1(r,i,o,u,c,h){const m=i+o;return ci(r,m,c)?xa(r,m+1,h?u.call(h,c):u(c)):Qf(r,m+1)}function vm(r,i){const o=ot();let u;const c=r+20;o.firstCreatePass?(u=function(r,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(r===u.name)return u}throw new Ee("302",`The pipe '${r}' could not be found!`)}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const h=u.factory||(u.factory=bi(u.type)),m=pr(_d);try{const y=Co(!1),C=h();return Co(y),function(r,i,o,u){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=u}(o,_e(),c,C),C}finally{pr(m)}}function c1(r,i,o){const u=r+20,c=_e(),h=ns(c,u);return function(r,i){Ni.isWrapped(i)&&(i=Ni.unwrap(i),r[$r()]=tt);return i}(c,function(r,i){return r[1].data[i].pure}(c,u)?a1(c,bn(),i,h.transform,o,h):h.transform(o))}function ec(r){return i=>{setTimeout(r,void 0,i)}}const qr=class extends l.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,h,m;let y=i,C=o||(()=>null),D=u;if(i&&"object"==typeof i){const R=i;y=null===(c=R.next)||void 0===c?void 0:c.bind(R),C=null===(h=R.error)||void 0===h?void 0:h.bind(R),D=null===(m=R.complete)||void 0===m?void 0:m.bind(R)}this.__isAsync&&(C=ec(C),y&&(y=ec(y)),D&&(D=ec(D)));const N=super.subscribe({next:y,error:C,complete:D});return i instanceof te.w&&i.add(N),N}};function f1(){return this._results[ka()]()}class Xf{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ka(),u=Xf.prototype;u[o]||(u[o]=f1)}get changes(){return this._changes||(this._changes=new qr)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Et(i);(this._changesDetected=!function(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],h=i[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class ms{constructor(i){this.queryList=i,this.matches=null}clone(){return new ms(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vr{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new Vr(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==bm(i,o).matches&&this.queries[o].setDirty()}}class g1{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Ud{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Ud(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Cv{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Cv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,o,Va(o,h)),this.matchTNodeWithReadOption(i,o,as(o,i,h,!1,!1))}else u===Hf?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,as(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Go||c===Pl||c===Hf&&4&o.type)this.addMatch(o.index,-2);else{const h=as(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function Va(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function tc(r,i,o,u){return-1===o?function(r,i){return 11&r.type?Wu(r,i):4&r.type?am(r,i):null}(i,r):-2===o?function(r,i,o){return o===Go?Wu(i,r):o===Hf?am(i,r):o===Pl?Sw(i,r):void 0}(r,i,u):ya(r,r[1],o,i)}function Hd(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const h=r.data,m=o.matches,y=[];for(let C=0;C<m.length;C+=2){const D=m[C];y.push(D<0?null:tc(i,h[D],m[C+1],o.metadata.read))}c.matches=y}return c.matches}function tp(r,i,o,u){const c=r.queries.getByIndex(o),h=c.matches;if(null!==h){const m=Hd(r,i,c,o);for(let y=0;y<h.length;y+=2){const C=h[y];if(C>0)u.push(m[y/2]);else{const D=h[y+1],N=i[-C];for(let R=10;R<N.length;R++){const k=N[R];k[17]===k[3]&&tp(k[1],k,D,u)}if(null!==N[9]){const R=N[9];for(let k=0;k<R.length;k++){const H=R[k];tp(H[1],H,D,u)}}}}}return u}function wv(r){const i=_e(),o=ot(),u=sl();go(u+1);const c=bm(o,u);if(r.dirty&&Qa(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?tp(o,i,u,[]):Hd(o,i,c,u);r.reset(h,_w),r.notifyOnChanges()}return!0}return!1}function hr(r,i,o){const u=ot();u.firstCreatePass&&(y1(u,new g1(r,i,o),-1),2==(2&i)&&(u.staticViewQueries=!0)),_1(u,_e(),i)}function Ev(r,i,o,u){const c=ot();if(c.firstCreatePass){const h=Gt();y1(c,new g1(i,o,u),h.index),function(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}_1(c,_e(),o)}function m1(){return r=_e(),i=sl(),r[19].queries[i].queryList;var r,i}function _1(r,i,o){const u=new Xf(4==(4&o));ld(r,i,u,u.destroy),null===i[19]&&(i[19]=new Vr),i[19].queries.push(new ms(u))}function y1(r,i,o){null===r.queries&&(r.queries=new Ud),r.queries.track(new Cv(i,o))}function bm(r,i){return r.queries.getByIndex(i)}function np(r,i){return am(r,i)}const gt=new Yt("Application Initializer");let Kn=(()=>{class r{constructor(o){this.appInits=o,this.resolve=Vf,this.reject=Vf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(ly(h))o.push(h);else if(mC(h)){const m=new Promise((y,C)=>{h.subscribe({complete:y,error:C})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(kn(gt,8))},r.\u0275prov=Wt({token:r,factory:r.\u0275fac}),r})();const U1=new Yt("AppId"),_s={provide:U1,useFactory:function(){return`${Pv()}${Pv()}${Pv()}`},deps:[]};function Pv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const H1=new Yt("Platform Initializer"),$1=new Yt("Platform ID"),Fv=new Yt("appBootstrapListener");let Sm=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Wt({token:r,factory:r.\u0275fac}),r})();const Vl=new Yt("LocaleId"),j1=new Yt("DefaultCurrencyCode");class rc{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}const Wd=function(r){return new fv(r)},G1=Wd,zs=function(r){return Promise.resolve(Wd(r))},fi=function(r){const i=Wd(r),u=ui(Ur(r).declarations).reduce((c,h)=>{const m=Ln(h);return m&&c.push(new tN(m)),c},[]);return new rc(i,u)},RN=fi,kN=function(r){return Promise.resolve(fi(r))};let zd=(()=>{class r{constructor(){this.compileModuleSync=G1,this.compileModuleAsync=zs,this.compileModuleAndAllComponentsSync=RN,this.compileModuleAndAllComponentsAsync=kN}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Wt({token:r,factory:r.\u0275fac}),r})();const Yd=(()=>Promise.resolve(0))();function Mm(r){"undefined"==typeof Zone?Yd.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Yi{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qr(!1),this.onMicrotaskEmpty=new qr(!1),this.onStable=new qr(!1),this.onError=new qr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=Qe.requestAnimationFrame,i=Qe.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(Qe,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,Uv(r),r.isCheckStableRunning=!0,Bv(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),Uv(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,m,y)=>{try{return lp(r),o.invokeTask(c,h,m,y)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),Rm(r)}},onInvoke:(o,u,c,h,m,y,C)=>{try{return lp(r),o.invoke(c,h,m,y,C)}finally{r.shouldCoalesceRunChangeDetection&&i(),Rm(r)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,Uv(r),Bv(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Yi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Yi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,i,xN,Vf,Vf);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const xN={};function Bv(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function Uv(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function lp(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Rm(r){r._nesting--,Bv(r)}class Zd{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qr,this.onMicrotaskEmpty=new qr,this.onStable=new qr,this.onError=new qr}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let Zo=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yi.assertNotInAngularZone(),Mm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mm(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(kn(Yi))},r.\u0275prov=Wt({token:r,factory:r.\u0275fac}),r})(),qd=(()=>{class r{constructor(){this._applications=new Map,ic.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return ic.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Wt({token:r,factory:r.\u0275fac}),r})();class ct{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function PN(r){ic=r}let ic=new ct,K1=!0,En=!1;function up(){return En=!0,K1}function FN(){if(En)throw new Error("Cannot enable prod mode after platform setup.");K1=!1}let Zi;const Qd=new Yt("AllowMultipleToken");class cp{constructor(i,o){this.name=i,this.token=o}}function km(r,i,o=[]){const u=`Platform: ${i}`,c=new Yt(u);return(h=[])=>{let m=hp();if(!m||m.injector.get(Qd,!1))if(r)r(o.concat(h).concat({provide:c,useValue:!0}));else{const y=o.concat(h).concat({provide:c,useValue:!0},{provide:lf,useValue:"platform"});!function(r){if(Zi&&!Zi.destroyed&&!Zi.injector.get(Qd,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zi=r.get(tE);const i=r.get(H1,null);i&&i.forEach(o=>o())}(xn.create({providers:y,name:u}))}return function(r){const i=hp();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function hp(){return Zi&&!Zi.destroyed?Zi:null}let tE=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const y=function(r,i){let o;return o="noop"===r?new Zd:("zone.js"===r?void 0:r)||new Yi({enableLongStackTrace:up(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),C=[{provide:Yi,useValue:y}];return y.run(()=>{const D=xn.create({providers:C,parent:this.injector,name:o.moduleType.name}),N=o.create(D),R=N.injector.get(xo,null);if(!R)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const k=y.onError.subscribe({next:H=>{R.handleError(H)}});N.onDestroy(()=>{pp(this._modules,N),k.unsubscribe()})}),function(r,i,o){try{const u=o();return ly(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(R,y,()=>{const k=N.injector.get(Kn);return k.runInitializers(),k.donePromise.then(()=>(Zg(N.injector.get(Vl,wd)||wd),this._moduleDoBootstrap(N),N))})})}bootstrapModule(o,u=[]){const c=xm({},u);return function(r,i,o){const u=new fv(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(fp);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${K(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(kn(xn))},r.\u0275prov=Wt({token:r,factory:r.\u0275fac}),r})();function xm(r,i){return Array.isArray(i)?i.reduce(xm,r):Object.assign(Object.assign({},r),i)}let fp=(()=>{class r{constructor(o,u,c,h,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new L.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),C=new L.y(D=>{let N;this._zone.runOutsideAngular(()=>{N=this._zone.onStable.subscribe(()=>{Yi.assertNotInAngularZone(),Mm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const R=this._zone.onUnstable.subscribe(()=>{Yi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{N.unsubscribe(),R.unsubscribe()}});this.isStable=(0,ce.T)(y,C.pipe((0,re.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof jy?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const h=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Ol),y=c.create(xn.NULL,[],u||c.selector,h),C=y.location.nativeElement,D=y.injector.get(Zo,null),N=D&&y.injector.get(qd);return D&&N&&N.registerApplication(C,D),y.onDestroy(()=>{this.detachView(y.hostView),pp(this.components,y),N&&N.unregisterApplication(C)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;pp(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Fv,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(kn(Yi),kn(xn),kn(xo),kn(Ad),kn(Kn))},r.\u0275prov=Wt({token:r,factory:r.\u0275fac}),r})();function pp(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}class rE{}class jv{}const GN={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let WN=(()=>{class r{constructor(o,u){this._compiler=o,this._config=u||GN}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),F(8255)(u).then(h=>h[c]).then(h=>Gv(h,u,c)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(o){let[u,c]=o.split("#"),h="NgFactory";return void 0===c&&(c="default",h=""),F(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[c+h]).then(m=>Gv(m,u,c))}}return r.\u0275fac=function(o){return new(o||r)(kn(zd),kn(jv,8))},r.\u0275prov=Wt({token:r,factory:r.\u0275fac}),r})();function Gv(r,i,o){if(!r)throw new Error(`Cannot find '${o}' in '${i}'`);return r}const Ys=function(r){return null},$l=km(null,"core",[{provide:$1,useValue:"unknown"},{provide:tE,deps:[xn]},{provide:qd,deps:[]},{provide:Sm,deps:[]}]),ZN=[{provide:fp,useClass:fp,deps:[Yi,xn,xo,Ad,Kn]},{provide:zS,deps:[Yi],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:Kn,useClass:Kn,deps:[[new cs,gt]]},{provide:zd,useClass:zd,deps:[]},_s,{provide:sm,useFactory:function(){return II},deps:[]},{provide:Uf,useFactory:function(){return NI},deps:[]},{provide:Vl,useFactory:function(r){return Zg(r=r||"undefined"!=typeof $localize&&$localize.locale||wd),r},deps:[[new zr(Vl),new cs,new or]]},{provide:j1,useValue:"USD"}];let KN=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(kn(fp))},r.\u0275mod=Cs({type:r}),r.\u0275inj=nn({providers:ZN}),r})()},8939:(Pe,pe,F)=>{"use strict";F.d(pe,{hO:()=>de,xv:()=>Y,Dh:()=>K,GT:()=>J,cc:()=>Ie,on:()=>P,pX:()=>re});var l=F(7716),te=F(7841),L=F(6502);Pe=F.hmd(Pe);const ce=["ngOnDestroy"],re=(ee,ie,ve,De={})=>new Proxy(ee,{get:(dt,mt)=>ve.runOutsideAngular(()=>{var Ot;if(ee[mt])return(null===(Ot=null==De?void 0:De.spy)||void 0===Ot?void 0:Ot.get)&&De.spy.get(mt,ee[mt]),ee[mt];if(ce.indexOf(mt)>-1)return()=>{};const ut=ie.toPromise().then(tn=>{const rt=tn&&tn[mt];return"function"==typeof rt?rt.bind(tn):rt&&rt.then?rt.then(Je=>ve.run(()=>Je)):ve.run(()=>rt)});return new Proxy(()=>{},{get:(tn,rt)=>ut[rt],apply:(tn,rt,Je)=>ut.then(bt=>{var Ge;const Tt=bt&&bt(...Je);return(null===(Ge=null==De?void 0:De.spy)||void 0===Ge?void 0:Ge.apply)&&De.spy.apply(mt,Je,Tt),Tt})})})}),J=(ee,ie)=>{ie.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(De=>{Object.defineProperty(ee.prototype,De,Object.getOwnPropertyDescriptor(ve.prototype||ve,De))})})};class oe{constructor(ie){return ie}}const K=new l.OlP("angularfire2.app.options"),Y=new l.OlP("angularfire2.app.name");function P(ee,ie,ve){const dt="object"==typeof ve&&ve||{};dt.name=dt.name||"string"==typeof ve&&ve||"[DEFAULT]";const Ot=te.Z.apps.filter(ut=>ut&&ut.name===dt.name)[0]||ie.runOutsideAngular(()=>te.Z.initializeApp(ee,dt));try{JSON.stringify(ee)!==JSON.stringify(Ot.options)&&U("error",`${Ot.name} Firebase App already initialized with different options${Pe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ut){}return new oe(Ot)}const U=(ee,...ie)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ee](...ie)},G={provide:oe,useFactory:P,deps:[K,l.R0b,[new l.FiY,Y]]};let de=(()=>{class ee{constructor(ve){te.Z.registerVersion("angularfire",L.q4.full,"core"),te.Z.registerVersion("angularfire",L.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,ve.toString())}static initializeApp(ve,De){return{ngModule:ee,providers:[{provide:K,useValue:ve},{provide:Y,useValue:De}]}}}return ee.\u0275fac=function(ve){return new(ve||ee)(l.LFG(l.Lbi))},ee.\u0275mod=l.oAB({type:ee}),ee.\u0275inj=l.cJS({providers:[G]}),ee})();function Ie(ee,ie,ve,De,dt){const[,mt,Ot]=globalThis.\u0275AngularfireInstanceCache.find(ut=>ut[0]===ee)||[];if(mt)return function(ee,ie){try{return ee.toString()===ie.toString()}catch(ve){return ee===ie}}(dt,Ot)||(he("error",`${ie} was already initialized on the ${ve} Firebase App with different settings.${ye?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:dt,was:Ot})),mt;{const ut=De();return globalThis.\u0275AngularfireInstanceCache.push([ee,ut,dt]),ut}}const ye=!!Pe.hot,he=(ee,...ie)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[ee](...ie)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6502:(Pe,pe,F)=>{"use strict";F.d(pe,{q4:()=>Vc,iC:()=>Bi,HU:()=>Sh,vb:()=>ul,JM:()=>Di});var l=F(7716),te=F(2329),L=F(8239),ce=F(8026),re=F(3854),J=F(3910),oe=F(5422),K=F(6676);const Y="@firebase/installations",P="0.5.4",G=`w:${P}`,de="FIS_v2",ie=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ve(E){return E instanceof re.ZR&&E.code.includes("request-failed")}function De({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function dt(E){return{token:E.token,requestStatus:2,expiresIn:bt(E.expiresIn),creationTime:Date.now()}}function mt(E,I){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,L.Z)(function*(E,I){const B=(yield I.json()).error;return ie.create("request-failed",{requestName:E,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function ut({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function tn(E,{refreshToken:I}){const M=ut(E);return M.append("Authorization",function(E){return`${de} ${E}`}(I)),M}function rt(E){return Je.apply(this,arguments)}function Je(){return(Je=(0,L.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function bt(E){return Number(E.replace("s","000"))}function Tt(E,I){return Le.apply(this,arguments)}function Le(){return(Le=(0,L.Z)(function*(E,{fid:I}){const M=De(E),le={method:"POST",headers:ut(E),body:JSON.stringify({fid:I,authVersion:de,appId:E.appId,sdkVersion:G})},be=yield rt(()=>fetch(M,le));if(be.ok){const Re=yield be.json();return{fid:Re.fid||I,registrationStatus:2,refreshToken:Re.refreshToken,authToken:dt(Re.authToken)}}throw yield mt("Create Installation",be)})).apply(this,arguments)}function Ga(E){return new Promise(I=>{setTimeout(I,E)})}const _i=/^[cdef][\w-]{21}$/;function Ct(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return _i.test(M)?M:""}catch(E){return""}}function Mi(E){return`${E.appName}!${E.appId}`}const Ki=new Map;function yi(E,I){const M=Mi(E);nn(M,I),function(E,I){const M=(!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=E=>{nn(E.data.key,E.data.fid)}),It);M&&M.postMessage({key:E,fid:I}),0===Ki.size&&It&&(It.close(),It=null)}(M,I)}function nn(E,I){const M=Ki.get(E);if(M)for(const B of M)B(I)}let It=null;const Ce="firebase-installations-store";let Hn=null;function Tn(){return Hn||(Hn=(0,K.openDb)("firebase-installations-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(Ce)}})),Hn}function Fe(E,I){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,L.Z)(function*(E,I){const M=Mi(E),Q=(yield Tn()).transaction(Ce,"readwrite"),le=Q.objectStore(Ce),be=yield le.get(M);return yield le.put(I,M),yield Q.complete,(!be||be.fid!==I.fid)&&yi(E,I.fid),I})).apply(this,arguments)}function Qr(E){return pr.apply(this,arguments)}function pr(){return(pr=(0,L.Z)(function*(E){const I=Mi(E),B=(yield Tn()).transaction(Ce,"readwrite");yield B.objectStore(Ce).delete(I),yield B.complete})).apply(this,arguments)}function $e(E,I){return We.apply(this,arguments)}function We(){return(We=(0,L.Z)(function*(E,I){const M=Mi(E),Q=(yield Tn()).transaction(Ce,"readwrite"),le=Q.objectStore(Ce),be=yield le.get(M),Re=I(be);return void 0===Re?yield le.delete(M):yield le.put(Re,M),yield Q.complete,Re&&(!be||be.fid!==Re.fid)&&yi(E,Re.fid),Re})).apply(this,arguments)}function ht(E){return ft.apply(this,arguments)}function ft(){return(ft=(0,L.Z)(function*(E){let I;const M=yield $e(E,B=>{const Q=gr(B),le=Pt(E,Q);return I=le.registrationPromise,le.installationEntry});return""===M.fid?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}})).apply(this,arguments)}function gr(E){return Qe(E||{fid:Ct(),registrationStatus:0})}function Pt(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ie.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:M,registrationPromise:function(E,I){return je.apply(this,arguments)}(E,M)}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Wa(E)}:{installationEntry:I}}function je(){return(je=(0,L.Z)(function*(E,I){try{return Fe(E,yield Tt(E,I))}catch(M){throw ve(M)&&409===M.customData.serverCode?yield Qr(E):yield Fe(E,{fid:I.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Wa(E){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,L.Z)(function*(E){let I=yield Vt(E);for(;1===I.registrationStatus;)yield Ga(100),I=yield Vt(E);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:B}=yield ht(E);return B||M}return I})).apply(this,arguments)}function Vt(E){return $e(E,I=>{if(!I)throw ie.create("installation-not-found");return Qe(I)})}function Qe(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function Wl(E,I){return z.apply(this,arguments)}function z(){return(z=(0,L.Z)(function*({appConfig:E,platformLoggerProvider:I},M){const B=$(E,M),Q=tn(E,M),le=I.getImmediate({optional:!0});le&&Q.append("x-firebase-client",le.getPlatformInfoString());const Re={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:G}})},xe=yield rt(()=>fetch(B,Re));if(xe.ok)return dt(yield xe.json());throw yield mt("Generate Auth Token",xe)})).apply(this,arguments)}function $(E,{fid:I}){return`${De(E)}/${I}/authTokens:generate`}function q(E){return ge.apply(this,arguments)}function ge(){return(ge=(0,L.Z)(function*(E,I=!1){let M;const B=yield $e(E.appConfig,le=>{if(!_n(le))throw ie.create("not-registered");const be=le.authToken;if(!I&&Xn(be))return le;if(1===be.requestStatus)return M=ae(E,I),le;{if(!navigator.onLine)throw ie.create("app-offline");const Re=Gn(le);return M=Nt(E,Re),Re}});return M?yield M:B.authToken})).apply(this,arguments)}function ae(E,I){return ke.apply(this,arguments)}function ke(){return(ke=(0,L.Z)(function*(E,I){let M=yield Xe(E.appConfig);for(;1===M.authToken.requestStatus;)yield Ga(100),M=yield Xe(E.appConfig);const B=M.authToken;return 0===B.requestStatus?q(E,I):B})).apply(this,arguments)}function Xe(E){return $e(E,I=>{if(!_n(I))throw ie.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Nt(E,I){return mn.apply(this,arguments)}function mn(){return(mn=(0,L.Z)(function*(E,I){try{const M=yield Wl(E,I),B=Object.assign(Object.assign({},I),{authToken:M});return yield Fe(E.appConfig,B),M}catch(M){if(!ve(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const B=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Fe(E.appConfig,B)}else yield Qr(E.appConfig);throw M}})).apply(this,arguments)}function _n(E){return void 0!==E&&2===E.registrationStatus}function Xn(E){return 2===E.requestStatus&&!function(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+36e5}(E)}function Gn(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}function Cs(){return(Cs=(0,L.Z)(function*(E){const I=E,{installationEntry:M,registrationPromise:B}=yield ht(I.appConfig);return B?B.catch(console.error):q(I).catch(console.error),M.fid})).apply(this,arguments)}function ws(){return(ws=(0,L.Z)(function*(E,I=!1){const M=E;return yield zl(M.appConfig),(yield q(M,I)).token})).apply(this,arguments)}function zl(E){return Br.apply(this,arguments)}function Br(){return(Br=(0,L.Z)(function*(E){const{registrationPromise:I}=yield ht(E);I&&(yield I)})).apply(this,arguments)}function Bt(E){return ie.create("missing-app-config-values",{valueName:E})}const _r="installations";(0,ce._registerComponent)(new J.wA(_r,E=>{const I=E.getProvider("app").getImmediate();return{app:I,appConfig:function(E){if(!E||!E.options)throw Bt("App Configuration");if(!E.name)throw Bt("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!E.options[M])throw Bt(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I),platformLoggerProvider:(0,ce._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new J.wA("installations-internal",E=>{const I=E.getProvider("app").getImmediate(),M=(0,ce._getProvider)(I,_r).getImmediate();return{getId:()=>function(E){return Cs.apply(this,arguments)}(M),getToken:Q=>function(E){return ws.apply(this,arguments)}(M,Q)}},"PRIVATE")),(0,ce.registerVersion)(Y,P),(0,ce.registerVersion)(Y,P,"esm2017");const Nr="@firebase/remote-config",$n=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vr{constructor(I,M,B,Q){this.client=I,this.storage=M,this.storageCache=B,this.logger=Q}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-M,Q=B<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${Q}.`),Q}fetch(I){var M=this;return(0,L.Z)(function*(){const[B,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(I.cacheMaxAgeMillis,B))return Q;I.eTag=Q&&Q.eTag;const le=yield M.client.fetch(I),be=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===le.status&&be.push(M.storage.setLastSuccessfulFetchResponse(le)),yield Promise.all(be),le})()}}function ei(E=navigator){return E.languages&&E.languages[0]||E.language}class ti{constructor(I,M,B,Q,le,be){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=B,this.projectId=Q,this.apiKey=le,this.appId=be}fetch(I){var M=this;return(0,L.Z)(function*(){const[B,Q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Re={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},xe={sdk_version:M.sdkVersion,app_instance_id:B,app_instance_id_token:Q,app_id:M.appId,language_code:ei()},pt={method:"POST",headers:Re,body:JSON.stringify(xe)},$t=fetch(be,pt),an=new Promise((Wr,Ti)=>{I.signal.addEventListener(()=>{const Ui=new Error("The operation was aborted.");Ui.name="AbortError",Ti(Ui)})});let Rr;try{yield Promise.race([$t,an]),Rr=yield $t}catch(Wr){let Ti="fetch-client-network";throw"AbortError"===Wr.name&&(Ti="fetch-timeout"),$n.create(Ti,{originalErrorMessage:Wr.message})}let Rt=Rr.status;const cl=Rr.headers.get("ETag")||void 0;let Ms,dl;if(200===Rr.status){let Wr;try{Wr=yield Rr.json()}catch(Ti){throw $n.create("fetch-client-parse",{originalErrorMessage:Ti.message})}Ms=Wr.entries,dl=Wr.state}if("INSTANCE_STATE_UNSPECIFIED"===dl?Rt=500:"NO_CHANGE"===dl?Rt=304:("NO_TEMPLATE"===dl||"EMPTY_CONFIG"===dl)&&(Ms={}),304!==Rt&&200!==Rt)throw $n.create("fetch-status",{httpStatus:Rt});return{status:Rt,eTag:cl,config:Ms}})()}}class Zl{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,L.Z)(function*(){const B=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,B)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:B}){var Q=this;return(0,L.Z)(function*(){yield function(E,I){return new Promise((M,B)=>{const Q=Math.max(I-Date.now(),0),le=setTimeout(M,Q);E.addEventListener(()=>{clearTimeout(le),B($n.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const le=yield Q.client.fetch(I);return yield Q.storage.deleteThrottleMetadata(),le}catch(le){if(!function(E){if(!(E instanceof re.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(le))throw le;const be={throttleEndTimeMillis:Date.now()+(0,re.$s)(B),backoffCount:B+1};return yield Q.storage.setThrottleMetadata(be),Q.attemptFetch(I,be)}})()}}class Sp{constructor(I,M,B,Q,le){this.app=I,this._client=M,this._storageCache=B,this._storage=Q,this._logger=le,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ta(E,I){const M=E.target.error||void 0;return $n.create(I,{originalErrorMessage:M&&M.message})}const ao="app_namespace_store";class Mp{constructor(I,M,B,Q=function(){return new Promise((E,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=B=>{I(ta(B,"storage-open"))},M.onsuccess=B=>{E(B.target.result)},M.onupgradeneeded=B=>{const Q=B.target.result;switch(B.oldVersion){case 0:Q.createObjectStore(ao,{keyPath:"compositeKey"})}}}catch(M){I($n.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=I,this.appName=M,this.namespace=B,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,L.Z)(function*(){const B=yield M.openDbPromise;return new Promise((Q,le)=>{const Re=B.transaction([ao],"readonly").objectStore(ao),xe=M.createCompositeKey(I);try{const pt=Re.get(xe);pt.onerror=$t=>{le(ta($t,"storage-get"))},pt.onsuccess=$t=>{const an=$t.target.result;Q(an?an.value:void 0)}}catch(pt){le($n.create("storage-get",{originalErrorMessage:pt&&pt.message}))}})})()}set(I,M){var B=this;return(0,L.Z)(function*(){const Q=yield B.openDbPromise;return new Promise((le,be)=>{const xe=Q.transaction([ao],"readwrite").objectStore(ao),pt=B.createCompositeKey(I);try{const $t=xe.put({compositeKey:pt,value:M});$t.onerror=an=>{be(ta(an,"storage-set"))},$t.onsuccess=()=>{le()}}catch($t){be($n.create("storage-set",{originalErrorMessage:$t&&$t.message}))}})})()}delete(I){var M=this;return(0,L.Z)(function*(){const B=yield M.openDbPromise;return new Promise((Q,le)=>{const Re=B.transaction([ao],"readwrite").objectStore(ao),xe=M.createCompositeKey(I);try{const pt=Re.delete(xe);pt.onerror=$t=>{le(ta($t,"storage-delete"))},pt.onsuccess=()=>{Q()}}catch(pt){le($n.create("storage-delete",{originalErrorMessage:pt&&pt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class yc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,L.Z)(function*(){const M=I.storage.getLastFetchStatus(),B=I.storage.getLastSuccessfulFetchTimestampMillis(),Q=I.storage.getActiveConfig(),le=yield M;le&&(I.lastFetchStatus=le);const be=yield B;be&&(I.lastSuccessfulFetchTimestampMillis=be);const Re=yield Q;Re&&(I.activeConfig=Re)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Kl(){return Za.apply(this,arguments)}function Za(){return(Za=(0,L.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new J.wA("remote-config",function(I,{instanceIdentifier:M}){const B=I.getProvider("app").getImmediate(),Q=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw $n.create("registration-window");if(!(0,re.hl)())throw $n.create("indexed-db-unavailable");const{projectId:le,apiKey:be,appId:Re}=B.options;if(!le)throw $n.create("registration-project-id");if(!be)throw $n.create("registration-api-key");if(!Re)throw $n.create("registration-app-id");const xe=new Mp(Re,B.name,M=M||"firebase"),pt=new yc(xe),$t=new oe.Yd(Nr);$t.logLevel=oe.in.ERROR;const an=new ti(Q,ce.SDK_VERSION,M,le,be,Re),Rr=new Zl(an,xe),Rt=new vr(Rr,xe,pt,$t),cl=new Sp(B,Rt,pt,xe,$t);return function(E){const I=(0,re.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(cl),cl},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Nr,"0.3.3"),(0,ce.registerVersion)(Nr,"0.3.3","esm2017");const lo="/firebase-messaging-sw.js",kp="/firebase-cloud-messaging-push-scope",na="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",bi="google.c.a.c_id",ra="google.c.a.c_l",en="google.c.a.ts",ia="google.c.a.e";var nr=(()=>{return(E=nr||(nr={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",nr;var E})();function Ci(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qa(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(M),Q=new Uint8Array(B.length);for(let le=0;le<B.length;++le)Q[le]=B.charCodeAt(le);return Q}const Jl="fcm_token_details_db",mh="fcm_token_object_Store";function Ar(E){return sa.apply(this,arguments)}function sa(){return(sa=(0,L.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(le=>le.name).includes(Jl))return null;let I=null;return(yield(0,K.openDb)(Jl,5,function(){var B=(0,L.Z)(function*(Q){var le;if(Q.oldVersion<2||!Q.objectStoreNames.contains(mh))return;const be=Q.transaction.objectStore(mh),Re=yield be.index("fcmSenderId").get(E);if(yield be.clear(),Re)if(2===Q.oldVersion){const xe=Re;if(!xe.auth||!xe.p256dh||!xe.endpoint)return;I={token:xe.fcmToken,createTime:null!==(le=xe.createTime)&&void 0!==le?le:Date.now(),subscriptionOptions:{auth:xe.auth,p256dh:xe.p256dh,endpoint:xe.endpoint,swScope:xe.swScope,vapidKey:"string"==typeof xe.vapidKey?xe.vapidKey:Ci(xe.vapidKey)}}}else if(3===Q.oldVersion){const xe=Re;I={token:xe.fcmToken,createTime:xe.createTime,subscriptionOptions:{auth:Ci(xe.auth),p256dh:Ci(xe.p256dh),endpoint:xe.endpoint,swScope:xe.swScope,vapidKey:Ci(xe.vapidKey)}}}else if(4===Q.oldVersion){const xe=Re;I={token:xe.fcmToken,createTime:xe.createTime,subscriptionOptions:{auth:Ci(xe.auth),p256dh:Ci(xe.p256dh),endpoint:xe.endpoint,swScope:xe.swScope,vapidKey:Ci(xe.vapidKey)}}}});return function(Q){return B.apply(this,arguments)}}())).close(),yield(0,K.deleteDb)(Jl),yield(0,K.deleteDb)("fcm_vapid_details_db"),yield(0,K.deleteDb)("undefined"),Cc(I)?I:null})).apply(this,arguments)}function Cc(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const es="firebase-messaging-store";let wc=null;function Ht(){return wc||(wc=(0,K.openDb)("firebase-messaging-database",1,E=>{switch(E.oldVersion){case 0:E.createObjectStore(es)}})),wc}function Ec(E){return wi.apply(this,arguments)}function wi(){return(wi=(0,L.Z)(function*(E){const I=Is(E),B=yield(yield Ht()).transaction(es).objectStore(es).get(I);if(B)return B;{const Q=yield Ar(E.appConfig.senderId);if(Q)return yield ni(E,Q),Q}})).apply(this,arguments)}function ni(E,I){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,L.Z)(function*(E,I){const M=Is(E),Q=(yield Ht()).transaction(es,"readwrite");return yield Q.objectStore(es).put(I,M),yield Q.complete,I})).apply(this,arguments)}function co(E){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,L.Z)(function*(E){const I=Is(E),B=(yield Ht()).transaction(es,"readwrite");yield B.objectStore(es).delete(I),yield B.complete})).apply(this,arguments)}function Is({appConfig:E}){return E.appId}const Nn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ts(E,I){return ns.apply(this,arguments)}function ns(){return(ns=(0,L.Z)(function*(E,I){const M=yield oa(E),B=ze(I),Q={method:"POST",headers:M,body:JSON.stringify(B)};let le;try{le=yield(yield fetch(vn(E.appConfig),Q)).json()}catch(be){throw Nn.create("token-subscribe-failed",{errorInfo:be})}if(le.error)throw Nn.create("token-subscribe-failed",{errorInfo:le.error.message});if(!le.token)throw Nn.create("token-subscribe-no-token");return le.token})).apply(this,arguments)}function Zn(E,I){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,L.Z)(function*(E,I){const M=yield oa(E),B=ze(I.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify(B)};let le;try{le=yield(yield fetch(`${vn(E.appConfig)}/${I.token}`,Q)).json()}catch(be){throw Nn.create("token-update-failed",{errorInfo:be})}if(le.error)throw Nn.create("token-update-failed",{errorInfo:le.error.message});if(!le.token)throw Nn.create("token-update-no-token");return le.token})).apply(this,arguments)}function Xa(E,I){return rs.apply(this,arguments)}function rs(){return(rs=(0,L.Z)(function*(E,I){const B={method:"DELETE",headers:yield oa(E)};try{const le=yield(yield fetch(`${vn(E.appConfig)}/${I}`,B)).json();if(le.error)throw Nn.create("token-unsubscribe-failed",{errorInfo:le.error.message})}catch(Q){throw Nn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function vn({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function oa(E){return aa.apply(this,arguments)}function aa(){return(aa=(0,L.Z)(function*({appConfig:E,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ze({p256dh:E,auth:I,endpoint:M,vapidKey:B}){const Q={web:{endpoint:M,auth:I,p256dh:E}};return B!==na&&(Q.web.applicationPubKey=B),Q}const el=6048e5;function Dc(E){return tl.apply(this,arguments)}function tl(){return(tl=(0,L.Z)(function*(E){const I=yield nl(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:Ci(I.getKey("auth")),p256dh:Ci(I.getKey("p256dh"))},B=yield Ec(E.firebaseDependencies);if(B){if(rl(B.subscriptionOptions,M))return Date.now()>=B.createTime+el?Ql(E,{token:B.token,createTime:Date.now(),subscriptionOptions:M}):B.token;try{yield Xa(E.firebaseDependencies,B.token)}catch(Q){console.warn(Q)}return _e(E.firebaseDependencies,M)}return _e(E.firebaseDependencies,M)})).apply(this,arguments)}function Tc(E){return la.apply(this,arguments)}function la(){return(la=(0,L.Z)(function*(E){const I=yield Ec(E.firebaseDependencies);I&&(yield Xa(E.firebaseDependencies,I.token),yield co(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Ql(E,I){return ki.apply(this,arguments)}function ki(){return(ki=(0,L.Z)(function*(E,I){try{const M=yield Zn(E.firebaseDependencies,I),B=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield ni(E.firebaseDependencies,B),M}catch(M){throw yield Tc(E),M}})).apply(this,arguments)}function _e(E,I){return ot.apply(this,arguments)}function ot(){return(ot=(0,L.Z)(function*(E,I){const B={token:yield ts(E,I),createTime:Date.now(),subscriptionOptions:I};return yield ni(E,B),B.token})).apply(this,arguments)}function nl(E,I){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,L.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:qa(I)})})).apply(this,arguments)}function rl(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}function Ei(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcm_message_id};return function(E,I){if(!I.notification)return;E.notification={};const M=I.notification.title;M&&(E.notification.title=M);const B=I.notification.body;B&&(E.notification.body=B);const Q=I.notification.image;Q&&(E.notification.image=Q)}(I,E),function(E,I){!I.data||(E.data=I.data)}(I,E),function(E,I){if(!I.fcmOptions)return;E.fcmOptions={};const M=I.fcmOptions.link;M&&(E.fcmOptions.link=M);const B=I.fcmOptions.analytics_label;B&&(E.fcmOptions.analyticsLabel=B)}(I,E),I}function Ic(E){return"object"==typeof E&&!!E&&bi in E}function Xl(E,I){const M=[];for(let B=0;B<E.length;B++)M.push(E.charAt(B)),B<I.length&&M.push(I.charAt(B));return M.join("")}function po(E){return Nn.create("missing-app-config-values",{valueName:E})}Xl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Xl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bn{constructor(I,M,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function(E){if(!E||!E.options)throw po("App Configuration Object");if(!E.name)throw po("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const B of I)if(!M[B])throw po(B);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:Q,installations:M,analyticsProvider:B}}_delete(){return Promise.resolve()}}function $r(E){return ca.apply(this,arguments)}function ca(){return(ca=(0,L.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(lo,{scope:kp}),E.swRegistration.update().catch(()=>{})}catch(I){throw Nn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function ri(E,I){return ir.apply(this,arguments)}function ir(){return(ir=(0,L.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield $r(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Nn.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function eu(E,I){return il.apply(this,arguments)}function il(){return(il=(0,L.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=na)})).apply(this,arguments)}function tu(){return(tu=(0,L.Z)(function*(E,I){if(!navigator)throw Nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nn.create("permission-blocked");return yield eu(E,null==I?void 0:I.vapidKey),yield ri(E,null==I?void 0:I.serviceWorkerRegistration),Dc(E)})).apply(this,arguments)}function ha(E,I,M){return fa.apply(this,arguments)}function fa(){return(fa=(0,L.Z)(function*(E,I,M){const B=sl(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:M[bi],message_name:M[ra],message_time:M[en],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sl(E){switch(E){case nr.NOTIFICATION_CLICKED:return"notification_open";case nr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mo(){return(mo=(0,L.Z)(function*(E,I){const M=I.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===nr.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ei(M)):E.onMessageHandler.next(Ei(M)));const B=M.data;Ic(B)&&"1"===B[ia]&&(yield ha(E,M.messageType,B))})).apply(this,arguments)}const nu="@firebase/messaging";function Sc(){return xi.apply(this,arguments)}function xi(){return(xi=(0,L.Z)(function*(){return"undefined"!=typeof window&&(0,re.hl)()&&(yield(0,re.eu)())&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new J.wA("messaging",E=>{const I=new bn(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(E,I){return mo.apply(this,arguments)}(I,M)),I},"PUBLIC")),(0,ce._registerComponent)(new J.wA("messaging-internal",E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:B=>function(E,I){return tu.apply(this,arguments)}(I,B)}},"PRIVATE")),(0,ce.registerVersion)(nu,"0.9.4"),(0,ce.registerVersion)(nu,"0.9.4","esm2017");const yo="analytics",vh="firebase_id",is="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ga="https://www.googletagmanager.com/gtag/js",pn=new oe.Yd("@firebase/analytics");function su(E){return Promise.all(E.map(I=>I.catch(M=>M)))}function bh(E,I){const M=document.createElement("script");M.src=`${ga}?l=${E}&id=${I}`,M.async=!0,document.head.appendChild(M)}function vo(E,I,M,B,Q,le){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,L.Z)(function*(E,I,M,B,Q,le){const be=B[Q];try{if(be)yield I[be];else{const xe=(yield su(M)).find(pt=>pt.measurementId===Q);xe&&(yield I[xe.appId])}}catch(Re){pn.error(Re)}E("config",Q,le)})).apply(this,arguments)}function bo(E,I,M,B,Q){return ss.apply(this,arguments)}function ss(){return(ss=(0,L.Z)(function*(E,I,M,B,Q){try{let le=[];if(Q&&Q.send_to){let be=Q.send_to;Array.isArray(be)||(be=[be]);const Re=yield su(M);for(const xe of be){const pt=Re.find(an=>an.measurementId===xe),$t=pt&&I[pt.appId];if(!$t){le=[];break}le.push($t)}}0===le.length&&(le=Object.values(I)),yield Promise.all(le),E("event",B,Q||{})}catch(le){pn.error(le)}})).apply(this,arguments)}function Pp(){const E=window.document.getElementsByTagName("script");for(const I of Object.values(E))if(I.src&&I.src.includes(ga))return I;return null}const ii=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),al=new class{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Eh(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function au(E){return os.apply(this,arguments)}function os(){return(os=(0,L.Z)(function*(E){var I;const{appId:M,apiKey:B}=E,Q={method:"GET",headers:Eh(B)},le=is.replace("{app-id}",M),be=yield fetch(le,Q);if(200!==be.status&&304!==be.status){let Re="";try{const xe=yield be.json();(null===(I=xe.error)||void 0===I?void 0:I.message)&&(Re=xe.error.message)}catch(xe){}throw ii.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Re})}return be.json()})).apply(this,arguments)}function xc(E){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,L.Z)(function*(E,I=al,M){const{appId:B,apiKey:Q,measurementId:le}=E.options;if(!B)throw ii.create("no-app-id");if(!Q){if(le)return{measurementId:le,appId:B};throw ii.create("no-api-key")}const be=I.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Re=new Dh;return setTimeout((0,L.Z)(function*(){Re.abort()}),void 0!==M?M:6e4),ma({appId:B,apiKey:Q,measurementId:le},be,Re,I)})).apply(this,arguments)}function ma(E,I,M){return Co.apply(this,arguments)}function Co(){return(Co=(0,L.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:M},B,Q=al){const{appId:le,measurementId:be}=E;try{yield Jm(B,I)}catch(Re){if(be)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:le,measurementId:be};throw Re}try{const Re=yield au(E);return Q.deleteThrottleMetadata(le),Re}catch(Re){if(!Oc(Re)){if(Q.deleteThrottleMetadata(le),be)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${Re.message}]`),{appId:le,measurementId:be};throw Re}const xe=503===Number(Re.customData.httpStatus)?(0,re.$s)(M,Q.intervalMillis,30):(0,re.$s)(M,Q.intervalMillis),pt={throttleEndTimeMillis:Date.now()+xe,backoffCount:M+1};return Q.setThrottleMetadata(le,pt),pn.debug(`Calling attemptFetch again in ${xe} millis`),ma(E,pt,B,Q)}})).apply(this,arguments)}function Jm(E,I){return new Promise((M,B)=>{const Q=Math.max(I-Date.now(),0),le=setTimeout(M,Q);E.addEventListener(()=>{clearTimeout(le),B(ii.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Oc(E){if(!(E instanceof re.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Dh{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Pc(){return ll.apply(this,arguments)}function ll(){return(ll=(0,L.Z)(function*(){if(!(0,re.hl)())return pn.warn(ii.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(E){return pn.warn(ii.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function As(){return(As=(0,L.Z)(function*(E,I,M,B,Q,le,be){var Re;const xe=xc(E);xe.then(Rt=>{M[Rt.measurementId]=Rt.appId,E.options.measurementId&&Rt.measurementId!==E.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Rt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Rt=>pn.error(Rt)),I.push(xe);const pt=Pc().then(Rt=>{if(Rt)return B.getId()}),[$t,an]=yield Promise.all([xe,pt]);Pp()||bh(le,$t.measurementId),Q("js",new Date);const Rr=null!==(Re=null==be?void 0:be.config)&&void 0!==Re?Re:{};return Rr.origin="firebase",Rr.update=!0,null!=an&&(Rr[vh]=an),Q("config",$t.measurementId,Rr),$t.measurementId})).apply(this,arguments)}class An{constructor(I){this.app=I}_delete(){return delete Cn[this.app.options.appId],Promise.resolve()}}let Cn={},Be=[];const zt={};let Ye,jr,Fi="dataLayer",Sn=!1;function ya(E,I,M){!function(){const E=[];if((0,re.ru)()&&E.push("This is a browser extension environment."),(0,re.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((B,Q)=>`(${Q+1}) ${B}`).join(" "),M=ii.create("invalid-analytics-context",{errorInfo:I});pn.warn(M.message)}}();const B=E.options.appId;if(!B)throw ii.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw ii.create("no-api-key");pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cn[B])throw ii.create("already-exists",{id:B});if(!Sn){!function(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(Fi);const{wrappedGtag:le,gtagCore:be}=function(E,I,M,B,Q){let le=function(...be){window[B].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(le=window[Q]),window[Q]=function(E,I,M,B){function le(){return(le=(0,L.Z)(function*(be,Re,xe){try{"event"===be?yield bo(E,I,M,Re,xe):"config"===be?yield vo(E,I,M,B,Re,xe):E("set",Re)}catch(pt){pn.error(pt)}})).apply(this,arguments)}return function(be,Re,xe){return le.apply(this,arguments)}}(le,E,I,M),{gtagCore:le,wrappedGtag:window[Q]}}(Cn,Be,zt,Fi,"gtag");jr=le,Ye=be,Sn=!0}return Cn[B]=function(E,I,M,B,Q,le,be){return As.apply(this,arguments)}(E,Be,zt,I,Ye,Fi,M),new An(E)}function Eo(){return(Eo=(0,L.Z)(function*(E,I,M,B,Q){if(Q&&Q.global)E("event",M,B);else{const le=yield I;E("event",M,Object.assign(Object.assign({},B),{send_to:le}))}})).apply(this,arguments)}function ai(){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,L.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(E){return!1}})).apply(this,arguments)}const lu="@firebase/analytics";(0,ce._registerComponent)(new J.wA(yo,(I,{options:M})=>ya(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ce._registerComponent)(new J.wA("analytics-internal",function(I){try{const M=I.getProvider(yo).getImmediate();return{logEvent:(B,Q,le)=>function(E,I,M,B){E=(0,re.m9)(E),function(E,I,M,B,Q){return Eo.apply(this,arguments)}(jr,Cn[E.app.options.appId],I,M,B).catch(Q=>pn.error(Q))}(M,B,Q,le)}}catch(M){throw ii.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ce.registerVersion)(lu,"0.7.4"),(0,ce.registerVersion)(lu,"0.7.4","esm2017");var Vp=F(7771),cu=F(3637),du=F(8307),li=F(2639),hu=F(9746);const Vc=new l.GfV("7.2.0"),fu="__angularfire_symbol__analyticsIsSupported",Bc="__angularfire_symbol__remoteConfigIsSupported",Gr="__angularfire_symbol__messagingIsSupported";function Di(E,I,M){if(I){if(1===I.length)return I[0];const le=I.filter(be=>be.app===M);if(1===le.length)return le[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[fu]||(globalThis[fu]=ai().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Gr]||(globalThis[Gr]=Sc().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[Bc]||(globalThis[Bc]=Kl().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const ul=(E,I)=>{const M=I?[I]:(0,te.C6)(),B=[];return M.forEach(Q=>{Q.container.getProvider(E).instances.forEach(be=>{B.includes(be)||B.push(be)})}),B};function Ft(){}class Vi{constructor(I,M=Vp.N){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,B){const Q=this.zone;return this.delegate.schedule(function(be){Q.runGuarded(()=>{I.apply(this,[be])})},M,B)}}class Hc{constructor(I){this.zone=I,this.task=null}call(I,M){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ft,{},Ft,Ft)),M.pipe((0,du.b)({next:B,complete:B,error:B})).subscribe(I).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Sh=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Vi(Zone.current)),this.insideAngular=M.run(()=>new Vi(Zone.current,cu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function us(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Bi(E){return us(),function(E){return function(M){return(M=M.lift(new Hc(E.ngZone))).pipe((0,li.R)(E.outsideAngular),(0,hu.QV)(E.insideAngular))}}(us())(E)}},3854:(Pe,pe,F)=>{"use strict";F.d(pe,{BH:()=>de,LL:()=>Le,ZR:()=>Tt,gQ:()=>Ce,zI:()=>Je,hu:()=>te,g5:()=>L,US:()=>J,tV:()=>Y,h$:()=>oe,$s:()=>Vt,r3:()=>Wt,Sg:()=>Ie,ne:()=>Hn,p$:()=>P,vZ:()=>It,ZB:()=>U,gK:()=>$e,pd:()=>vi,m9:()=>Wl,z$:()=>Ee,GJ:()=>yi,jU:()=>ee,ru:()=>ie,xb:()=>nn,w1:()=>dt,hl:()=>tn,uI:()=>ye,UG:()=>he,Yr:()=>Ot,b$:()=>ve,w9:()=>Ki,cI:()=>_i,UI:()=>Fn,xO:()=>to,zd:()=>Jr,DV:()=>eo,ug:()=>Pt,dS:()=>gr,Pz:()=>Xs,Dv:()=>pr,Wj:()=>ht,lb:()=>ft,eu:()=>rt});const te=function(z,$){if(!z)throw L($)},L=function(z){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+z)},ce=function(z){const $=[];let q=0;for(let ge=0;ge<z.length;ge++){let ae=z.charCodeAt(ge);ae<128?$[q++]=ae:ae<2048?($[q++]=ae>>6|192,$[q++]=63&ae|128):55296==(64512&ae)&&ge+1<z.length&&56320==(64512&z.charCodeAt(ge+1))?(ae=65536+((1023&ae)<<10)+(1023&z.charCodeAt(++ge)),$[q++]=ae>>18|240,$[q++]=ae>>12&63|128,$[q++]=ae>>6&63|128,$[q++]=63&ae|128):($[q++]=ae>>12|224,$[q++]=ae>>6&63|128,$[q++]=63&ae|128)}return $},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,$){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let ae=0;ae<z.length;ae+=3){const ke=z[ae],Xe=ae+1<z.length,Nt=Xe?z[ae+1]:0,mn=ae+2<z.length,_n=mn?z[ae+2]:0;let Gn=(15&Nt)<<2|_n>>6,bs=63&_n;mn||(bs=64,Xe||(Gn=64)),ge.push(q[ke>>2],q[(3&ke)<<4|Nt>>4],q[Gn],q[bs])}return ge.join("")},encodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(z):this.encodeByteArray(ce(z),$)},decodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(z):function(z){const $=[];let q=0,ge=0;for(;q<z.length;){const ae=z[q++];if(ae<128)$[ge++]=String.fromCharCode(ae);else if(ae>191&&ae<224){const ke=z[q++];$[ge++]=String.fromCharCode((31&ae)<<6|63&ke)}else if(ae>239&&ae<365){const mn=((7&ae)<<18|(63&z[q++])<<12|(63&z[q++])<<6|63&z[q++])-65536;$[ge++]=String.fromCharCode(55296+(mn>>10)),$[ge++]=String.fromCharCode(56320+(1023&mn))}else{const ke=z[q++],Xe=z[q++];$[ge++]=String.fromCharCode((15&ae)<<12|(63&ke)<<6|63&Xe)}}return $.join("")}(this.decodeStringToByteArray(z,$))},decodeStringToByteArray(z,$){this.init_();const q=$?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let ae=0;ae<z.length;){const ke=q[z.charAt(ae++)],Nt=ae<z.length?q[z.charAt(ae)]:0;++ae;const _n=ae<z.length?q[z.charAt(ae)]:64;++ae;const wt=ae<z.length?q[z.charAt(ae)]:64;if(++ae,null==ke||null==Nt||null==_n||null==wt)throw Error();ge.push(ke<<2|Nt>>4),64!==_n&&(ge.push(Nt<<4&240|_n>>2),64!==wt&&ge.push(_n<<6&192|wt))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},oe=function(z){const $=ce(z);return J.encodeByteArray($,!0)},K=function(z){return oe(z).replace(/\./g,"")},Y=function(z){try{return J.decodeString(z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function P(z){return U(void 0,z)}function U(z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return $}for(const q in $)!$.hasOwnProperty(q)||!G(q)||(z[q]=U(z[q],$[q]));return z}function G(z){return"__proto__"!==z}class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,q)=>{this.resolve=$,this.reject=q})}wrapCallback($){return(q,ge)=>{q?this.reject(q):this.resolve(ge),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(q):$(q,ge))}}}function Ie(z,$){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=$||"demo-project",ae=z.iat||0,ke=z.sub||z.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:ae,exp:ae+3600,auth_time:ae,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},z);return[K(JSON.stringify({alg:"none",type:"JWT"})),K(JSON.stringify(Xe)),""].join(".")}function Ee(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function ee(){return"object"==typeof self&&self.self===self}function ie(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function dt(){const z=Ee();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function Ot(){return!1}function tn(){return"object"==typeof indexedDB}function rt(){return new Promise((z,$)=>{try{let q=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",ae=self.indexedDB.open(ge);ae.onsuccess=()=>{ae.result.close(),q||self.indexedDB.deleteDatabase(ge),z(!0)},ae.onupgradeneeded=()=>{q=!1},ae.onerror=()=>{var ke;$((null===(ke=ae.error)||void 0===ke?void 0:ke.message)||"")}}catch(q){$(q)}})}function Je(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Tt extends Error{constructor($,q,ge){super(q),this.code=$,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,Tt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor($,q,ge){this.service=$,this.serviceName=q,this.errors=ge}create($,...q){const ge=q[0]||{},ae=`${this.service}/${$}`,ke=this.errors[$],Xe=ke?function(z,$){return z.replace(qi,(q,ge)=>{const ae=$[ge];return null!=ae?String(ae):`<${ge}?>`})}(ke,ge):"Error";return new Tt(ae,`${this.serviceName}: ${Xe} (${ae}).`,ge)}}const qi=/\{\$([^}]+)}/g;function _i(z){return JSON.parse(z)}function Xs(z){return JSON.stringify(z)}const Ct=function(z){let $={},q={},ge={},ae="";try{const ke=z.split(".");$=_i(Y(ke[0])||""),q=_i(Y(ke[1])||""),ae=ke[2],ge=q.d||{},delete q.d}catch(ke){}return{header:$,claims:q,data:ge,signature:ae}},Ki=function(z){const q=Ct(z).claims;return!!q&&"object"==typeof q&&q.hasOwnProperty("iat")},yi=function(z){const $=Ct(z).claims;return"object"==typeof $&&!0===$.admin};function Wt(z,$){return Object.prototype.hasOwnProperty.call(z,$)}function eo(z,$){if(Object.prototype.hasOwnProperty.call(z,$))return z[$]}function nn(z){for(const $ in z)if(Object.prototype.hasOwnProperty.call(z,$))return!1;return!0}function Fn(z,$,q){const ge={};for(const ae in z)Object.prototype.hasOwnProperty.call(z,ae)&&(ge[ae]=$.call(q,z[ae],ae,z));return ge}function It(z,$){if(z===$)return!0;const q=Object.keys(z),ge=Object.keys($);for(const ae of q){if(!ge.includes(ae))return!1;const ke=z[ae],Xe=$[ae];if(rn(ke)&&rn(Xe)){if(!It(ke,Xe))return!1}else if(ke!==Xe)return!1}for(const ae of ge)if(!q.includes(ae))return!1;return!0}function rn(z){return null!==z&&"object"==typeof z}function to(z){const $=[];for(const[q,ge]of Object.entries(z))Array.isArray(ge)?ge.forEach(ae=>{$.push(encodeURIComponent(q)+"="+encodeURIComponent(ae))}):$.push(encodeURIComponent(q)+"="+encodeURIComponent(ge));return $.length?"&"+$.join("&"):""}function Jr(z){const $={};return z.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[ae,ke]=ge.split("=");$[decodeURIComponent(ae)]=decodeURIComponent(ke)}}),$}function vi(z){const $=z.indexOf("?");if(!$)return"";const q=z.indexOf("#",$);return z.substring($,q>0?q:void 0)}class Ce{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,q){q||(q=0);const ge=this.W_;if("string"==typeof $)for(let wt=0;wt<16;wt++)ge[wt]=$.charCodeAt(q)<<24|$.charCodeAt(q+1)<<16|$.charCodeAt(q+2)<<8|$.charCodeAt(q+3),q+=4;else for(let wt=0;wt<16;wt++)ge[wt]=$[q]<<24|$[q+1]<<16|$[q+2]<<8|$[q+3],q+=4;for(let wt=16;wt<80;wt++){const Gn=ge[wt-3]^ge[wt-8]^ge[wt-14]^ge[wt-16];ge[wt]=4294967295&(Gn<<1|Gn>>>31)}let _n,Xn,ae=this.chain_[0],ke=this.chain_[1],Xe=this.chain_[2],Nt=this.chain_[3],mn=this.chain_[4];for(let wt=0;wt<80;wt++){wt<40?wt<20?(_n=Nt^ke&(Xe^Nt),Xn=1518500249):(_n=ke^Xe^Nt,Xn=1859775393):wt<60?(_n=ke&Xe|Nt&(ke|Xe),Xn=2400959708):(_n=ke^Xe^Nt,Xn=3395469782);const Gn=(ae<<5|ae>>>27)+_n+mn+Xn+ge[wt]&4294967295;mn=Nt,Nt=Xe,Xe=4294967295&(ke<<30|ke>>>2),ke=ae,ae=Gn}this.chain_[0]=this.chain_[0]+ae&4294967295,this.chain_[1]=this.chain_[1]+ke&4294967295,this.chain_[2]=this.chain_[2]+Xe&4294967295,this.chain_[3]=this.chain_[3]+Nt&4294967295,this.chain_[4]=this.chain_[4]+mn&4294967295}update($,q){if(null==$)return;void 0===q&&(q=$.length);const ge=q-this.blockSize;let ae=0;const ke=this.buf_;let Xe=this.inbuf_;for(;ae<q;){if(0===Xe)for(;ae<=ge;)this.compress_($,ae),ae+=this.blockSize;if("string"==typeof $){for(;ae<q;)if(ke[Xe]=$.charCodeAt(ae),++Xe,++ae,Xe===this.blockSize){this.compress_(ke),Xe=0;break}}else for(;ae<q;)if(ke[Xe]=$[ae],++Xe,++ae,Xe===this.blockSize){this.compress_(ke),Xe=0;break}}this.inbuf_=Xe,this.total_+=q}digest(){const $=[];let q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ae=this.blockSize-1;ae>=56;ae--)this.buf_[ae]=255&q,q/=256;this.compress_(this.buf_);let ge=0;for(let ae=0;ae<5;ae++)for(let ke=24;ke>=0;ke-=8)$[ge]=this.chain_[ae]>>ke&255,++ge;return $}}function Hn(z,$){const q=new Tn(z,$);return q.subscribe.bind(q)}class Tn{constructor($,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{$(this)}).catch(ge=>{this.error(ge)})}next($){this.forEachObserver(q=>{q.next($)})}error($){this.forEachObserver(q=>{q.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,q,ge){let ae;if(void 0===$&&void 0===q&&void 0===ge)throw new Error("Missing Observer.");ae=function(z,$){if("object"!=typeof z||null===z)return!1;for(const q of["next","error","complete"])if(q in z&&"function"==typeof z[q])return!0;return!1}($)?$:{next:$,error:q,complete:ge},void 0===ae.next&&(ae.next=Qr),void 0===ae.error&&(ae.error=Qr),void 0===ae.complete&&(ae.complete=Qr);const ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ae.error(this.finalError):ae.complete()}catch(Xe){}}),this.observers.push(ae),ke}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,$)}sendOne($,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{q(this.observers[$])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qr(){}const pr=function(z,$,q,ge){let ae;if(ge<$?ae="at least "+$:ge>q&&(ae=0===q?"none":"no more than "+q),ae)throw new Error(z+" failed: Was called with "+ge+(1===ge?" argument.":" arguments.")+" Expects "+ae+".")};function $e(z,$){return`${z} failed: ${$} argument `}function ht(z,$,q,ge){if((!ge||q)&&"function"!=typeof q)throw new Error($e(z,$)+"must be a valid function.")}function ft(z,$,q,ge){if((!ge||q)&&("object"!=typeof q||null===q))throw new Error($e(z,$)+"must be a valid context object.")}const gr=function(z){const $=[];let q=0;for(let ge=0;ge<z.length;ge++){let ae=z.charCodeAt(ge);if(ae>=55296&&ae<=56319){const ke=ae-55296;ge++,te(ge<z.length,"Surrogate pair missing trail surrogate."),ae=65536+(ke<<10)+(z.charCodeAt(ge)-56320)}ae<128?$[q++]=ae:ae<2048?($[q++]=ae>>6|192,$[q++]=63&ae|128):ae<65536?($[q++]=ae>>12|224,$[q++]=ae>>6&63|128,$[q++]=63&ae|128):($[q++]=ae>>18|240,$[q++]=ae>>12&63|128,$[q++]=ae>>6&63|128,$[q++]=63&ae|128)}return $},Pt=function(z){let $=0;for(let q=0;q<z.length;q++){const ge=z.charCodeAt(q);ge<128?$++:ge<2048?$+=2:ge>=55296&&ge<=56319?($+=4,q++):$+=3}return $};function Vt(z,$=1e3,q=2){const ge=$*Math.pow(q,z),ae=Math.round(.5*ge*(Math.random()-.5)*2);return Math.min(144e5,ge+ae)}function Wl(z){return z&&z._delegate?z._delegate:z}},2329:(Pe,pe,F)=>{"use strict";F.d(pe,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=F(8026);(0,l.registerVersion)("firebase","9.6.1","app")},7841:(Pe,pe,F)=>{"use strict";F.d(pe,{Z:()=>l.Z});var l=F(3394);l.Z.registerVersion("firebase","9.6.1","app-compat")},2755:(Pe,pe,F)=>{"use strict";F.r(pe);var l=F(8239),te=F(3394),L=F(3854),ce=F(8026);function K(_,f){var p={};for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&f.indexOf(b)<0&&(p[b]=_[b]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(b=Object.getOwnPropertySymbols(_);T<b.length;T++)f.indexOf(b[T])<0&&Object.prototype.propertyIsEnumerable.call(_,b[T])&&(p[b[T]]=_[b[T]])}return p}var Tt=F(5422),Le=F(3910);const Ki=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},yi=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wt=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nn=new Tt.Yd("@firebase/auth");function Fn(_,...f){nn.logLevel<=Tt.in.ERROR&&nn.error(`Auth (${ce.SDK_VERSION}): ${_}`,...f)}function It(_,...f){throw vi(_,...f)}function rn(_,...f){return vi(_,...f)}function to(_,f,p){const b=Object.assign(Object.assign({},yi()),{[f]:p});return new L.LL("auth","Firebase",b).create(f,{appName:_.name})}function Jr(_,f,p){if(!(f instanceof p))throw p.name!==f.constructor.name&&It(_,"argument-error"),to(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vi(_,...f){if("string"!=typeof _){const p=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=_.name),_._errorFactory.create(p,...b)}return Wt.create(_,...f)}function Ce(_,f,...p){if(!_)throw vi(f,...p)}function Hn(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Fn(f),new Error(f)}function Tn(_,f){_||Hn(f)}const Fe=new Map;function Mt(_){Tn(_ instanceof Function,"Expected a class definition");let f=Fe.get(_);return f?(Tn(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Fe.set(_,f),f)}function $e(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function We(){return"http:"===ht()||"https:"===ht()}function ht(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Pt{constructor(f,p){this.shortDelay=f,this.longDelay=p,Tn(p>f,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(We()||(0,L.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Se(_,f){Tn(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return f?`${p}${f.startsWith("/")?f.slice(1):f}`:p}class je{static initialize(f,p,b){this.fetchImpl=f,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wa={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ji=new Pt(3e4,6e4);function Vt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function Qe(_,f,p,b){return mr.apply(this,arguments)}function mr(){return(mr=(0,l.Z)(function*(_,f,p,b,T={}){return Wl(_,T,(0,l.Z)(function*(){let S={},W={};b&&("GET"===f?W=b:S={body:JSON.stringify(b)});const se=(0,L.xO)(Object.assign({key:_.config.apiKey},W)).slice(1),Ne=yield _._getAdditionalHeaders();return Ne["Content-Type"]="application/json",_.languageCode&&(Ne["X-Firebase-Locale"]=_.languageCode),je.fetch()(ge(_,_.config.apiHost,p,se),Object.assign({method:f,headers:Ne,referrerPolicy:"no-referrer"},S))}))})).apply(this,arguments)}function Wl(_,f,p){return z.apply(this,arguments)}function z(){return(z=(0,l.Z)(function*(_,f,p){_._canInitEmulator=!1;const b=Object.assign(Object.assign({},Wa),f);try{const T=new ae(_),S=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const W=yield S.json();if("needConfirmation"in W)throw ke(_,"account-exists-with-different-credential",W);if(S.ok&&!("errorMessage"in W))return W;{const se=S.ok?W.errorMessage:W.error.message,[Ne,we]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw ke(_,"credential-already-in-use",W);if("EMAIL_EXISTS"===Ne)throw ke(_,"email-already-in-use",W);const Oe=b[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(we)throw to(_,Oe,we);It(_,Oe)}}catch(T){if(T instanceof L.ZR)throw T;It(_,"network-request-failed")}})).apply(this,arguments)}function $(_,f,p,b){return q.apply(this,arguments)}function q(){return(q=(0,l.Z)(function*(_,f,p,b,T={}){const S=yield Qe(_,f,p,b,T);return"mfaPendingCredential"in S&&It(_,"multi-factor-auth-required",{_serverResponse:S}),S})).apply(this,arguments)}function ge(_,f,p,b){const T=`${f}${p}?${b}`;return _.config.emulator?Se(_.config,T):`${_.config.apiScheme}://${T}`}class ae{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(rn(this.auth,"timeout")),Ji.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ke(_,f,p){const b={appName:_.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const T=rn(_,f,b);return T.customData._tokenResponse=p,T}function Nt(){return(Nt=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function mn(_,f){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Xn(_,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Gn(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Cs(){return(Cs=(0,l.Z)(function*(_,f=!1){const p=(0,L.m9)(_),b=yield p.getIdToken(f),T=ws(b);Ce(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const S="object"==typeof T.firebase?T.firebase:void 0,W=null==S?void 0:S.sign_in_provider;return{claims:T,token:b,authTime:Gn(Ya(T.auth_time)),issuedAtTime:Gn(Ya(T.iat)),expirationTime:Gn(Ya(T.exp)),signInProvider:W||null,signInSecondFactor:(null==S?void 0:S.sign_in_second_factor)||null}})).apply(this,arguments)}function Ya(_){return 1e3*Number(_)}function ws(_){const[f,p,b]=_.split(".");if(void 0===f||void 0===p||void 0===b)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,L.tV)(p);return T?JSON.parse(T):(Fn("Failed to decode base64 JWT payload"),null)}catch(T){return Fn("Caught error parsing JWT payload as JSON",T),null}}function Br(_,f){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(_,f,p=!1){if(p)return f;try{return yield f}catch(b){throw b instanceof L.ZR&&Tr(b)&&_.auth.currentUser===_&&(yield _.auth.signOut()),b}})).apply(this,arguments)}function Tr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class Xr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var p;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),b)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&f.schedule(!0))}f.schedule()})()}}class Ur{constructor(f,p){this.createdAt=f,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Es(_){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(_){var f;const p=_.auth,b=yield _.getIdToken(),T=yield Br(_,Xn(p,{idToken:b}));Ce(null==T?void 0:T.users.length,p,"internal-error");const S=T.users[0];_._notifyReloadListener(S);const W=(null===(f=S.providerUserInfo)||void 0===f?void 0:f.length)?_r(S.providerUserInfo):[],se=Bt(_.providerData,W),Oe=!!_.isAnonymous&&!(_.email&&S.passwordHash||(null==se?void 0:se.length)),Ve={uid:S.localId,displayName:S.displayName||null,photoURL:S.photoUrl||null,email:S.email||null,emailVerified:S.emailVerified||!1,phoneNumber:S.phoneNumber||null,tenantId:S.tenantId||null,providerData:se,metadata:new Ur(S.createdAt,S.lastLoginAt),isAnonymous:Oe};Object.assign(_,Ve)})).apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(_){const f=(0,L.m9)(_);yield Es(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Bt(_,f){return[..._.filter(b=>!f.some(T=>T.providerId===b.providerId)),...f]}function _r(_){return _.map(f=>{var{providerId:p}=f,b=K(f,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}function yn(){return(yn=(0,l.Z)(function*(_,f){const p=yield Wl(_,{},(0,l.Z)(function*(){const b=(0,L.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:S}=_.config,W=ge(_,T,"/v1/token",`key=${S}`),se=yield _._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",je.fetch()(W,{method:"POST",headers:se,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ir{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ce(f.idToken,"internal-error"),Ce(void 0!==f.idToken,"internal-error"),Ce(void 0!==f.refreshToken,"internal-error");const p="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=ws(_);return Ce(f,"internal-error"),Ce(void 0!==f.exp,"internal-error"),Ce(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,p)}getToken(f,p=!1){var b=this;return(0,l.Z)(function*(){return Ce(!b.accessToken||b.refreshToken,f,"user-token-expired"),p||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,p){var b=this;return(0,l.Z)(function*(){const{accessToken:T,refreshToken:S,expiresIn:W}=yield function(_,f){return yn.apply(this,arguments)}(f,p);b.updateTokensAndExpiration(T,S,Number(W))})()}updateTokensAndExpiration(f,p,b){this.refreshToken=p||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,p){const{refreshToken:b,accessToken:T,expirationTime:S}=p,W=new Ir;return b&&(Ce("string"==typeof b,"internal-error",{appName:f}),W.refreshToken=b),T&&(Ce("string"==typeof T,"internal-error",{appName:f}),W.accessToken=T),S&&(Ce("number"==typeof S,"internal-error",{appName:f}),W.expirationTime=S),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ir,this.toJSON())}_performRefresh(){return Hn("not implemented")}}function Ut(_,f){Ce("string"==typeof _||void 0===_,"internal-error",{appName:f})}class Nr{constructor(f){var{uid:p,auth:b,stsTokenManager:T}=f,S=K(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=S.displayName||null,this.email=S.email||null,this.emailVerified=S.emailVerified||!1,this.phoneNumber=S.phoneNumber||null,this.photoURL=S.photoURL||null,this.isAnonymous=S.isAnonymous||!1,this.tenantId=S.tenantId||null,this.metadata=new Ur(S.createdAt||void 0,S.lastLoginAt||void 0)}getIdToken(f){var p=this;return(0,l.Z)(function*(){const b=yield Br(p,p.stsTokenManager.getToken(p.auth,f));return Ce(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(f){return function(_){return Cs.apply(this,arguments)}(this,f)}reload(){return function(_){return it.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ce(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(p=>Object.assign({},p)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Nr(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,p=!1){var b=this;return(0,l.Z)(function*(){let T=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),T=!0),p&&(yield Es(b)),yield b.auth._persistUserIfCurrent(b),T&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,l.Z)(function*(){const p=yield f.getIdToken();return yield Br(f,function(_,f){return Nt.apply(this,arguments)}(f.auth,{idToken:p})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,p){var b,T,S,W,se,Ne,we,Oe;const Ve=null!==(b=p.displayName)&&void 0!==b?b:void 0,at=null!==(T=p.email)&&void 0!==T?T:void 0,jn=null!==(S=p.phoneNumber)&&void 0!==S?S:void 0,Po=null!==(W=p.photoURL)&&void 0!==W?W:void 0,Qh=null!==(se=p.tenantId)&&void 0!==se?se:void 0,wl=null!==(Ne=p._redirectEventId)&&void 0!==Ne?Ne:void 0,lg=null!==(we=p.createdAt)&&void 0!==we?we:void 0,h_=null!==(Oe=p.lastLoginAt)&&void 0!==Oe?Oe:void 0,{uid:ug,emailVerified:f_,isAnonymous:p_,providerData:Xh,stsTokenManager:ef}=p;Ce(ug&&ef,f,"internal-error");const tf=Ir.fromJSON(this.name,ef);Ce("string"==typeof ug,f,"internal-error"),Ut(Ve,f.name),Ut(at,f.name),Ce("boolean"==typeof f_,f,"internal-error"),Ce("boolean"==typeof p_,f,"internal-error"),Ut(jn,f.name),Ut(Po,f.name),Ut(Qh,f.name),Ut(wl,f.name),Ut(lg,f.name),Ut(h_,f.name);const od=new Nr({uid:ug,auth:f,email:at,emailVerified:f_,displayName:Ve,isAnonymous:p_,photoURL:Po,phoneNumber:jn,tenantId:Qh,stsTokenManager:tf,createdAt:lg,lastLoginAt:h_});return Xh&&Array.isArray(Xh)&&(od.providerData=Xh.map(nf=>Object.assign({},nf))),wl&&(od._redirectEventId=wl),od}static _fromIdTokenResponse(f,p,b=!1){return(0,l.Z)(function*(){const T=new Ir;T.updateFromServerResponse(p);const S=new Nr({uid:p.localId,auth:f,stsTokenManager:T,isAnonymous:b});return yield Es(S),S})()}}const qe=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,b){var T=this;return(0,l.Z)(function*(){T.storage[p]=b})()}_get(p){var b=this;return(0,l.Z)(function*(){const T=b.storage[p];return void 0===T?null:T})()}_remove(p){var b=this;return(0,l.Z)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return _.type="NONE",_})();function yr(_,f,p){return`firebase:${_}:${f}:${p}`}class Hr{constructor(f,p,b){this.persistence=f,this.auth=p,this.userKey=b;const{config:T,name:S}=this.auth;this.fullUserKey=yr(this.userKey,T.apiKey,S),this.fullPersistenceKey=yr("persistence",T.apiKey,S),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const p=yield f.persistence._get(f.fullUserKey);return p?Nr._fromJSON(f.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var p=this;return(0,l.Z)(function*(){if(p.persistence===f)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=f,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,p,b="authUser"){return(0,l.Z)(function*(){if(!p.length)return new Hr(Mt(qe),f,b);const T=(yield Promise.all(p.map(function(){var we=(0,l.Z)(function*(Oe){if(yield Oe._isAvailable())return Oe});return function(Oe){return we.apply(this,arguments)}}()))).filter(we=>we);let S=T[0]||Mt(qe);const W=yr(b,f.config.apiKey,f.name);let se=null;for(const we of p)try{const Oe=yield we._get(W);if(Oe){const Ve=Nr._fromJSON(f,Oe);we!==S&&(se=Ve),S=we;break}}catch(Oe){}const Ne=T.filter(we=>we._shouldAllowMigration);return S._shouldAllowMigration&&Ne.length?(S=Ne[0],se&&(yield S._set(W,se.toJSON())),yield Promise.all(p.map(function(){var we=(0,l.Z)(function*(Oe){if(Oe!==S)try{yield Oe._remove(W)}catch(Ve){}});return function(Oe){return we.apply(this,arguments)}}())),new Hr(S,f,b)):new Hr(S,f,b)})()}}function $n(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Qi(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(ro(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(st(f))return"Blackberry";if(hc(f))return"Webos";if(Wn(f))return"Safari";if((f.includes("chrome/")||io(f))&&!f.includes("edge/"))return"Chrome";if(tr(f))return"Android";{const b=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==b?void 0:b.length))return b[1]}return"Other"}function ro(_=(0,L.z$)()){return/firefox\//i.test(_)}function Wn(_=(0,L.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function io(_=(0,L.z$)()){return/crios\//i.test(_)}function Qi(_=(0,L.z$)()){return/iemobile/i.test(_)}function tr(_=(0,L.z$)()){return/android/i.test(_)}function st(_=(0,L.z$)()){return/blackberry/i.test(_)}function hc(_=(0,L.z$)()){return/webos/i.test(_)}function so(_=(0,L.z$)()){return/iphone|ipad|ipod/i.test(_)}function Ri(_=(0,L.z$)()){return so(_)||tr(_)||hc(_)||st(_)||/windows phone/i.test(_)||Qi(_)}function zn(_,f=[]){let p;switch(_){case"Browser":p=$n((0,L.z$)());break;case"Worker":p=`${$n((0,L.z$)())}-${_}`;break;default:p=_}const b=f.length?f.join(","):"FirebaseCore-web";return`${p}/JsCore/${ce.SDK_VERSION}/${b}`}class Ap{constructor(f,p){this.app=f,this.config=p,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yn(this),this.idTokenSubscription=new Yn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=p.sdkClientVersion}_initializeWithPersistence(f,p){var b=this;return p&&(this._popupRedirectResolver=Mt(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var T,S;if(!b._deleted&&(b.persistenceManager=yield Hr.create(b,f),!b._deleted)){if(null===(T=b._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch(W){}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(S=b.currentUser)||void 0===S?void 0:S.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const p=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||p){if(f.currentUser&&p&&f.currentUser.uid===p.uid)return f._currentUser._assign(p),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(p)}})()}initializeCurrentUser(f){var p=this;return(0,l.Z)(function*(){var b;let T=yield p.assertedPersistence.getCurrentUser();if(f&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const S=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,W=null==T?void 0:T._redirectEventId,se=yield p.tryRedirectSignIn(f);(!S||S===W)&&(null==se?void 0:se.user)&&(T=se.user)}return T?T._redirectEventId?(Ce(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===T._redirectEventId?p.directlySetCurrentUser(T):p.reloadAndSetCurrentUserOrClear(T)):p.reloadAndSetCurrentUserOrClear(T):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var p=this;return(0,l.Z)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,f,!0)}catch(T){yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var p=this;return(0,l.Z)(function*(){try{yield Es(f)}catch(b){if("auth/network-request-failed"!==b.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var p=this;return(0,l.Z)(function*(){const b=f?(0,L.m9)(f):null;return b&&Ce(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(f){var p=this;return(0,l.Z)(function*(){if(!p._deleted)return f&&Ce(p.tenantId===f.tenantId,p,"tenant-id-mismatch"),p.queue((0,l.Z)(function*(){yield p.directlySetCurrentUser(f),p.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var p=this;return this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(Mt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new L.LL("auth","Firebase",f())}onAuthStateChanged(f,p,b){return this.registerStateListener(this.authStateSubscription,f,p,b)}onIdTokenChanged(f,p,b){return this.registerStateListener(this.idTokenSubscription,f,p,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,p){var b=this;return(0,l.Z)(function*(){const T=yield b.getOrInitRedirectPersistenceManager(p);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const b=f&&Mt(f)||p._popupRedirectResolver;Ce(b,p,"argument-error"),p.redirectPersistenceManager=yield Hr.create(p,[Mt(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(f){var p=this;return(0,l.Z)(function*(){var b,T;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===f?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?p.redirectUser:null})()}_persistUserIfCurrent(f){var p=this;return(0,l.Z)(function*(){if(f===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,p,b,T){if(this._deleted)return()=>{};const S="function"==typeof p?p:p.next.bind(p),W=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(W,this,"internal-error"),W.then(()=>S(this.currentUser)),"function"==typeof p?f.addObserver(p,b,T):f.addObserver(p)}directlySetCurrentUser(f){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==f&&(p._currentUser._stopProactiveRefresh(),f&&p.isProactiveRefreshEnabled&&f._startProactiveRefresh()),p.currentUser=f,f?yield p.assertedPersistence.setCurrentUser(f):yield p.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){const p={"X-Client-Version":f.clientVersion};return f.app.options.appId&&(p["X-Firebase-gmpid"]=f.app.options.appId),p})()}}function qt(_){return(0,L.m9)(_)}class Yn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,L.ne)(p=>this.observer=p)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xo(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function ei(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class ea{constructor(f,p){this.providerId=f,this.signInMethod=p}toJSON(){return Hn("not implemented")}_getIdTokenResponse(f){return Hn("not implemented")}_linkToIdToken(f,p){return Hn("not implemented")}_getReauthenticationResolver(f){return Hn("not implemented")}}function pc(_,f){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:resetPassword",Vt(_,f))})).apply(this,arguments)}function ph(_,f){return gc.apply(this,arguments)}function gc(){return(gc=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Sp(_,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:update",Vt(_,f))})).apply(this,arguments)}function mc(){return(mc=(0,l.Z)(function*(_,f){return $(_,"POST","/v1/accounts:signInWithPassword",Vt(_,f))})).apply(this,arguments)}function ql(_,f){return _c.apply(this,arguments)}function _c(){return(_c=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:sendOobCode",Vt(_,f))})).apply(this,arguments)}function Mp(_,f){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.Z)(function*(_,f){return ql(_,f)})).apply(this,arguments)}function Rp(_,f){return gh.apply(this,arguments)}function gh(){return(gh=(0,l.Z)(function*(_,f){return ql(_,f)})).apply(this,arguments)}function vc(_,f){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,l.Z)(function*(_,f){return ql(_,f)})).apply(this,arguments)}function Za(_,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(_,f){return ql(_,f)})).apply(this,arguments)}function na(){return(na=(0,l.Z)(function*(_,f){return $(_,"POST","/v1/accounts:signInWithEmailLink",Vt(_,f))})).apply(this,arguments)}function bi(){return(bi=(0,l.Z)(function*(_,f){return $(_,"POST","/v1/accounts:signInWithEmailLink",Vt(_,f))})).apply(this,arguments)}class ra extends ea{constructor(f,p,b,T=null){super("password",b),this._email=f,this._password=p,this._tenantId=T}static _fromEmailAndPassword(f,p){return new ra(f,p,"password")}static _fromEmailAndCode(f,p,b=null){return new ra(f,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(f){var p=this;return(0,l.Z)(function*(){switch(p.signInMethod){case"password":return function(_,f){return mc.apply(this,arguments)}(f,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function(_,f){return na.apply(this,arguments)}(f,{email:p._email,oobCode:p._password});default:It(f,"internal-error")}})()}_linkToIdToken(f,p){var b=this;return(0,l.Z)(function*(){switch(b.signInMethod){case"password":return ph(f,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function(_,f){return bi.apply(this,arguments)}(f,{idToken:p,email:b._email,oobCode:b._password});default:It(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function en(_,f){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(_,f){return $(_,"POST","/v1/accounts:signInWithIdp",Vt(_,f))})).apply(this,arguments)}class nr extends ea{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const p=new nr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(p.idToken=f.idToken),f.accessToken&&(p.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(p.nonce=f.nonce),f.pendingToken&&(p.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(p.accessToken=f.oauthToken,p.secret=f.oauthTokenSecret):It("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T}=p,S=K(p,["providerId","signInMethod"]);if(!b||!T)return null;const W=new nr(b,T);return W.idToken=S.idToken||void 0,W.accessToken=S.accessToken||void 0,W.secret=S.secret,W.nonce=S.nonce,W.pendingToken=S.pendingToken||null,W}_getIdTokenResponse(f){return en(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,en(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,en(f,p)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),f.postBody=(0,L.xO)(p)}return f}}function Ci(_,f){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:sendVerificationCode",Vt(_,f))})).apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(_,f){return $(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,f))})).apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(_,f){const p=yield $(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,f));if(p.temporaryProof)throw ke(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const sa={USER_NOT_FOUND:"user-not-found"};function uo(){return(uo=(0,l.Z)(function*(_,f){return $(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),sa)})).apply(this,arguments)}class Ts extends ea{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,p){return new Ts({verificationId:f,verificationCode:p})}static _fromTokenResponse(f,p){return new Ts({phoneNumber:f,temporaryProof:p})}_getIdTokenResponse(f){return function(_,f){return Ka.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,p){return function(_,f){return Ar.apply(this,arguments)}(f,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return uo.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:p,verificationId:b,verificationCode:T}=this.params;return f&&p?{temporaryProof:f,phoneNumber:p}:{sessionInfo:b,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:p,verificationCode:b,phoneNumber:T,temporaryProof:S}=f;return b||p||T||S?new Ts({verificationId:p,verificationCode:b,phoneNumber:T,temporaryProof:S}):null}}class Ht{constructor(f){var p,b,T,S,W,se;const Ne=(0,L.zd)((0,L.pd)(f)),we=null!==(p=Ne.apiKey)&&void 0!==p?p:null,Oe=null!==(b=Ne.oobCode)&&void 0!==b?b:null,Ve=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ne.mode)&&void 0!==T?T:null);Ce(we&&Oe&&Ve,"argument-error"),this.apiKey=we,this.operation=Ve,this.code=Oe,this.continueUrl=null!==(S=Ne.continueUrl)&&void 0!==S?S:null,this.languageCode=null!==(W=Ne.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(se=Ne.tenantId)&&void 0!==se?se:null}static parseLink(f){const p=function(_){const f=(0,L.zd)((0,L.pd)(_)).link,p=f?(0,L.zd)((0,L.pd)(f)).deep_link_id:null,b=(0,L.zd)((0,L.pd)(_)).deep_link_id;return(b?(0,L.zd)((0,L.pd)(b)).link:null)||b||p||f||_}(f);try{return new Ht(p)}catch(b){return null}}}let wi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,b){return ra._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const T=Ht.parseLink(b);return Ce(T,"argument-error"),ra._fromEmailAndCode(p,T.code,T.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ni{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Lt extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class co extends Lt{static credentialFromJSON(f){const p="string"==typeof f?JSON.parse(f):f;return Ce("providerId"in p&&"signInMethod"in p,"argument-error"),nr._fromParams(p)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ce(f.idToken||f.accessToken,"argument-error"),nr._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return co.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return co.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:p,oauthAccessToken:b,oauthTokenSecret:T,pendingToken:S,nonce:W,providerId:se}=f;if(!b&&!T&&!p&&!S||!se)return null;try{return new co(se)._credential({idToken:p,accessToken:b,nonce:W,pendingToken:S})}catch(Ne){return null}}}let Ja=(()=>{class _ extends Lt{constructor(){super("facebook.com")}static credential(p){return nr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(b){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Is=(()=>{class _ extends Lt{constructor(){super("google.com"),this.addScope("profile")}static credential(p,b){return nr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:b})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:b,oauthAccessToken:T}=p;if(!b&&!T)return null;try{return _.credential(b,T)}catch(S){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Sr=(()=>{class _ extends Lt{constructor(){super("github.com")}static credential(p){return nr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(b){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class ts extends ea{constructor(f,p){super(f,f),this.pendingToken=p}_getIdTokenResponse(f){return en(f,this.buildRequest())}_linkToIdToken(f,p){const b=this.buildRequest();return b.idToken=p,en(f,b)}_getReauthenticationResolver(f){const p=this.buildRequest();return p.autoCreate=!1,en(f,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const p="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:T,pendingToken:S}=p;return b&&T&&S&&b===T?new ts(b,S):null}static _create(f,p){return new ts(f,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Zn extends ni{constructor(f){Ce(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Zn.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Zn.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const p=ts.fromJSON(f);return Ce(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:p,providerId:b}=f;if(!p||!b)return null;try{return ts._create(b,p)}catch(T){return null}}}let Qa=(()=>{class _ extends Lt{constructor(){super("twitter.com")}static credential(p,b){return nr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:b})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:b,oauthTokenSecret:T}=p;if(!b||!T)return null;try{return _.credential(b,T)}catch(S){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Xa(_,f){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(_,f){return $(_,"POST","/v1/accounts:signUp",Vt(_,f))})).apply(this,arguments)}class vn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,p,b,T=!1){return(0,l.Z)(function*(){const S=yield Nr._fromIdTokenResponse(f,b,T),W=oa(b);return new vn({user:S,providerId:W,_tokenResponse:b,operationType:p})})()}static _forOperation(f,p,b){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const T=oa(b);return new vn({user:f,providerId:T,_tokenResponse:b,operationType:p})})()}}function oa(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ze(){return(ze=(0,l.Z)(function*(_){var f;const p=qt(_);if(yield p._initializationPromise,null===(f=p.currentUser)||void 0===f?void 0:f.isAnonymous)return new vn({user:p.currentUser,providerId:null,operationType:"signIn"});const b=yield Xa(p,{returnSecureToken:!0}),T=yield vn._fromIdTokenResponse(p,"signIn",b,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class el extends L.ZR{constructor(f,p,b,T){var S;super(p.code,p.message),this.operationType=b,this.user=T,Object.setPrototypeOf(this,el.prototype),this.customData={appName:f.name,tenantId:null!==(S=f.tenantId)&&void 0!==S?S:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,p,b,T){return new el(f,p,b,T)}}function Dc(_,f,p,b){return("reauthenticate"===f?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(S=>{throw"auth/multi-factor-auth-required"===S.code?el._fromErrorAndOperation(_,S,f,b):S})}function tl(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function la(){return(la=(0,l.Z)(function*(_,f){const p=(0,L.m9)(_);yield _e(!0,p,f);const{providerUserInfo:b}=yield mn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[f]}),T=tl(b||[]);return p.providerData=p.providerData.filter(S=>T.has(S.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ql(_,f){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(_,f,p=!1){const b=yield Br(_,f._linkToIdToken(_.auth,yield _.getIdToken()),p);return vn._forOperation(_,"link",b)})).apply(this,arguments)}function _e(_,f,p){return ot.apply(this,arguments)}function ot(){return(ot=(0,l.Z)(function*(_,f,p){yield Es(f);const T=!1===_?"provider-already-linked":"no-such-provider";Ce(tl(f.providerData).has(p)===_,f.auth,T)})).apply(this,arguments)}function nl(_,f){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(_,f,p=!1){const{auth:b}=_,T="reauthenticate";try{const S=yield Br(_,Dc(b,T,f,_),p);Ce(S.idToken,b,"internal-error");const W=ws(S.idToken);Ce(W,b,"internal-error");const{sub:se}=W;return Ce(_.uid===se,b,"user-mismatch"),vn._forOperation(_,T,S)}catch(S){throw"auth/user-not-found"===(null==S?void 0:S.code)&&It(b,"user-mismatch"),S}})).apply(this,arguments)}function rl(_,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(_,f,p=!1){const b="signIn",T=yield Dc(_,b,f),S=yield vn._fromIdTokenResponse(_,b,T);return p||(yield _._updateCurrentUser(S.user)),S})).apply(this,arguments)}function rr(_,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,l.Z)(function*(_,f){return rl(qt(_),f)})).apply(this,arguments)}function ua(_,f){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,l.Z)(function*(_,f){const p=(0,L.m9)(_);return yield _e(!1,p,f.providerId),Ql(p,f)})).apply(this,arguments)}function Xl(_,f){return fo.apply(this,arguments)}function fo(){return(fo=(0,l.Z)(function*(_,f){return nl((0,L.m9)(_),f)})).apply(this,arguments)}function po(_,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(_,f){return $(_,"POST","/v1/accounts:signInWithCustomToken",Vt(_,f))})).apply(this,arguments)}function ca(){return(ca=(0,l.Z)(function*(_,f){const p=qt(_),b=yield po(p,{token:f,returnSecureToken:!0}),T=yield vn._fromIdTokenResponse(p,"signIn",b);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class ri{constructor(f,p){this.factorId=f,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(f,p){return"phoneInfo"in p?ir._fromServerResponse(f,p):It(f,"internal-error")}}class ir extends ri{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,p){return new ir(p)}}function eu(_,f,p){var b;Ce((null===(b=p.url)||void 0===b?void 0:b.length)>0,_,"invalid-continue-uri"),Ce(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=p.url,f.dynamicLinkDomain=p.dynamicLinkDomain,f.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ce(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=p.iOS.bundleId),p.android&&(Ce(p.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=p.android.installApp,f.androidMinimumVersionCode=p.android.minimumVersion,f.androidPackageName=p.android.packageName)}function da(){return(da=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_),T={requestType:"PASSWORD_RESET",email:f};p&&eu(b,T,p),yield Rp(b,T)})).apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(_,f,p){yield pc((0,L.m9)(_),{oobCode:f,newPassword:p})})).apply(this,arguments)}function sl(){return(sl=(0,l.Z)(function*(_,f){yield Sp((0,L.m9)(_),{oobCode:f})})).apply(this,arguments)}function go(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(_,f){const p=(0,L.m9)(_),b=yield pc(p,{oobCode:f}),T=b.requestType;switch(Ce(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(b.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(b.mfaInfo,p,"internal-error");default:Ce(b.email,p,"internal-error")}let S=null;return b.mfaInfo&&(S=ri._fromServerResponse(qt(p),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:S},operation:T}})).apply(this,arguments)}function Ns(){return(Ns=(0,l.Z)(function*(_,f){const{data:p}=yield go((0,L.m9)(_),f);return p.email})).apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(_,f,p){const b=qt(_),T=yield Xa(b,{returnSecureToken:!0,email:f,password:p}),S=yield vn._fromIdTokenResponse(b,"signIn",T);return yield b._updateCurrentUser(S.user),S})).apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_),T={requestType:"EMAIL_SIGNIN",email:f};Ce(p.handleCodeInApp,b,"argument-error"),p&&eu(b,T,p),yield vc(b,T)})).apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_),T=wi.credentialWithLink(f,p||$e());return Ce(T._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),rr(b,T)})).apply(this,arguments)}function _o(_,f){return sn.apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:createAuthUri",Vt(_,f))})).apply(this,arguments)}function yh(){return(yh=(0,l.Z)(function*(_,f){const b={identifier:f,continueUri:We()?$e():"http://localhost"},{signinMethods:T}=yield _o((0,L.m9)(_),b);return T||[]})).apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(_,f){const p=(0,L.m9)(_),T={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&eu(p.auth,T,f);const{email:S}=yield Mp(p.auth,T);S!==_.email&&(yield _.reload())})).apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_),S={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};p&&eu(b.auth,S,p);const{email:W}=yield Za(b.auth,S);W!==_.email&&(yield _.reload())})).apply(this,arguments)}function ol(_,f){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(_,f){return Qe(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function pn(){return(pn=(0,l.Z)(function*(_,{displayName:f,photoURL:p}){if(void 0===f&&void 0===p)return;const b=(0,L.m9)(_),S={idToken:yield b.getIdToken(),displayName:f,photoUrl:p,returnSecureToken:!0},W=yield Br(b,ol(b.auth,S));b.displayName=W.displayName||null,b.photoURL=W.photoUrl||null;const se=b.providerData.find(({providerId:Ne})=>"password"===Ne);se&&(se.displayName=b.displayName,se.photoURL=b.photoURL),yield b._updateTokensIfNecessary(W)})).apply(this,arguments)}function Oi(_,f,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(_,f,p){const{auth:b}=_,S={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(S.email=f),p&&(S.password=p);const W=yield Br(_,ph(b,S));yield _._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class bo{constructor(f,p,b={}){this.isNewUser=f,this.providerId=p,this.profile=b}}class ss extends bo{constructor(f,p,b,T){super(f,p,b),this.username=T}}class ou extends bo{constructor(f,p){super(f,"facebook.com",p)}}class Ch extends ss{constructor(f,p){super(f,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Pp extends bo{constructor(f,p){super(f,"google.com",p)}}class Fp extends ss{constructor(f,p,b){super(f,"twitter.com",p,b)}}function ii(_){const{user:f,_tokenResponse:p}=_;return f.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,p;if(!_)return null;const{providerId:b}=_,T=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},S=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!b&&(null==_?void 0:_.idToken)){const W=null===(p=null===(f=ws(_.idToken))||void 0===f?void 0:f.firebase)||void 0===p?void 0:p.sign_in_provider;if(W)return new bo(S,"anonymous"!==W&&"custom"!==W?W:null)}if(!b)return null;switch(b){case"facebook.com":return new ou(S,T);case"github.com":return new Ch(S,T);case"google.com":return new Pp(S,T);case"twitter.com":return new Fp(S,T,_.screenName||null);case"custom":case"anonymous":return new bo(S,null);default:return new bo(S,b,T)}}(p)}class Mr{constructor(f,p){this.type=f,this.credential=p}static _fromIdtoken(f){return new Mr("enroll",f)}static _fromMfaPendingCredential(f){return new Mr("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var p,b;if(null==f?void 0:f.multiFactorSession){if(null===(p=f.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Mr._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(b=f.multiFactorSession)||void 0===b?void 0:b.idToken)return Mr._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ma{constructor(f,p,b){this.session=f,this.hints=p,this.signInResolver=b}static _fromError(f,p){const b=qt(f),T=p.customData._serverResponse,S=(T.mfaInfo||[]).map(se=>ri._fromServerResponse(b,se));Ce(T.mfaPendingCredential,b,"internal-error");const W=Mr._fromMfaPendingCredential(T.mfaPendingCredential);return new ma(W,S,function(){var se=(0,l.Z)(function*(Ne){const we=yield Ne._process(b,W);delete T.mfaInfo,delete T.mfaPendingCredential;const Oe=Object.assign(Object.assign({},T),{idToken:we.idToken,refreshToken:we.refreshToken});switch(p.operationType){case"signIn":const Ve=yield vn._fromIdTokenResponse(b,p.operationType,Oe);return yield b._updateCurrentUser(Ve.user),Ve;case"reauthenticate":return Ce(p.user,b,"internal-error"),vn._forOperation(p.user,p.operationType,Oe);default:It(b,"internal-error")}});return function(Ne){return se.apply(this,arguments)}}())}resolveSignIn(f){var p=this;return(0,l.Z)(function*(){return p.signInResolver(f)})()}}function Jm(_,f){return Qe(_,"POST","/v2/accounts/mfaEnrollment:start",Vt(_,f))}class Pc{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(b=>ri._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Pc(f)}getSession(){var f=this;return(0,l.Z)(function*(){return Mr._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,p){var b=this;return(0,l.Z)(function*(){const T=f,S=yield b.getSession(),W=yield Br(b.user,T._process(b.user.auth,S,p));return yield b.user._updateTokensIfNecessary(W),b.user.reload()})()}unenroll(f){var p=this;return(0,l.Z)(function*(){const b="string"==typeof f?f:f.uid,T=yield p.user.getIdToken(),S=yield Br(p.user,function(_,f){return Qe(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(_,f))}(p.user.auth,{idToken:T,mfaEnrollmentId:b}));p.enrolledFactors=p.enrolledFactors.filter(({uid:W})=>W!==b),yield p.user._updateTokensIfNecessary(S);try{yield p.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const ll=new WeakMap,As="__sak";class An{constructor(f,p){this.storageRetriever=f,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(As,"1"),this.storage.removeItem(As),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,p){return this.storage.setItem(f,JSON.stringify(p)),Promise.resolve()}_get(f){const p=this.storage.getItem(f);return Promise.resolve(p?JSON.parse(p):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const wo=(()=>{class _ extends An{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,L.z$)();return Wn(_)||so(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Ri(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const T=this.storage.getItem(b),S=this.localCache[b];T!==S&&p(b,S,T)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((se,Ne,we)=>{this.notifyListeners(se,we)});const T=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(T);if(p.newValue!==se)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!b)return}const S=()=>{const se=this.storage.getItem(T);!b&&this.localCache[T]===se||this.notifyListeners(T,se)},W=this.storage.getItem(T);(0,L.w1)()&&10===document.documentMode&&W!==p.newValue&&p.newValue!==p.oldValue?setTimeout(S,10):S()}notifyListeners(p,b){this.localCache[p]=b;const T=this.listeners[p];if(T)for(const S of Array.from(T))S(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var T=()=>super._set,S=this;return(0,l.Z)(function*(){yield T().call(S,p,b),S.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,T=this;return(0,l.Z)(function*(){const S=yield b().call(T,p);return T.localCache[p]=JSON.stringify(S),S})()}_remove(p){var b=()=>super._remove,T=this;return(0,l.Z)(function*(){yield b().call(T,p),delete T.localCache[p]})()}}return _.type="LOCAL",_})(),jr=(()=>{class _ extends An{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return _.type="SESSION",_})();let Th=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(S=>S.isListeningto(p));if(b)return b;const T=new _(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,l.Z)(function*(){const T=p,{eventId:S,eventType:W,data:se}=T.data,Ne=b.handlersMap[W];if(!(null==Ne?void 0:Ne.size))return;T.ports[0].postMessage({status:"ack",eventId:S,eventType:W});const we=Array.from(Ne).map(function(){var Ve=(0,l.Z)(function*(at){return at(T.origin,se)});return function(at){return Ve.apply(this,arguments)}}()),Oe=yield function(_){return Promise.all(_.map(function(){var f=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return f.apply(this,arguments)}}()))}(we);T.ports[0].postMessage({status:"done",eventId:S,eventType:W,response:Oe})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function as(_="",f=10){let p="";for(let b=0;b<f;b++)p+=Math.floor(10*Math.random());return _+p}class ya{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,p,b=50){var T=this;return(0,l.Z)(function*(){const S="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!S)throw new Error("connection_unavailable");let W,se;return new Promise((Ne,we)=>{const Oe=as("",20);S.port1.start();const Ve=setTimeout(()=>{we(new Error("unsupported_event"))},b);se={messageChannel:S,onMessage(at){const jn=at;if(jn.data.eventId===Oe)switch(jn.data.status){case"ack":clearTimeout(Ve),W=setTimeout(()=>{we(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Ne(jn.data.response);break;default:clearTimeout(Ve),clearTimeout(W),we(new Error("invalid_response"))}}},T.handlers.add(se),S.port1.addEventListener("message",se.onMessage),T.target.postMessage({eventType:f,eventId:Oe,data:p},[S.port2])}).finally(()=>{se&&T.removeMessageHandler(se)})})()}}function Mn(){return window}function va(){return void 0!==Mn().WorkerGlobalScope&&"function"==typeof Mn().importScripts}function ba(){return(ba=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const on="firebaseLocalStorageDb",oi="firebaseLocalStorage",Ea="fbase_key";class Li{constructor(f){this.request=f}toPromise(){return new Promise((f,p)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function ai(_,f){return _.transaction([oi],f?"readwrite":"readonly").objectStore(oi)}function Ih(){const _=indexedDB.open(on,1);return new Promise((f,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const b=_.result;try{b.createObjectStore(oi,{keyPath:Ea})}catch(T){p(T)}}),_.addEventListener("success",(0,l.Z)(function*(){const b=_.result;b.objectStoreNames.contains(oi)?f(b):(b.close(),yield function(){const _=indexedDB.deleteDatabase(on);return new Li(_).toPromise()}(),f(yield Ih()))}))})}function Lc(_,f,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(_,f,p){const b=ai(_,!0).put({[Ea]:f,value:p});return new Li(b).toPromise()})).apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(_,f){const p=ai(_,!1).get(f),b=yield new Li(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function lu(_,f){const p=ai(_,!0).delete(f);return new Li(p).toPromise()}const cu=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield Ih()),p.db})()}_withRetries(p){var b=this;return(0,l.Z)(function*(){let T=0;for(;;)try{const S=yield b._openDb();return yield p(S)}catch(S){if(T++>3)throw S;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return va()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=Th._getInstance(va()?self:null),p.receiver._subscribe("keyChanged",function(){var b=(0,l.Z)(function*(T,S){return{keyProcessed:(yield p._poll()).includes(S.key)}});return function(T,S){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,l.Z)(function*(T,S){return["keyChanged"]});return function(T,S){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var b,T;if(p.activeServiceWorker=yield function(){return ba.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new ya(p.activeServiceWorker);const S=yield p.sender._send("ping",{},800);!S||(null===(b=S[0])||void 0===b?void 0:b.fulfilled)&&(null===(T=S[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,l.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Ih();return yield Lc(p,As,"1"),yield lu(p,As),!0}catch(p){}return!1})()}_withPendingWrite(p){var b=this;return(0,l.Z)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(S=>Lc(S,p,b)),T.localCache[p]=b,T.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,l.Z)(function*(){const T=yield b._withRetries(S=>function(_,f){return Yt.apply(this,arguments)}(S,p));return b.localCache[p]=T,T})()}_remove(p){var b=this;return(0,l.Z)(function*(){return b._withPendingWrite((0,l.Z)(function*(){return yield b._withRetries(T=>lu(T,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const b=yield p._withRetries(W=>{const se=ai(W,!1).getAll();return new Li(se).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const T=[],S=new Set;for(const{fbase_key:W,value:se}of b)S.add(W),JSON.stringify(p.localCache[W])!==JSON.stringify(se)&&(p.notifyListeners(W,se),T.push(W));for(const W of Object.keys(p.localCache))p.localCache[W]&&!S.has(W)&&(p.notifyListeners(W,null),T.push(W));return T})()}notifyListeners(p,b){this.localCache[p]=b;const T=this.listeners[p];if(T)for(const S of Array.from(T))S(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function du(_,f){return Qe(_,"POST","/v2/accounts/mfaSignIn:start",Vt(_,f))}function Vc(){return(Vc=(0,l.Z)(function*(_){return(yield Qe(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function fu(_){return new Promise((f,p)=>{const b=document.createElement("script");b.setAttribute("src",_),b.onload=f,b.onerror=T=>{const S=rn("internal-error");S.customData=T,p(S)},b.type="text/javascript",b.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(b)})}function Ss(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Gr=1e12;class Do{constructor(f){this.auth=f,this.counter=Gr,this._widgets=new Map}render(f,p){const b=this.counter;return this._widgets.set(b,new Uc(f,this.auth.name,p||{})),this.counter++,b}reset(f){var p;const b=f||Gr;null===(p=this._widgets.get(b))||void 0===p||p.delete(),this._widgets.delete(b)}getResponse(f){var p;return(null===(p=this._widgets.get(f||Gr))||void 0===p?void 0:p.getResponse())||""}execute(f){var p=this;return(0,l.Z)(function*(){var b;return null===(b=p._widgets.get(f||Gr))||void 0===b||b.execute(),""})()}}class Uc{constructor(f,p,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;Ce(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<50;b++)f.push(p.charAt(Math.floor(Math.random()*p.length)));return f.join("")}();const{callback:f,"expired-callback":p}=this.params;if(f)try{f(this.responseToken)}catch(b){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(b){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Et=Ss("rcb"),Di=new Pt(3e4,6e4);class Ft{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Mn().grecaptcha}load(f,p=""){return Ce((_=p).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Mn().grecaptcha):new Promise((b,T)=>{const S=Mn().setTimeout(()=>{T(rn(f,"network-request-failed"))},Di.get());Mn()[Et]=()=>{Mn().clearTimeout(S),delete Mn()[Et];const se=Mn().grecaptcha;if(!se)return void T(rn(f,"internal-error"));const Ne=se.render;se.render=(we,Oe)=>{const Ve=Ne(we,Oe);return this.counter++,Ve},this.hostLanguage=p,b(se)},fu(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Et,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(S),T(rn(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!Mn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hc{load(f){return(0,l.Z)(function*(){return new Do(f)})()}clearedOneInstance(){}}const Sh="recaptcha",us={theme:"light",type:"image"};class br{constructor(f,p=Object.assign({},us),b){this.parameters=p,this.type=Sh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qt(b),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;Ce(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hc:new Ft,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const p=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(p)||new Promise(S=>{const W=se=>{!se||(f.tokenChangeListeners.delete(W),S(se))};f.tokenChangeListeners.add(W),f.isInvisible&&b.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return p=>{if(this.tokenChangeListeners.forEach(b=>b(p)),"function"==typeof f)f(p);else if("string"==typeof f){const b=Mn()[f];"function"==typeof b&&b(p)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let p=f.container;if(!f.isInvisible){const b=document.createElement("div");p.appendChild(b),p=b}f.widgetId=f.getAssertedRecaptcha().render(p,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){Ce(We()&&!va(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const p=yield function(_){return Vc.apply(this,arguments)}(f.auth);Ce(p,f.auth,"internal-error"),f.parameters.sitekey=p})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pu{constructor(f,p){this.verificationId=f,this.onConfirmation=p}confirm(f){const p=Ts._fromVerification(this.verificationId,f);return this.onConfirmation(p)}}function Bi(){return(Bi=(0,l.Z)(function*(_,f,p){const b=qt(_),T=yield I(b,f,(0,L.m9)(p));return new pu(T,S=>rr(b,S))})).apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_);yield _e(!1,b,"phone");const T=yield I(b.auth,f,(0,L.m9)(p));return new pu(T,S=>ua(b,S))})).apply(this,arguments)}function E(){return(E=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_),T=yield I(b.auth,f,(0,L.m9)(p));return new pu(T,S=>Xl(b,S))})).apply(this,arguments)}function I(_,f,p){return M.apply(this,arguments)}function M(){return(M=(0,l.Z)(function*(_,f,p){var b;const T=yield p.verify();try{let S;if(Ce("string"==typeof T,_,"argument-error"),Ce(p.type===Sh,_,"argument-error"),S="string"==typeof f?{phoneNumber:f}:f,"session"in S){const W=S.session;if("phoneNumber"in S)return Ce("enroll"===W.type,_,"internal-error"),(yield Jm(_,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:S.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Ce("signin"===W.type,_,"internal-error");const se=(null===(b=S.multiFactorHint)||void 0===b?void 0:b.uid)||S.multiFactorUid;return Ce(se,_,"missing-multi-factor-info"),(yield du(_,{mfaPendingCredential:W.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Ci(_,{phoneNumber:S.phoneNumber,recaptchaToken:T});return W}}finally{p._reset()}})).apply(this,arguments)}function Q(){return(Q=(0,l.Z)(function*(_,f){yield Ql((0,L.m9)(_),f)})).apply(this,arguments)}let le=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=qt(p)}verifyPhoneNumber(p,b){return I(this.auth,p,(0,L.m9)(b))}static credential(p,b){return Ts._fromVerification(p,b)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:b,temporaryProof:T}=p;return b&&T?Ts._fromTokenResponse(b,T):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function be(_,f){return f?Mt(f):(Ce(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Re extends ea{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return en(f,this._buildIdpRequest())}_linkToIdToken(f,p){return en(f,this._buildIdpRequest(p))}_getReauthenticationResolver(f){return en(f,this._buildIdpRequest())}_buildIdpRequest(f){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(p.idToken=f),p}}function xe(_){return rl(_.auth,new Re(_),_.bypassAuthState)}function pt(_){const{auth:f,user:p}=_;return Ce(p,f,"internal-error"),nl(p,new Re(_),_.bypassAuthState)}function $t(_){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(_){const{auth:f,user:p}=_;return Ce(p,f,"internal-error"),Ql(p,new Re(_),_.bypassAuthState)})).apply(this,arguments)}class Rr{constructor(f,p,b,T,S=!1){this.auth=f,this.resolver=b,this.user=T,this.bypassAuthState=S,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var f=this;return new Promise(function(){var p=(0,l.Z)(function*(b,T){f.pendingPromise={resolve:b,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(S){f.reject(S)}});return function(b,T){return p.apply(this,arguments)}}())}onAuthEvent(f){var p=this;return(0,l.Z)(function*(){const{urlResponse:b,sessionId:T,postBody:S,tenantId:W,error:se,type:Ne}=f;if(se)return void p.reject(se);const we={auth:p.auth,requestUri:b,sessionId:T,tenantId:W||void 0,postBody:S||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ne)(we))}catch(Oe){p.reject(Oe)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return xe;case"linkViaPopup":case"linkViaRedirect":return $t;case"reauthViaPopup":case"reauthViaRedirect":return pt;default:It(this.auth,"internal-error")}}resolve(f){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rt=new Pt(2e3,1e4);function Ms(){return(Ms=(0,l.Z)(function*(_,f,p){const b=qt(_);Jr(_,f,ni);const T=be(b,p);return new hl(b,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_);Jr(b.auth,f,ni);const T=be(b.auth,p);return new hl(b.auth,"reauthViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_);Jr(b.auth,f,ni);const T=be(b.auth,p);return new hl(b.auth,"linkViaPopup",f,T,b).executeNotNull()})).apply(this,arguments)}let hl=(()=>{class _ extends Rr{constructor(p,b,T,S,W){super(p,b,S,W),this.provider=T,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const b=yield p.execute();return Ce(b,p.auth,"internal-error"),b})()}onExecution(){var p=this;return(0,l.Z)(function*(){Tn(1===p.filter.length,"Popup operations only handle one event");const b=as();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],b),p.authWindow.associatedEvent=b,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(rn(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var b,T;this.pollId=(null===(T=null===(b=this.authWindow)||void 0===b?void 0:b.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(rn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Rt.get())};p()}}return _.currentPopupAction=null,_})();const Hi=new Map;class Cr extends Rr{constructor(f,p,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,p=this;return(0,l.Z)(function*(){let b=Hi.get(p.auth._key());if(!b){try{const S=(yield function(_,f){return No.apply(this,arguments)}(p.resolver,p.auth))?yield f().call(p):null;b=()=>Promise.resolve(S)}catch(T){b=()=>Promise.reject(T)}Hi.set(p.auth._key(),b)}return p.bypassAuthState||Hi.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var p=()=>super.onAuthEvent,b=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return p().call(b,f);if("unknown"!==f.type){if(f.eventId){const T=yield b.auth._redirectUserForId(f.eventId);if(T)return b.user=T,p().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function No(){return(No=(0,l.Z)(function*(_,f){const p=zr(f),b=Rh(_);if(!(yield b._isAvailable()))return!1;const T="true"===(yield b._get(p));return yield b._remove(p),T})).apply(this,arguments)}function Mh(_,f){return jc.apply(this,arguments)}function jc(){return(jc=(0,l.Z)(function*(_,f){return Rh(_)._set(zr(f),"true")})).apply(this,arguments)}function Rh(_){return Mt(_._redirectPersistence)}function zr(_){return yr("pendingRedirect",_.config.apiKey,_.name)}function or(){return(or=(0,l.Z)(function*(_,f,p){const b=qt(_);Jr(_,f,ni);const T=be(b,p);return yield Mh(T,b),T._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_);Jr(b.auth,f,ni);const T=be(b.auth,p);yield Mh(T,b.auth);const S=yield Ao(b);return T._openRedirect(b.auth,f,"reauthViaRedirect",S)})).apply(this,arguments)}function Gc(){return(Gc=(0,l.Z)(function*(_,f,p){const b=(0,L.m9)(_);Jr(b.auth,f,ni);const T=be(b.auth,p);yield _e(!1,b,f.providerId),yield Mh(T,b.auth);const S=yield Ao(b);return T._openRedirect(b.auth,f,"linkViaRedirect",S)})).apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(_,f){return yield qt(_)._initializationPromise,ks(_,f,!1)})).apply(this,arguments)}function ks(_,f){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,l.Z)(function*(_,f,p=!1){const b=qt(_),T=be(b,f),W=yield new Cr(b,T,p).execute();return W&&!p&&(delete W.user._redirectEventId,yield b._persistUserIfCurrent(W.user),yield b._setRedirectUser(null,f)),W})).apply(this,arguments)}function Ao(_){return mu.apply(this,arguments)}function mu(){return(mu=(0,l.Z)(function*(_){const f=as(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class jp{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(p=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gp(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=f,p=!0)),p}sendToConsumer(f,p){var b;if(f.error&&!Gp(f)){const T=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(rn(this.auth,T))}else p.onAuthEvent(f)}isEventForConsumer(f,p){const b=null===p.eventId||!!f.eventId&&f.eventId===p.eventId;return p.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(xh(f))}saveEventToCache(f){this.cachedEventUids.add(xh(f)),this.lastProcessedEventTime=Date.now()}}function xh(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Gp({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function pl(_){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,l.Z)(function*(_,f={}){return Qe(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Ia=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Oh=/^https?/;function Ph(){return(Ph=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield pl(_);for(const p of f)try{if(_u(p))return}catch(b){}It(_,"unauthorized-domain")})).apply(this,arguments)}function _u(_){const f=$e(),{protocol:p,hostname:b}=new URL(f);if(_.startsWith("chrome-extension://")){const W=new URL(_);return""===W.hostname&&""===b?"chrome-extension:"===p&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===p&&W.hostname===b}if(!Oh.test(p))return!1;if(Ia.test(_))return b===_;const T=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(b)}const yu=new Pt(3e4,6e4);function gl(){const _=Mn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let ml=null;function So(_){return ml=ml||function(_){return new Promise((f,p)=>{var b,T,S;function W(){gl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{gl(),p(rn(_,"network-request-failed"))},timeout:yu.get()})}if(null===(T=null===(b=Mn().gapi)||void 0===b?void 0:b.iframes)||void 0===T?void 0:T.Iframe)f(gapi.iframes.getContext());else{if(!(null===(S=Mn().gapi)||void 0===S?void 0:S.load)){const se=Ss("iframefcb");return Mn()[se]=()=>{gapi.load?W():p(rn(_,"network-request-failed"))},fu(`https://apis.google.com/js/api.js?onload=${se}`).catch(Ne=>p(Ne))}W()}}).catch(f=>{throw ml=null,f})}(_),ml}const kr=new Pt(5e3,15e3),I0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xs(_){const f=_.config;Ce(f.authDomain,_,"auth-domain-config-required");const p=f.emulator?Se(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,b={apiKey:f.apiKey,appName:_.name,v:ce.SDK_VERSION},T=N0.get(_.config.apiHost);T&&(b.eid=T);const S=_._getFrameworks();return S.length&&(b.fw=S.join(",")),`${p}?${(0,L.xO)(b).slice(1)}`}function yl(){return(yl=(0,l.Z)(function*(_){const f=yield So(_),p=Mn().gapi;return Ce(p,_,"internal-error"),f.open({where:document.body,url:xs(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I0,dontclear:!0},b=>new Promise(function(){var T=(0,l.Z)(function*(S,W){yield b.restyle({setHideOnLeave:!1});const se=rn(_,"network-request-failed"),Ne=Mn().setTimeout(()=>{W(se)},kr.get());function we(){Mn().clearTimeout(Ne),S(b)}b.ping(we).then(we,()=>{W(se)})});return function(S,W){return T.apply(this,arguments)}}()))})).apply(this,arguments)}const zc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zp{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function qp(_,f,p,b,T,S){Ce(_.config.authDomain,_,"auth-domain-config-required"),Ce(_.config.apiKey,_,"invalid-api-key");const W={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:b,v:ce.SDK_VERSION,eventId:T};if(f instanceof ni){f.setDefaultLanguage(_.languageCode),W.providerId=f.providerId||"",(0,L.xb)(f.getCustomParameters())||(W.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ne,we]of Object.entries(S||{}))W[Ne]=we}if(f instanceof Lt){const Ne=f.getScopes().filter(we=>""!==we);Ne.length>0&&(W.scopes=Ne.join(","))}_.tenantId&&(W.tid=_.tenantId);const se=W;for(const Ne of Object.keys(se))void 0===se[Ne]&&delete se[Ne];return`${function({config:_}){return _.emulator?Se(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,L.xO)(se).slice(1)}`}const $i="webStorageSupport";class vl extends class{constructor(f){this.factorId=f}_process(f,p,b){switch(p.type){case"enroll":return this._finalizeEnroll(f,p.credential,b);case"signin":return this._finalizeSignIn(f,p.credential);default:return Hn("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new vl(f)}_finalizeEnroll(f,p,b){return function(_,f){return Qe(_,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(_,f))}(f,{idToken:p,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,p){return function(_,f){return Qe(_,"POST","/v2/accounts/mfaSignIn:finalize",Vt(_,f))}(f,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cu=(()=>{class _{constructor(){}static assertion(p){return vl._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var _,Vh="@firebase/auth";class r_{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const p=this.auth.onIdTokenChanged(b=>{var T;f((null===(T=b)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,p),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const p=this.internalListeners.get(f);!p||(this.internalListeners.delete(f),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ro(){return window}function qc(){return(qc=(0,l.Z)(function*(_,f,p){var b;const{BuildInfo:T}=Ro();Tn(f.sessionId,"AuthEvent did not contain a session ID");const S=yield Aa(f.sessionId),W={};return so()?W.ibi=T.packageName:tr()?W.apn=T.packageName:It(_,"operation-not-supported-in-this-environment"),T.displayName&&(W.appDisplayName=T.displayName),W.sessionId=S,qp(_,p,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,W)})).apply(this,arguments)}function wu(){return(wu=(0,l.Z)(function*(_){const{BuildInfo:f}=Ro(),p={};so()?p.iosBundleId=f.packageName:tr()?p.androidPackageName=f.packageName:It(_,"operation-not-supported-in-this-environment"),yield pl(_,p)})).apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(_,f,p){const{cordova:b}=Ro();let T=()=>{};try{yield new Promise((S,W)=>{let se=null;function Ne(){var Ve;S();const at=null===(Ve=b.plugins.browsertab)||void 0===Ve?void 0:Ve.close;"function"==typeof at&&at(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function we(){se||(se=window.setTimeout(()=>{W(rn(_,"redirect-cancelled-by-user"))},2e3))}function Oe(){"visible"===(null==document?void 0:document.visibilityState)&&we()}f.addPassiveListener(Ne),document.addEventListener("resume",we,!1),tr()&&document.addEventListener("visibilitychange",Oe,!1),T=()=>{f.removePassiveListener(Ne),document.removeEventListener("resume",we,!1),document.removeEventListener("visibilitychange",Oe,!1),se&&window.clearTimeout(se)}})}finally{T()}})).apply(this,arguments)}function Aa(_){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(_){const f=i_(_),p=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function i_(_){if(Tn(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),p=new Uint8Array(f);for(let b=0;b<_.length;b++)p[b]=_.charCodeAt(b);return p}_="Browser",(0,ce._registerComponent)(new Le.wA("auth",(f,{options:p})=>{const b=f.getProvider("app").getImmediate(),{apiKey:T,authDomain:S}=b.options;return(W=>{Ce(T&&!T.includes(":"),"invalid-api-key",{appName:W.name}),Ce(!(null==S?void 0:S.includes(":")),"argument-error",{appName:W.name});const se={apiKey:T,authDomain:S,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zn(_)},Ne=new Ap(W,se);return function(_,f){const p=(null==f?void 0:f.persistence)||[],b=(Array.isArray(p)?p:[p]).map(Mt);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(b,null==f?void 0:f.popupRedirectResolver)}(Ne,p),Ne})(b)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,p,b)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Le.wA("auth-internal",f=>{const p=qt(f.getProvider("auth").getImmediate());return new r_(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Vh,"0.19.4",void 0),(0,ce.registerVersion)(Vh,"0.19.4","esm2017");class Xp extends jp{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(f)),super.onEvent(f)}initialized(){var f=this;return(0,l.Z)(function*(){yield f.initPromise})()}}function Eu(_){return Du.apply(this,arguments)}function Du(){return(Du=(0,l.Z)(function*(_){const f=yield Hh()._get($h(_));return f&&(yield Hh()._remove($h(_))),f})).apply(this,arguments)}function Uh(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const b=Math.floor(Math.random()*f.length);_.push(f.charAt(b))}return _.join("")}function Hh(){return Mt(wo)}function $h(_){return yr("authEvent",_.config.apiKey,_.name)}function ds(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...p]=_.split("?");return(0,L.zd)(p.join("?"))}function tg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:rn("no-auth-event")}}function jh(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Wh(_=(0,L.z$)()){return!("file:"!==jh()&&"ionic:"!==jh()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function u_(){try{const _=self.localStorage,f=as();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,L.z$)()){return(0,L.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,L.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,L.hl)()}catch(_){return td()&&(0,L.hl)()}return!1}function td(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function nd(){return("http:"===jh()||"https:"===jh()||(0,L.ru)()||Wh())&&!((0,L.b$)()||(0,L.UG)())&&u_()&&!td()}function Iu(){return Wh()&&"undefined"!=typeof document}function rd(){return(rd=(0,l.Z)(function*(){return!!Iu()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const Zr={LOCAL:"local",NONE:"none",SESSION:"session"},bl=Ce,Cl="persistence";function Nu(_){return xo.apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(_){yield _._initializationPromise;const f=ig(),p=yr(Cl,_.config.apiKey,_.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(p,_._getPersistence())})).apply(this,arguments)}function ig(){return"undefined"!=typeof window?window:null}const Zh=Ce;class Ps{constructor(){this.browserResolver=Mt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jr,this._completeRedirectFn=ks}_openPopup(f,p,b,T){var S=this;return(0,l.Z)(function*(){var W;Tn(null===(W=S.eventManagers[f._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const se=qp(f,p,b,$e(),T);return function(_,f,p,b=500,T=600){const S=Math.max((window.screen.availHeight-T)/2,0).toString(),W=Math.max((window.screen.availWidth-b)/2,0).toString();let se="";const Ne=Object.assign(Object.assign({},zc),{width:b.toString(),height:T.toString(),top:S,left:W}),we=(0,L.z$)().toLowerCase();p&&(se=io(we)?"_blank":p),ro(we)&&(f=f||"http://localhost",Ne.scrollbars="yes");const Oe=Object.entries(Ne).reduce((at,[jn,Po])=>`${at}${jn}=${Po},`,"");if(function(_=(0,L.z$)()){var f;return so(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(we)&&"_self"!==se)return function(_,f){const p=document.createElement("a");p.href=_,p.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(f||"",se),new Zp(null);const Ve=window.open(f||"",se,Oe);Ce(Ve,_,"popup-blocked");try{Ve.focus()}catch(at){}return new Zp(Ve)}(f,se,as())})()}_openRedirect(f,p,b,T){var S=this;return(0,l.Z)(function*(){return yield S._originValidation(f),_=qp(f,p,b,$e(),T),Mn().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const p=f._key();if(this.eventManagers[p]){const{manager:T,promise:S}=this.eventManagers[p];return T?Promise.resolve(T):(Tn(S,"If manager is not set, promise should be"),S)}const b=this.initAndGetManager(f);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(f){var p=this;return(0,l.Z)(function*(){const b=yield function(_){return yl.apply(this,arguments)}(f),T=new jp(f);return b.register("authEvent",S=>(Ce(null==S?void 0:S.authEvent,f,"invalid-auth-event"),{status:T.onEvent(S.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[f._key()]={manager:T},p.iframes[f._key()]=b,T})()}_isIframeWebStorageSupported(f,p){this.iframes[f._key()].send($i,{type:$i},T=>{var S;const W=null===(S=null==T?void 0:T[0])||void 0===S?void 0:S[$i];void 0!==W&&p(!!W),It(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(_){return Ph.apply(this,arguments)}(f)),this.originValidationPromises[p]}get _shouldInitProactively(){return Ri()||Wn()||so()}}),this.cordovaResolver=Mt(class{constructor(){this._redirectPersistence=jr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ks}_initialize(f){var p=this;return(0,l.Z)(function*(){const b=f._key();let T=p.eventManagers.get(b);return T||(T=new Xp(f),p.eventManagers.set(b,T),p.attachCallbackListeners(f,T)),T})()}_openPopup(f){It(f,"operation-not-supported-in-this-environment")}_openRedirect(f,p,b,T){var S=this;return(0,l.Z)(function*(){!function(_){var f,p,b,T,S,W,se,Ne,we,Oe;const Ve=Ro();Ce("function"==typeof(null===(f=null==Ve?void 0:Ve.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ce(void 0!==(null===(p=null==Ve?void 0:Ve.BuildInfo)||void 0===p?void 0:p.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ce("function"==typeof(null===(S=null===(T=null===(b=null==Ve?void 0:Ve.cordova)||void 0===b?void 0:b.plugins)||void 0===T?void 0:T.browsertab)||void 0===S?void 0:S.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Ne=null===(se=null===(W=null==Ve?void 0:Ve.cordova)||void 0===W?void 0:W.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ne?void 0:Ne.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ce("function"==typeof(null===(Oe=null===(we=null==Ve?void 0:Ve.cordova)||void 0===we?void 0:we.InAppBrowser)||void 0===Oe?void 0:Oe.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const W=yield S._initialize(f);yield W.initialized(),W.resetRedirect(),Hi.clear(),yield S._originValidation(f);const se=function(_,f,p=null){return{type:f,eventId:p,urlResponse:null,sessionId:Uh(),postBody:null,tenantId:_.tenantId,error:rn(_,"no-auth-event")}}(f,b,T);yield function(_,f){return Hh()._set($h(_),f)}(f,se);const Ne=yield function(_,f,p){return qc.apply(this,arguments)}(f,se,p),we=yield function(_){const{cordova:f}=Ro();return new Promise(p=>{f.plugins.browsertab.isAvailable(b=>{let T=null;b?f.plugins.browsertab.openUrl(_):T=f.InAppBrowser.open(_,function(_=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(T)})})}(Ne);return function(_,f,p){return ko.apply(this,arguments)}(f,W,we)})()}_isIframeWebStorageSupported(f,p){throw new Error("Method not implemented.")}_originValidation(f){const p=f._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function(_){return wu.apply(this,arguments)}(f)),this.originValidationPromises[p]}attachCallbackListeners(f,p){const{universalLinks:b,handleOpenURL:T,BuildInfo:S}=Ro(),W=setTimeout((0,l.Z)(function*(){yield Eu(f),p.onEvent(tg())}),500),se=function(){var Oe=(0,l.Z)(function*(Ve){clearTimeout(W);const at=yield Eu(f);let jn=null;at&&(null==Ve?void 0:Ve.url)&&(jn=function(_,f){var p,b;const T=function(_){const f=ds(_),p=f.link?decodeURIComponent(f.link):void 0,b=ds(p).link,T=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return ds(T).link||T||b||p||_}(f);if(T.includes("/__/auth/callback")){const S=ds(T),W=S.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(S.firebaseError)):null,se=null===(b=null===(p=null==W?void 0:W.code)||void 0===p?void 0:p.split("auth/"))||void 0===b?void 0:b[1],Ne=se?rn(se):null;return Ne?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:T,postBody:null}}return null}(at,Ve.url)),p.onEvent(jn||tg())});return function(at){return Oe.apply(this,arguments)}}();void 0!==b&&"function"==typeof b.subscribe&&b.subscribe(null,se);const Ne=T,we=`${S.packageName.toLowerCase()}://`;Ro().handleOpenURL=function(){var Oe=(0,l.Z)(function*(Ve){if(Ve.toLowerCase().startsWith(we)&&se({url:Ve}),"function"==typeof Ne)try{Ne(Ve)}catch(at){console.error(at)}});return function(Ve){return Oe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=jr,this._completeRedirectFn=ks}_initialize(f){var p=this;return(0,l.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,p,b,T){var S=this;return(0,l.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openPopup(f,p,b,T)})()}_openRedirect(f,p,b,T){var S=this;return(0,l.Z)(function*(){return yield S.selectUnderlyingResolver(),S.assertedUnderlyingResolver._openRedirect(f,p,b,T)})()}_isIframeWebStorageSupported(f,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,p)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Iu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,l.Z)(function*(){if(f.underlyingResolver)return;const p=yield function(){return rd.apply(this,arguments)}();f.underlyingResolver=p?f.cordovaResolver:f.browserResolver})()}}function sg(_){return _.unwrap()}function Ii(_){return og(_)}function og(_){const{_tokenResponse:f}=_ instanceof L.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof L.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return le.credentialFromResult(_);const p=f.providerId;if(!p||"password"===p)return null;let b;switch(p){case"google.com":b=Is;break;case"facebook.com":b=Ja;break;case"github.com":b=Sr;break;case"twitter.com":b=Qa;break;default:const{oauthIdToken:T,oauthAccessToken:S,oauthTokenSecret:W,pendingToken:se,nonce:Ne}=f;return S||W||T||se?se?p.startsWith("saml.")?ts._create(p,se):nr._fromParams({providerId:p,signInMethod:p,pendingToken:se,idToken:T,accessToken:S}):new co(p).credential({idToken:T,accessToken:S,rawNonce:Ne}):null}return _ instanceof L.ZR?b.credentialFromError(_):b.credentialFromResult(_)}function Er(_,f){return f.catch(p=>{throw p instanceof L.ZR&&function(_,f){var p;const b=null===(p=f.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Kh(_,function(_,f){var p;const b=(0,L.m9)(_),T=f;return Ce(f.customData.operationType,b,"argument-error"),Ce(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,b,"argument-error"),ma._fromError(b,T)}(_,f));else if(b){const T=og(f),S=f;T&&(S.credential=T,S.tenantId=b.tenantId||void 0,S.email=b.email||void 0,S.phoneNumber=b.phoneNumber||void 0)}}(_,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:Ii(p),additionalUserInfo:ii(p),user:Fs.getOrCreate(T)}})}function Su(_,f){return ag.apply(this,arguments)}function ag(){return(ag=(0,l.Z)(function*(_,f){const p=yield f;return{verificationId:p.verificationId,confirm:b=>Er(_,p.confirm(b))}})).apply(this,arguments)}class Kh{constructor(f,p){this.resolver=p,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Er(sg(this.auth),this.resolver.resolveSignIn(f))}}class Fs{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,L.m9)(_);return ll.has(f)||ll.set(f,Pc._fromUser(f)),ll.get(f)}(f)}static getOrCreate(f){return Fs.USER_MAP.has(f)||Fs.USER_MAP.set(f,new Fs(f)),Fs.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var p=this;return(0,l.Z)(function*(){return Er(p.auth,ua(p._delegate,f))})()}linkWithPhoneNumber(f,p){var b=this;return(0,l.Z)(function*(){return Su(b.auth,function(_,f,p){return $c.apply(this,arguments)}(b._delegate,f,p))})()}linkWithPopup(f){var p=this;return(0,l.Z)(function*(){return Er(p.auth,function(_,f,p){return Ui.apply(this,arguments)}(p._delegate,f,Ps))})()}linkWithRedirect(f){var p=this;return(0,l.Z)(function*(){return yield Nu(qt(p.auth)),function(_,f,p){return function(_,f,p){return Gc.apply(this,arguments)}(_,f,p)}(p._delegate,f,Ps)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var p=this;return(0,l.Z)(function*(){return Er(p.auth,Xl(p._delegate,f))})()}reauthenticateWithPhoneNumber(f,p){return Su(this.auth,function(_,f,p){return E.apply(this,arguments)}(this._delegate,f,p))}reauthenticateWithPopup(f){return Er(this.auth,function(_,f,p){return Wr.apply(this,arguments)}(this._delegate,f,Ps))}reauthenticateWithRedirect(f){var p=this;return(0,l.Z)(function*(){return yield Nu(qt(p.auth)),function(_,f,p){return function(_,f,p){return fl.apply(this,arguments)}(_,f,p)}(p._delegate,f,Ps)})()}sendEmailVerification(f){return function(_,f){return yo.apply(this,arguments)}(this._delegate,f)}unlink(f){var p=this;return(0,l.Z)(function*(){return yield function(_,f){return la.apply(this,arguments)}(p._delegate,f),p})()}updateEmail(f){return function(_,f){return Oi((0,L.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return Oi((0,L.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return Q.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return pn.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,p){return function(_,f,p){return pa.apply(this,arguments)}(this._delegate,f,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fs.USER_MAP=new WeakMap;const id=Ce;let sd=(()=>{class _{constructor(p,b){if(this.app=p,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;id(T,"invalid-api-key",{appName:p.name});let S=[qe];if("undefined"!=typeof window){S=function(_,f){const p=ig();if(!(null==p?void 0:p.sessionStorage))return[];const b=yr(Cl,_,f);switch(p.sessionStorage.getItem(b)){case Zr.NONE:return[qe];case Zr.LOCAL:return[cu,jr];case Zr.SESSION:return[jr];default:return[]}}(T,p.name);for(const se of[cu,wo,jr])S.includes(se)||S.push(se)}id(T,"invalid-api-key",{appName:p.name});const W="undefined"!=typeof window?Ps:void 0;this._delegate=b.initialize({options:{persistence:S,popupRedirectResolver:W}}),this._delegate._updateErrorMap(Ki),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,b){!function(_,f,p){const b=qt(_);Ce(b._canInitEmulator,b,"emulator-config-failed"),Ce(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const T=!!(null==p?void 0:p.disableWarnings),S=Xo(f),{host:W,port:se}=function(_){const f=Xo(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(b);if(T){const S=T[1];return{host:S,port:ei(b.substr(S.length+1))}}{const[S,W]=b.split(":");return{host:S,port:ei(W)}}}(f);b.config.emulator={url:`${S}//${W}${null===se?"":`:${se}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:W,port:se,protocol:S.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function(){function _(){const f=document.createElement("p"),p=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,b)}applyActionCode(p){return function(_,f){return sl.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return go(this._delegate,p)}confirmPasswordReset(p,b){return function(_,f,p){return ha.apply(this,arguments)}(this._delegate,p,b)}createUserWithEmailAndPassword(p,b){var T=this;return(0,l.Z)(function*(){return Er(T._delegate,function(_,f,p){return ru.apply(this,arguments)}(T._delegate,p,b))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function(_,f){return yh.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function(_,f){const p=Ht.parseLink(f);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,l.Z)(function*(){id(nd(),p._delegate,"operation-not-supported-in-this-environment");const b=yield function(_,f){return Rs.apply(this,arguments)}(p._delegate,Ps);return b?Er(p._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function(_,f){qt(_)._logFramework(f)}(this._delegate,p)}onAuthStateChanged(p,b,T){const{next:S,error:W,complete:se}=Oo(p,b,T);return this._delegate.onAuthStateChanged(S,W,se)}onIdTokenChanged(p,b,T){const{next:S,error:W,complete:se}=Oo(p,b,T);return this._delegate.onIdTokenChanged(S,W,se)}sendSignInLinkToEmail(p,b){return function(_,f,p){return xi.apply(this,arguments)}(this._delegate,p,b)}sendPasswordResetEmail(p,b){return function(_,f,p){return da.apply(this,arguments)}(this._delegate,p,b||void 0)}setPersistence(p){var b=this;return(0,l.Z)(function*(){let T;switch(function(_,f){bl(Object.values(Zr).includes(f),_,"invalid-persistence-type"),(0,L.b$)()?bl(f!==Zr.SESSION,_,"unsupported-persistence-type"):(0,L.UG)()?bl(f===Zr.NONE,_,"unsupported-persistence-type"):td()?bl(f===Zr.NONE||f===Zr.LOCAL&&(0,L.hl)(),_,"unsupported-persistence-type"):bl(f===Zr.NONE||u_(),_,"unsupported-persistence-type")}(b._delegate,p),p){case Zr.SESSION:T=jr;break;case Zr.LOCAL:T=(yield Mt(cu)._isAvailable())?cu:wo;break;case Zr.NONE:T=qe;break;default:return It("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Er(this._delegate,function(_){return ze.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Er(this._delegate,rr(this._delegate,p))}signInWithCustomToken(p){return Er(this._delegate,function(_,f){return ca.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,b){return Er(this._delegate,function(_,f,p){return rr((0,L.m9)(_),wi.credential(f,p))}(this._delegate,p,b))}signInWithEmailLink(p,b){return Er(this._delegate,function(_,f,p){return Vn.apply(this,arguments)}(this._delegate,p,b))}signInWithPhoneNumber(p,b){return Su(this._delegate,function(_,f,p){return Bi.apply(this,arguments)}(this._delegate,p,b))}signInWithPopup(p){var b=this;return(0,l.Z)(function*(){return id(nd(),b._delegate,"operation-not-supported-in-this-environment"),Er(b._delegate,function(_,f,p){return Ms.apply(this,arguments)}(b._delegate,p,Ps))})()}signInWithRedirect(p){var b=this;return(0,l.Z)(function*(){return id(nd(),b._delegate,"operation-not-supported-in-this-environment"),yield Nu(b._delegate),function(_,f,p){return function(_,f,p){return or.apply(this,arguments)}(_,f,p)}(b._delegate,p,Ps)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function(_,f){return Ns.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=Zr,_})();function Oo(_,f,p){let b=_;"function"!=typeof _&&({next:b,error:f,complete:p}=_);const T=b;return{next:W=>T(W&&Fs.getOrCreate(W)),error:f,complete:p}}class ui{constructor(){this.providerId="phone",this._delegate=new le(sg(te.Z.auth()))}static credential(f,p){return le.credential(f,p)}verifyPhoneNumber(f,p){return this._delegate.verifyPhoneNumber(f,p)}unwrap(){return this._delegate}}ui.PHONE_SIGN_IN_METHOD=le.PHONE_SIGN_IN_METHOD,ui.PROVIDER_ID=le.PROVIDER_ID;const d_=Ce;class F0{constructor(f,p,b=te.Z.app()){var T;d_(null===(T=b.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new br(f,p,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new Le.wA("auth-compat",f=>{const p=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new sd(p,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:wi,FacebookAuthProvider:Ja,GithubAuthProvider:Sr,GoogleAuthProvider:Is,OAuthProvider:co,SAMLAuthProvider:Zn,PhoneAuthProvider:ui,PhoneMultiFactorGenerator:Cu,RecaptchaVerifier:F0,TwitterAuthProvider:Qa,Auth:sd,AuthCredential:ea,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.4")}(te.Z)},6676:function(Pe,pe){!function(F){"use strict";function l(he){return Array.prototype.slice.call(he)}function te(he){return new Promise(function(ee,ie){he.onsuccess=function(){ee(he.result)},he.onerror=function(){ie(he.error)}})}function L(he,ee,ie){var ve,De=new Promise(function(dt,mt){te(ve=he[ee].apply(he,ie)).then(dt,mt)});return De.request=ve,De}function ce(he,ee,ie){var ve=L(he,ee,ie);return ve.then(function(De){if(De)return new P(De,ve.request)})}function re(he,ee,ie){ie.forEach(function(ve){Object.defineProperty(he.prototype,ve,{get:function(){return this[ee][ve]},set:function(De){this[ee][ve]=De}})})}function J(he,ee,ie,ve){ve.forEach(function(De){De in ie.prototype&&(he.prototype[De]=function(){return L(this[ee],De,arguments)})})}function oe(he,ee,ie,ve){ve.forEach(function(De){De in ie.prototype&&(he.prototype[De]=function(){return this[ee][De].apply(this[ee],arguments)})})}function K(he,ee,ie,ve){ve.forEach(function(De){De in ie.prototype&&(he.prototype[De]=function(){return ce(this[ee],De,arguments)})})}function Y(he){this._index=he}function P(he,ee){this._cursor=he,this._request=ee}function U(he){this._store=he}function G(he){this._tx=he,this.complete=new Promise(function(ee,ie){he.oncomplete=function(){ee()},he.onerror=function(){ie(he.error)},he.onabort=function(){ie(he.error)}})}function de(he,ee,ie){this._db=he,this.oldVersion=ee,this.transaction=new G(ie)}function Ie(he){this._db=he}re(Y,"_index",["name","keyPath","multiEntry","unique"]),J(Y,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),K(Y,"_index",IDBIndex,["openCursor","openKeyCursor"]),re(P,"_cursor",["direction","key","primaryKey","value"]),J(P,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(he){he in IDBCursor.prototype&&(P.prototype[he]=function(){var ee=this,ie=arguments;return Promise.resolve().then(function(){return ee._cursor[he].apply(ee._cursor,ie),te(ee._request).then(function(ve){if(ve)return new P(ve,ee._request)})})})}),U.prototype.createIndex=function(){return new Y(this._store.createIndex.apply(this._store,arguments))},U.prototype.index=function(){return new Y(this._store.index.apply(this._store,arguments))},re(U,"_store",["name","keyPath","indexNames","autoIncrement"]),J(U,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),K(U,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),oe(U,"_store",IDBObjectStore,["deleteIndex"]),G.prototype.objectStore=function(){return new U(this._tx.objectStore.apply(this._tx,arguments))},re(G,"_tx",["objectStoreNames","mode"]),oe(G,"_tx",IDBTransaction,["abort"]),de.prototype.createObjectStore=function(){return new U(this._db.createObjectStore.apply(this._db,arguments))},re(de,"_db",["name","version","objectStoreNames"]),oe(de,"_db",IDBDatabase,["deleteObjectStore","close"]),Ie.prototype.transaction=function(){return new G(this._db.transaction.apply(this._db,arguments))},re(Ie,"_db",["name","version","objectStoreNames"]),oe(Ie,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(he){[U,Y].forEach(function(ee){he in ee.prototype&&(ee.prototype[he.replace("open","iterate")]=function(){var ie=l(arguments),ve=ie[ie.length-1],De=this._store||this._index,dt=De[he].apply(De,ie.slice(0,-1));dt.onsuccess=function(){ve(dt.result)}})})}),[Y,U].forEach(function(he){he.prototype.getAll||(he.prototype.getAll=function(ee,ie){var ve=this,De=[];return new Promise(function(dt){ve.iterateCursor(ee,function(mt){mt?(De.push(mt.value),void 0===ie||De.length!=ie?mt.continue():dt(De)):dt(De)})})})}),F.openDb=function(he,ee,ie){var ve=L(indexedDB,"open",[he,ee]),De=ve.request;return De&&(De.onupgradeneeded=function(dt){ie&&ie(new de(De.result,dt.oldVersion,De.transaction))}),ve.then(function(dt){return new Ie(dt)})},F.deleteDb=function(he){return L(indexedDB,"deleteDatabase",[he])},Object.defineProperty(F,"__esModule",{value:!0})}(pe)},1593:(Pe,pe,F)=>{"use strict";F.d(pe,{P:()=>oe});var l=F(9193),te=F(5917),L=F(7574);class oe{constructor(Y,P,U){this.kind=Y,this.value=P,this.error=U,this.hasValue="N"===Y}observe(Y){switch(this.kind){case"N":return Y.next&&Y.next(this.value);case"E":return Y.error&&Y.error(this.error);case"C":return Y.complete&&Y.complete()}}do(Y,P,U){switch(this.kind){case"N":return Y&&Y(this.value);case"E":return P&&P(this.error);case"C":return U&&U()}}accept(Y,P,U){return Y&&"function"==typeof Y.next?this.observe(Y):this.do(Y,P,U)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return K=this.error,new L.y(P=>P.error(K));case"C":return(0,l.c)()}var K;throw new Error("unexpected notification kind value")}static createNext(Y){return void 0!==Y?new oe("N",Y):oe.undefinedValueNotification}static createError(Y){return new oe("E",void 0,Y)}static createComplete(){return oe.completeNotification}}oe.completeNotification=new oe("C"),oe.undefinedValueNotification=new oe("N",void 0)},7574:(Pe,pe,F)=>{"use strict";F.d(pe,{y:()=>U});var l=F(7393),L=F(9181),ce=F(6490),J=F(6554),oe=F(4487);var P=F(2494);let U=(()=>{class de{constructor(Ee){this._isScalar=!1,Ee&&(this._subscribe=Ee)}lift(Ee){const ye=new de;return ye.source=this,ye.operator=Ee,ye}subscribe(Ee,ye,he){const{operator:ee}=this,ie=function(de,Ie,Ee){if(de){if(de instanceof l.L)return de;if(de[L.b])return de[L.b]()}return de||Ie||Ee?new l.L(de,Ie,Ee):new l.L(ce.c)}(Ee,ye,he);if(ie.add(ee?ee.call(ie,this.source):this.source||P.v.useDeprecatedSynchronousErrorHandling&&!ie.syncErrorThrowable?this._subscribe(ie):this._trySubscribe(ie)),P.v.useDeprecatedSynchronousErrorHandling&&ie.syncErrorThrowable&&(ie.syncErrorThrowable=!1,ie.syncErrorThrown))throw ie.syncErrorValue;return ie}_trySubscribe(Ee){try{return this._subscribe(Ee)}catch(ye){P.v.useDeprecatedSynchronousErrorHandling&&(Ee.syncErrorThrown=!0,Ee.syncErrorValue=ye),function(de){for(;de;){const{closed:Ie,destination:Ee,isStopped:ye}=de;if(Ie||ye)return!1;de=Ee&&Ee instanceof l.L?Ee:null}return!0}(Ee)?Ee.error(ye):console.warn(ye)}}forEach(Ee,ye){return new(ye=G(ye))((he,ee)=>{let ie;ie=this.subscribe(ve=>{try{Ee(ve)}catch(De){ee(De),ie&&ie.unsubscribe()}},ee,he)})}_subscribe(Ee){const{source:ye}=this;return ye&&ye.subscribe(Ee)}[J.L](){return this}pipe(...Ee){return 0===Ee.length?this:function(de){return 0===de.length?oe.y:1===de.length?de[0]:function(Ee){return de.reduce((ye,he)=>he(ye),Ee)}}(Ee)(this)}toPromise(Ee){return new(Ee=G(Ee))((ye,he)=>{let ee;this.subscribe(ie=>ee=ie,ie=>he(ie),()=>ye(ee))})}}return de.create=Ie=>new de(Ie),de})();function G(de){if(de||(de=P.v.Promise||Promise),!de)throw new Error("no Promise impl found");return de}},6490:(Pe,pe,F)=>{"use strict";F.d(pe,{c:()=>L});var l=F(2494),te=F(4449);const L={closed:!0,next(ce){},error(ce){if(l.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,te.z)(ce)},complete(){}}},9765:(Pe,pe,F)=>{"use strict";F.d(pe,{Yc:()=>oe,xQ:()=>K});var l=F(7574),te=F(7393),L=F(5319),ce=F(7971),re=F(8858),J=F(9181);class oe extends te.L{constructor(U){super(U),this.destination=U}}let K=(()=>{class P extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[J.b](){return new oe(this)}lift(G){const de=new Y(this,this);return de.operator=G,de}next(G){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:de}=this,Ie=de.length,Ee=de.slice();for(let ye=0;ye<Ie;ye++)Ee[ye].next(G)}}error(G){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=G,this.isStopped=!0;const{observers:de}=this,Ie=de.length,Ee=de.slice();for(let ye=0;ye<Ie;ye++)Ee[ye].error(G);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:G}=this,de=G.length,Ie=G.slice();for(let Ee=0;Ee<de;Ee++)Ie[Ee].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(G){if(this.closed)throw new ce.N;return super._trySubscribe(G)}_subscribe(G){if(this.closed)throw new ce.N;return this.hasError?(G.error(this.thrownError),L.w.EMPTY):this.isStopped?(G.complete(),L.w.EMPTY):(this.observers.push(G),new re.W(this,G))}asObservable(){const G=new l.y;return G.source=this,G}}return P.create=(U,G)=>new Y(U,G),P})();class Y extends K{constructor(U,G){super(),this.destination=U,this.source=G}next(U){const{destination:G}=this;G&&G.next&&G.next(U)}error(U){const{destination:G}=this;G&&G.error&&this.destination.error(U)}complete(){const{destination:U}=this;U&&U.complete&&this.destination.complete()}_subscribe(U){const{source:G}=this;return G?this.source.subscribe(U):L.w.EMPTY}}},8858:(Pe,pe,F)=>{"use strict";F.d(pe,{W:()=>te});var l=F(5319);class te extends l.w{constructor(ce,re){super(),this.subject=ce,this.subscriber=re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,re=ce.observers;if(this.subject=null,!re||0===re.length||ce.isStopped||ce.closed)return;const J=re.indexOf(this.subscriber);-1!==J&&re.splice(J,1)}}},7393:(Pe,pe,F)=>{"use strict";F.d(pe,{L:()=>oe});var l=F(9105),te=F(6490),L=F(5319),ce=F(9181),re=F(2494),J=F(4449);class oe extends L.w{constructor(P,U,G){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=te.c;break;case 1:if(!P){this.destination=te.c;break}if("object"==typeof P){P instanceof oe?(this.syncErrorThrowable=P.syncErrorThrowable,this.destination=P,P.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,P));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,P,U,G)}}[ce.b](){return this}static create(P,U,G){const de=new oe(P,U,G);return de.syncErrorThrowable=!1,de}next(P){this.isStopped||this._next(P)}error(P){this.isStopped||(this.isStopped=!0,this._error(P))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(P){this.destination.next(P)}_error(P){this.destination.error(P),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:P}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=P,this}}class K extends oe{constructor(P,U,G,de){super(),this._parentSubscriber=P;let Ie,Ee=this;(0,l.m)(U)?Ie=U:U&&(Ie=U.next,G=U.error,de=U.complete,U!==te.c&&(Ee=Object.create(U),(0,l.m)(Ee.unsubscribe)&&this.add(Ee.unsubscribe.bind(Ee)),Ee.unsubscribe=this.unsubscribe.bind(this))),this._context=Ee,this._next=Ie,this._error=G,this._complete=de}next(P){if(!this.isStopped&&this._next){const{_parentSubscriber:U}=this;re.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?this.__tryOrSetError(U,this._next,P)&&this.unsubscribe():this.__tryOrUnsub(this._next,P)}}error(P){if(!this.isStopped){const{_parentSubscriber:U}=this,{useDeprecatedSynchronousErrorHandling:G}=re.v;if(this._error)G&&U.syncErrorThrowable?(this.__tryOrSetError(U,this._error,P),this.unsubscribe()):(this.__tryOrUnsub(this._error,P),this.unsubscribe());else if(U.syncErrorThrowable)G?(U.syncErrorValue=P,U.syncErrorThrown=!0):(0,J.z)(P),this.unsubscribe();else{if(this.unsubscribe(),G)throw P;(0,J.z)(P)}}}complete(){if(!this.isStopped){const{_parentSubscriber:P}=this;if(this._complete){const U=()=>this._complete.call(this._context);re.v.useDeprecatedSynchronousErrorHandling&&P.syncErrorThrowable?(this.__tryOrSetError(P,U),this.unsubscribe()):(this.__tryOrUnsub(U),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(P,U){try{P.call(this._context,U)}catch(G){if(this.unsubscribe(),re.v.useDeprecatedSynchronousErrorHandling)throw G;(0,J.z)(G)}}__tryOrSetError(P,U,G){if(!re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{U.call(this._context,G)}catch(de){return re.v.useDeprecatedSynchronousErrorHandling?(P.syncErrorValue=de,P.syncErrorThrown=!0,!0):((0,J.z)(de),!0)}return!1}_unsubscribe(){const{_parentSubscriber:P}=this;this._context=null,this._parentSubscriber=null,P.unsubscribe()}}},5319:(Pe,pe,F)=>{"use strict";F.d(pe,{w:()=>J});var l=F(9796),te=F(1555),L=F(9105);const re=(()=>{function K(Y){return Error.call(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((P,U)=>`${U+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y,this}return K.prototype=Object.create(Error.prototype),K})();class J{constructor(Y){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Y&&(this._ctorUnsubscribe=!0,this._unsubscribe=Y)}unsubscribe(){let Y;if(this.closed)return;let{_parentOrParents:P,_ctorUnsubscribe:U,_unsubscribe:G,_subscriptions:de}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,P instanceof J)P.remove(this);else if(null!==P)for(let Ie=0;Ie<P.length;++Ie)P[Ie].remove(this);if((0,L.m)(G)){U&&(this._unsubscribe=void 0);try{G.call(this)}catch(Ie){Y=Ie instanceof re?oe(Ie.errors):[Ie]}}if((0,l.k)(de)){let Ie=-1,Ee=de.length;for(;++Ie<Ee;){const ye=de[Ie];if((0,te.K)(ye))try{ye.unsubscribe()}catch(he){Y=Y||[],he instanceof re?Y=Y.concat(oe(he.errors)):Y.push(he)}}}if(Y)throw new re(Y)}add(Y){let P=Y;if(!Y)return J.EMPTY;switch(typeof Y){case"function":P=new J(Y);case"object":if(P===this||P.closed||"function"!=typeof P.unsubscribe)return P;if(this.closed)return P.unsubscribe(),P;if(!(P instanceof J)){const de=P;P=new J,P._subscriptions=[de]}break;default:throw new Error("unrecognized teardown "+Y+" added to Subscription.")}let{_parentOrParents:U}=P;if(null===U)P._parentOrParents=this;else if(U instanceof J){if(U===this)return P;P._parentOrParents=[U,this]}else{if(-1!==U.indexOf(this))return P;U.push(this)}const G=this._subscriptions;return null===G?this._subscriptions=[P]:G.push(P),P}remove(Y){const P=this._subscriptions;if(P){const U=P.indexOf(Y);-1!==U&&P.splice(U,1)}}}var K;function oe(K){return K.reduce((Y,P)=>Y.concat(P instanceof re?P.errors:P),[])}J.EMPTY=((K=new J).closed=!0,K)},2494:(Pe,pe,F)=>{"use strict";F.d(pe,{v:()=>te});let l=!1;const te={Promise:void 0,set useDeprecatedSynchronousErrorHandling(L){if(L){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=L},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(Pe,pe,F)=>{"use strict";F.d(pe,{IY:()=>ce,Ds:()=>J,ft:()=>K});var l=F(7393),te=F(7574),L=F(7444);class ce extends l.L{constructor(P){super(),this.parent=P}_next(P){this.parent.notifyNext(P)}_error(P){this.parent.notifyError(P),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class J extends l.L{notifyNext(P){this.destination.next(P)}notifyError(P){this.destination.error(P)}notifyComplete(){this.destination.complete()}}function K(Y,P){if(P.closed)return;if(Y instanceof te.y)return Y.subscribe(P);let U;try{U=(0,L.s)(Y)(P)}catch(G){P.error(G)}return U}},2441:(Pe,pe,F)=>{"use strict";F.d(pe,{c:()=>re,N:()=>J});var l=F(9765),te=F(7574),L=F(5319),ce=F(1307);class re extends te.y{constructor(U,G){super(),this.source=U,this.subjectFactory=G,this._refCount=0,this._isComplete=!1}_subscribe(U){return this.getSubject().subscribe(U)}getSubject(){const U=this._subject;return(!U||U.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let U=this._connection;return U||(this._isComplete=!1,U=this._connection=new L.w,U.add(this.source.subscribe(new oe(this.getSubject(),this))),U.closed&&(this._connection=null,U=L.w.EMPTY)),U}refCount(){return(0,ce.x)()(this)}}const J=(()=>{const P=re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:P._subscribe},_isComplete:{value:P._isComplete,writable:!0},getSubject:{value:P.getSubject},connect:{value:P.connect},refCount:{value:P.refCount}}})();class oe extends l.Yc{constructor(U,G){super(U),this.connectable=G}_error(U){this._unsubscribe(),super._error(U)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const U=this.connectable;if(U){this.connectable=null;const G=U._connection;U._refCount=0,U._subject=null,U._connection=null,G&&G.unsubscribe()}}}},9193:(Pe,pe,F)=>{"use strict";F.d(pe,{E:()=>te,c:()=>L});var l=F(7574);const te=new l.y(re=>re.complete());function L(re){return re?function(re){return new l.y(J=>re.schedule(()=>J.complete()))}(re):te}},4402:(Pe,pe,F)=>{"use strict";F.d(pe,{D:()=>Ee});var l=F(7574),te=F(7444),L=F(5319),ce=F(6554),oe=F(4087),K=F(377),U=F(4072),G=F(9489);function Ee(ye,he){return he?function(ye,he){if(null!=ye){if(function(ye){return ye&&"function"==typeof ye[ce.L]}(ye))return function(ye,he){return new l.y(ee=>{const ie=new L.w;return ie.add(he.schedule(()=>{const ve=ye[ce.L]();ie.add(ve.subscribe({next(De){ie.add(he.schedule(()=>ee.next(De)))},error(De){ie.add(he.schedule(()=>ee.error(De)))},complete(){ie.add(he.schedule(()=>ee.complete()))}}))})),ie})}(ye,he);if((0,U.t)(ye))return function(ye,he){return new l.y(ee=>{const ie=new L.w;return ie.add(he.schedule(()=>ye.then(ve=>{ie.add(he.schedule(()=>{ee.next(ve),ie.add(he.schedule(()=>ee.complete()))}))},ve=>{ie.add(he.schedule(()=>ee.error(ve)))}))),ie})}(ye,he);if((0,G.z)(ye))return(0,oe.r)(ye,he);if(function(ye){return ye&&"function"==typeof ye[K.hZ]}(ye)||"string"==typeof ye)return function(ye,he){if(!ye)throw new Error("Iterable cannot be null");return new l.y(ee=>{const ie=new L.w;let ve;return ie.add(()=>{ve&&"function"==typeof ve.return&&ve.return()}),ie.add(he.schedule(()=>{ve=ye[K.hZ](),ie.add(he.schedule(function(){if(ee.closed)return;let De,dt;try{const mt=ve.next();De=mt.value,dt=mt.done}catch(mt){return void ee.error(mt)}dt?ee.complete():(ee.next(De),this.schedule())}))})),ie})}(ye,he)}throw new TypeError((null!==ye&&typeof ye||ye)+" is not observable")}(ye,he):ye instanceof l.y?ye:new l.y((0,te.s)(ye))}},6693:(Pe,pe,F)=>{"use strict";F.d(pe,{n:()=>ce});var l=F(7574),te=F(5015),L=F(4087);function ce(re,J){return J?(0,L.r)(re,J):new l.y((0,te.V)(re))}},6682:(Pe,pe,F)=>{"use strict";F.d(pe,{T:()=>re});var l=F(7574),te=F(4869),L=F(3282),ce=F(6693);function re(...J){let oe=Number.POSITIVE_INFINITY,K=null,Y=J[J.length-1];return(0,te.K)(Y)?(K=J.pop(),J.length>1&&"number"==typeof J[J.length-1]&&(oe=J.pop())):"number"==typeof Y&&(oe=J.pop()),null===K&&1===J.length&&J[0]instanceof l.y?J[0]:(0,L.J)(oe)((0,ce.n)(J,K))}},5917:(Pe,pe,F)=>{"use strict";F.d(pe,{of:()=>ce});var l=F(4869),te=F(6693),L=F(4087);function ce(...re){let J=re[re.length-1];return(0,l.K)(J)?(re.pop(),(0,L.r)(re,J)):(0,te.n)(re)}},8002:(Pe,pe,F)=>{"use strict";F.d(pe,{U:()=>te});var l=F(7393);function te(re,J){return function(K){if("function"!=typeof re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new L(re,J))}}class L{constructor(J,oe){this.project=J,this.thisArg=oe}call(J,oe){return oe.subscribe(new ce(J,this.project,this.thisArg))}}class ce extends l.L{constructor(J,oe,K){super(J),this.project=oe,this.count=0,this.thisArg=K||this}_next(J){let oe;try{oe=this.project.call(this.thisArg,J,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(oe)}}},3282:(Pe,pe,F)=>{"use strict";F.d(pe,{J:()=>L});var l=F(9773),te=F(4487);function L(ce=Number.POSITIVE_INFINITY){return(0,l.zg)(te.y,ce)}},9773:(Pe,pe,F)=>{"use strict";F.d(pe,{zg:()=>ce});var l=F(8002),te=F(4402),L=F(5345);function ce(K,Y,P=Number.POSITIVE_INFINITY){return"function"==typeof Y?U=>U.pipe(ce((G,de)=>(0,te.D)(K(G,de)).pipe((0,l.U)((Ie,Ee)=>Y(G,Ie,de,Ee))),P)):("number"==typeof Y&&(P=Y),U=>U.lift(new re(K,P)))}class re{constructor(Y,P=Number.POSITIVE_INFINITY){this.project=Y,this.concurrent=P}call(Y,P){return P.subscribe(new J(Y,this.project,this.concurrent))}}class J extends L.Ds{constructor(Y,P,U=Number.POSITIVE_INFINITY){super(Y),this.project=P,this.concurrent=U,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Y){this.active<this.concurrent?this._tryNext(Y):this.buffer.push(Y)}_tryNext(Y){let P;const U=this.index++;try{P=this.project(Y,U)}catch(G){return void this.destination.error(G)}this.active++,this._innerSub(P)}_innerSub(Y){const P=new L.IY(this),U=this.destination;U.add(P);const G=(0,L.ft)(Y,P);G!==P&&U.add(G)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Y){this.destination.next(Y)}notifyComplete(){const Y=this.buffer;this.active--,Y.length>0?this._next(Y.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Pe,pe,F)=>{"use strict";F.d(pe,{QV:()=>L,ht:()=>re});var l=F(7393),te=F(1593);function L(oe,K=0){return function(P){return P.lift(new ce(oe,K))}}class ce{constructor(K,Y=0){this.scheduler=K,this.delay=Y}call(K,Y){return Y.subscribe(new re(K,this.scheduler,this.delay))}}class re extends l.L{constructor(K,Y,P=0){super(K),this.scheduler=Y,this.delay=P}static dispatch(K){const{notification:Y,destination:P}=K;Y.observe(P),this.unsubscribe()}scheduleMessage(K){this.destination.add(this.scheduler.schedule(re.dispatch,this.delay,new J(K,this.destination)))}_next(K){this.scheduleMessage(te.P.createNext(K))}_error(K){this.scheduleMessage(te.P.createError(K)),this.unsubscribe()}_complete(){this.scheduleMessage(te.P.createComplete()),this.unsubscribe()}}class J{constructor(K,Y){this.notification=K,this.destination=Y}}},1307:(Pe,pe,F)=>{"use strict";F.d(pe,{x:()=>te});var l=F(7393);function te(){return function(J){return J.lift(new L(J))}}class L{constructor(J){this.connectable=J}call(J,oe){const{connectable:K}=this;K._refCount++;const Y=new ce(J,K),P=oe.subscribe(Y);return Y.closed||(Y.connection=K.connect()),P}}class ce extends l.L{constructor(J,oe){super(J),this.connectable=oe}_unsubscribe(){const{connectable:J}=this;if(!J)return void(this.connection=null);this.connectable=null;const oe=J._refCount;if(oe<=0)return void(this.connection=null);if(J._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:K}=this,Y=J._connection;this.connection=null,Y&&(!K||Y===K)&&Y.unsubscribe()}}},8819:(Pe,pe,F)=>{"use strict";F.d(pe,{B:()=>oe});var l=F(2441);var ce=F(1307),re=F(9765);function J(){return new re.xQ}function oe(){return K=>(0,ce.x)()(function(K,Y){return function(U){let G;G="function"==typeof K?K:function(){return K};const de=Object.create(U,l.N);return de.source=U,de.subjectFactory=G,de}}(J)(K))}},2639:(Pe,pe,F)=>{"use strict";F.d(pe,{R:()=>ye});var l=F(7574);let te=1;const L=Promise.resolve(),ce={};function re(ee){return ee in ce&&(delete ce[ee],!0)}const J={setImmediate(ee){const ie=te++;return ce[ie]=!0,L.then(()=>re(ie)&&ee()),ie},clearImmediate(ee){re(ee)}};var K=F(6465),P=F(6102);const de=new class extends P.v{flush(ie){this.active=!0,this.scheduled=void 0;const{actions:ve}=this;let De,dt=-1,mt=ve.length;ie=ie||ve.shift();do{if(De=ie.execute(ie.state,ie.delay))break}while(++dt<mt&&(ie=ve.shift()));if(this.active=!1,De){for(;++dt<mt&&(ie=ve.shift());)ie.unsubscribe();throw De}}}(class extends K.o{constructor(ie,ve){super(ie,ve),this.scheduler=ie,this.work=ve}requestAsyncId(ie,ve,De=0){return null!==De&&De>0?super.requestAsyncId(ie,ve,De):(ie.actions.push(this),ie.scheduled||(ie.scheduled=J.setImmediate(ie.flush.bind(ie,null))))}recycleAsyncId(ie,ve,De=0){if(null!==De&&De>0||null===De&&this.delay>0)return super.recycleAsyncId(ie,ve,De);0===ie.actions.length&&(J.clearImmediate(ve),ie.scheduled=void 0)}});var Ie=F(6561);class Ee extends l.y{constructor(ie,ve=0,De=de){super(),this.source=ie,this.delayTime=ve,this.scheduler=De,(!(0,Ie.k)(ve)||ve<0)&&(this.delayTime=0),(!De||"function"!=typeof De.schedule)&&(this.scheduler=de)}static create(ie,ve=0,De=de){return new Ee(ie,ve,De)}static dispatch(ie){const{source:ve,subscriber:De}=ie;return this.add(ve.subscribe(De))}_subscribe(ie){return this.scheduler.schedule(Ee.dispatch,this.delayTime,{source:this.source,subscriber:ie})}}function ye(ee,ie=0){return function(De){return De.lift(new he(ee,ie))}}class he{constructor(ie,ve){this.scheduler=ie,this.delay=ve}call(ie,ve){return new Ee(ve,this.delay,this.scheduler).subscribe(ie)}}},8307:(Pe,pe,F)=>{"use strict";F.d(pe,{b:()=>ce});var l=F(7393),te=F(8640),L=F(9105);function ce(oe,K,Y){return function(U){return U.lift(new re(oe,K,Y))}}class re{constructor(K,Y,P){this.nextOrObserver=K,this.error=Y,this.complete=P}call(K,Y){return Y.subscribe(new J(K,this.nextOrObserver,this.error,this.complete))}}class J extends l.L{constructor(K,Y,P,U){super(K),this._tapNext=te.Z,this._tapError=te.Z,this._tapComplete=te.Z,this._tapError=P||te.Z,this._tapComplete=U||te.Z,(0,L.m)(Y)?(this._context=this,this._tapNext=Y):Y&&(this._context=Y,this._tapNext=Y.next||te.Z,this._tapError=Y.error||te.Z,this._tapComplete=Y.complete||te.Z)}_next(K){try{this._tapNext.call(this._context,K)}catch(Y){return void this.destination.error(Y)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(Y){return void this.destination.error(Y)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},4087:(Pe,pe,F)=>{"use strict";F.d(pe,{r:()=>L});var l=F(7574),te=F(5319);function L(ce,re){return new l.y(J=>{const oe=new te.w;let K=0;return oe.add(re.schedule(function(){K!==ce.length?(J.next(ce[K++]),J.closed||oe.add(this.schedule())):J.complete()})),oe})}},6465:(Pe,pe,F)=>{"use strict";F.d(pe,{o:()=>L});var l=F(5319);class te extends l.w{constructor(re,J){super()}schedule(re,J=0){return this}}class L extends te{constructor(re,J){super(re,J),this.scheduler=re,this.work=J,this.pending=!1}schedule(re,J=0){if(this.closed)return this;this.state=re;const oe=this.id,K=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(K,oe,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(K,this.id,J),this}requestAsyncId(re,J,oe=0){return setInterval(re.flush.bind(re,this),oe)}recycleAsyncId(re,J,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return J;clearInterval(J)}execute(re,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(re,J);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,J){let K,oe=!1;try{this.work(re)}catch(Y){oe=!0,K=!!Y&&Y||new Error(Y)}if(oe)return this.unsubscribe(),K}_unsubscribe(){const re=this.id,J=this.scheduler,oe=J.actions,K=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&oe.splice(K,1),null!=re&&(this.id=this.recycleAsyncId(J,re,null)),this.delay=null}}},6102:(Pe,pe,F)=>{"use strict";F.d(pe,{v:()=>te});let l=(()=>{class L{constructor(re,J=L.now){this.SchedulerAction=re,this.now=J}schedule(re,J=0,oe){return new this.SchedulerAction(this,re).schedule(oe,J)}}return L.now=()=>Date.now(),L})();class te extends l{constructor(ce,re=l.now){super(ce,()=>te.delegate&&te.delegate!==this?te.delegate.now():re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,re=0,J){return te.delegate&&te.delegate!==this?te.delegate.schedule(ce,re,J):super.schedule(ce,re,J)}flush(ce){const{actions:re}=this;if(this.active)return void re.push(ce);let J;this.active=!0;do{if(J=ce.execute(ce.state,ce.delay))break}while(ce=re.shift());if(this.active=!1,J){for(;ce=re.shift();)ce.unsubscribe();throw J}}}},3637:(Pe,pe,F)=>{"use strict";F.d(pe,{z:()=>L,P:()=>ce});var l=F(6465);const L=new(F(6102).v)(l.o),ce=L},7771:(Pe,pe,F)=>{"use strict";F.d(pe,{c:()=>J,N:()=>re});var l=F(6465),L=F(6102);const re=new class extends L.v{}(class extends l.o{constructor(K,Y){super(K,Y),this.scheduler=K,this.work=Y}schedule(K,Y=0){return Y>0?super.schedule(K,Y):(this.delay=Y,this.state=K,this.scheduler.flush(this),this)}execute(K,Y){return Y>0||this.closed?super.execute(K,Y):this._execute(K,Y)}requestAsyncId(K,Y,P=0){return null!==P&&P>0||null===P&&this.delay>0?super.requestAsyncId(K,Y,P):K.flush(this)}}),J=re},377:(Pe,pe,F)=>{"use strict";F.d(pe,{hZ:()=>te});const te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Pe,pe,F)=>{"use strict";F.d(pe,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Pe,pe,F)=>{"use strict";F.d(pe,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Pe,pe,F)=>{"use strict";F.d(pe,{N:()=>te});const te=(()=>{function L(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return L.prototype=Object.create(Error.prototype),L})()},4449:(Pe,pe,F)=>{"use strict";function l(te){setTimeout(()=>{throw te},0)}F.d(pe,{z:()=>l})},4487:(Pe,pe,F)=>{"use strict";function l(te){return te}F.d(pe,{y:()=>l})},9796:(Pe,pe,F)=>{"use strict";F.d(pe,{k:()=>l});const l=Array.isArray||(te=>te&&"number"==typeof te.length)},9489:(Pe,pe,F)=>{"use strict";F.d(pe,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},9105:(Pe,pe,F)=>{"use strict";function l(te){return"function"==typeof te}F.d(pe,{m:()=>l})},6561:(Pe,pe,F)=>{"use strict";F.d(pe,{k:()=>te});var l=F(9796);function te(L){return!(0,l.k)(L)&&L-parseFloat(L)+1>=0}},1555:(Pe,pe,F)=>{"use strict";function l(te){return null!==te&&"object"==typeof te}F.d(pe,{K:()=>l})},4072:(Pe,pe,F)=>{"use strict";function l(te){return!!te&&"function"!=typeof te.subscribe&&"function"==typeof te.then}F.d(pe,{t:()=>l})},4869:(Pe,pe,F)=>{"use strict";function l(te){return te&&"function"==typeof te.schedule}F.d(pe,{K:()=>l})},8640:(Pe,pe,F)=>{"use strict";function l(){}F.d(pe,{Z:()=>l})},7444:(Pe,pe,F)=>{"use strict";F.d(pe,{s:()=>U});var l=F(5015),te=F(4449),ce=F(377),J=F(6554),K=F(9489),Y=F(4072),P=F(1555);const U=G=>{if(G&&"function"==typeof G[J.L])return(G=>de=>{const Ie=G[J.L]();if("function"!=typeof Ie.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Ie.subscribe(de)})(G);if((0,K.z)(G))return(0,l.V)(G);if((0,Y.t)(G))return(G=>de=>(G.then(Ie=>{de.closed||(de.next(Ie),de.complete())},Ie=>de.error(Ie)).then(null,te.z),de))(G);if(G&&"function"==typeof G[ce.hZ])return(G=>de=>{const Ie=G[ce.hZ]();for(;;){let Ee;try{Ee=Ie.next()}catch(ye){return de.error(ye),de}if(Ee.done){de.complete();break}if(de.next(Ee.value),de.closed)break}return"function"==typeof Ie.return&&de.add(()=>{Ie.return&&Ie.return()}),de})(G);{const Ie=`You provided ${(0,P.K)(G)?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Ie)}}},5015:(Pe,pe,F)=>{"use strict";F.d(pe,{V:()=>l});const l=te=>L=>{for(let ce=0,re=te.length;ce<re&&!L.closed;ce++)L.next(te[ce]);L.complete()}},8721:(Pe,pe,F)=>{"use strict";var l=F(7716);let te=null;function L(){return te}const oe=new l.OlP("DocumentToken");let K=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,l.Yz7)({factory:Y,token:t,providedIn:"platform"}),t})();function Y(){return(0,l.LFG)(U)}const P=new l.OlP("Location Initialized");let U=(()=>{class t extends K{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const s=L().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=L().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){G()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){G()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=(0,l.Yz7)({factory:de,token:t,providedIn:"platform"}),t})();function G(){return!!window.history.pushState}function de(){return new U((0,l.LFG)(oe))}function Ie(t,n){if(0==t.length)return n;if(0==n.length)return t;let e=0;return t.endsWith("/")&&e++,n.startsWith("/")&&e++,2==e?t+n.substring(1):1==e?t+n:t+"/"+n}function Ee(t){const n=t.match(/#|\?|$/),e=n&&n.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function ye(t){return t&&"?"!==t[0]?"?"+t:t}let he=(()=>{class t{historyGo(e){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,l.Yz7)({factory:ee,token:t,providedIn:"root"}),t})();function ee(t){const n=(0,l.LFG)(oe).location;return new ve((0,l.LFG)(K),n&&n.origin||"")}const ie=new l.OlP("appBaseHref");let ve=(()=>{class t extends he{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ie(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+ye(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,d){const g=this.prepareExternalUrl(a+ye(d));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){const g=this.prepareExternalUrl(a+ye(d));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(K),l.LFG(ie,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),De=(()=>{class t extends he{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=Ie(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,d){let g=this.prepareExternalUrl(a+ye(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){let g=this.prepareExternalUrl(a+ye(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(K),l.LFG(ie,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),dt=(()=>{class t{constructor(e,s){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ee(ut(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+ye(s))}normalize(e){return t.stripTrailingSlash(function(t,n){return t&&n.startsWith(t)?n.substring(t.length):n}(this._baseHref,ut(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._platformStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ye(s)),a)}replaceState(e,s="",a=null){this._platformStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ye(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(he),l.LFG(K))},t.normalizeQueryParams=ye,t.joinWithSlash=Ie,t.stripTrailingSlash=Ee,t.\u0275prov=(0,l.Yz7)({factory:mt,token:t,providedIn:"root"}),t})();function mt(){return new dt((0,l.LFG)(he),(0,l.LFG)(K))}function ut(t){return t.replace(/\/index.html$/,"")}var Je=(()=>((Je=Je||{})[Je.Zero=0]="Zero",Je[Je.One=1]="One",Je[Je.Two=2]="Two",Je[Je.Few=3]="Few",Je[Je.Many=4]="Many",Je[Je.Other=5]="Other",Je))();const vi=l.kL8;class yr{}let $n=(()=>{class t extends yr{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(vi(s||this.locale)(e)){case Je.Zero:return"zero";case Je.One:return"one";case Je.Two:return"two";case Je.Few:return"few";case Je.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.soG))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),en=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[{provide:yr,useClass:$n}]}),t})(),sa=(()=>{class t{}return t.\u0275prov=(0,l.Yz7)({token:t,providedIn:"root",factory:()=>new Cc((0,l.LFG)(oe),window)}),t})();class Cc{constructor(n,e){this.document=n,this.window=e,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const e=function(t,n){const e=t.getElementById(n)||t.getElementsByName(n)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const s=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const d=a.shadowRoot;if(d){const g=d.getElementById(n)||d.querySelector(`[name="${n}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,n);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=n)}}scrollToElement(n){const e=n.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],a-d[1])}attemptFocus(n){return n.focus(),this.document.activeElement===n}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=uo(this.window.history)||uo(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch(n){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(n){return!1}}}function uo(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ec extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Ec,te||(te=t)}onAndCancel(n,e,s){return n.addEventListener(e,s,!1),()=>{n.removeEventListener(e,s,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=(wi=wi||document.querySelector("base"),wi?wi.getAttribute("href"):null);return null==e?null:function(t){Lt=Lt||document.createElement("a"),Lt.setAttribute("href",t);const n=Lt.pathname;return"/"===n.charAt(0)?n:`/${n}`}(e)}resetBaseElement(){wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return function(t,n){n=encodeURIComponent(n);for(const e of t.split(";")){const s=e.indexOf("="),[a,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===n)return decodeURIComponent(d)}return null}(document.cookie,n)}}let Lt,wi=null;const Ja=new l.OlP("TRANSITION_ID"),Sr=[{provide:l.ip1,useFactory:function(t,n,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const s=L(),a=n.querySelectorAll(`style[ng-transition="${t}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[Ja,oe,l.zs3],multi:!0}];class Nn{static init(){(0,l.VLi)(new Nn)}addToWindow(n){l.dqk.getAngularTestability=(s,a=!0)=>{const d=n.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},l.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(s=>{const a=l.dqk.getAllAngularTestabilities();let d=a.length,g=!1;const v=function(w){g=g||w,d--,0==d&&s(g)};a.forEach(function(w){w.whenStable(v)})})}findTestabilityInTree(n,e,s){if(null==e)return null;const a=n.getTestability(e);return null!=a?a:s?L().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let ts=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const ki=new l.OlP("EventManagerPlugins");let _e=(()=>{class t{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const g=a[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ki),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class ot{constructor(n){this._doc=n}addGlobalEventListener(n,e,s){const a=L().getGlobalEventTarget(this._doc,n);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let nl=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Gt=(()=>{class t extends nl{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(rl),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(rl))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function rl(t){L().remove(t)}const Ei={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rr=/%COMP%/g;function bn(t,n,e){for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?bn(t,a,e):(a=a.replace(rr,t),e.push(a))}return e}function $r(t){return n=>{if("__ngUnwrap__"===n)return t;!1===t(n)&&(n.preventDefault(),n.returnValue=!1)}}let ri=(()=>{class t{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ir(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case l.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new tu(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case l.ifc.ShadowDom:return new ha(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=bn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(_e),l.LFG(Gt),l.LFG(l.AFp))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();class ir{constructor(n){this.eventManager=n,this.data=Object.create(null)}destroy(){}createElement(n,e){return e?document.createElementNS(Ei[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,s){n&&n.insertBefore(e,s)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let s="string"==typeof n?document.querySelector(n):n;if(!s)throw new Error(`The selector "${n}" did not match any elements`);return e||(s.textContent=""),s}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,s,a){if(a){e=a+":"+e;const d=Ei[a];d?n.setAttributeNS(d,e,s):n.setAttribute(e,s)}else n.setAttribute(e,s)}removeAttribute(n,e,s){if(s){const a=Ei[s];a?n.removeAttributeNS(a,e):n.removeAttribute(`${s}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,s,a){a&(l.JOm.DashCase|l.JOm.Important)?n.style.setProperty(e,s,a&l.JOm.Important?"important":""):n.style[e]=s}removeStyle(n,e,s){s&l.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,s){n[e]=s}setValue(n,e){n.nodeValue=e}listen(n,e,s){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,$r(s)):this.eventManager.addEventListener(n,e,$r(s))}}class tu extends ir{constructor(n,e,s,a){super(n),this.component=s;const d=bn(a+"-"+s.id,s.styles,[]);e.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(rr,a+"-"+s.id),this.hostAttr="_nghost-%COMP%".replace(rr,a+"-"+s.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const s=super.createElement(n,e);return super.setAttribute(s,this.contentAttr,""),s}}class ha extends ir{constructor(n,e,s,a){super(n),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=bn(a.id,a.styles,[]);for(let g=0;g<d.length;g++){const v=document.createElement("style");v.textContent=d[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,s){return super.insertBefore(this.nodeOrShadowRoot(n),e,s)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let fa=(()=>{class t extends ot{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const xi=["alt","control","meta","shift"],iu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Op={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let yo=(()=>{class t extends ot{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,s,a){const d=t.parseEventName(s),g=t.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=t._normalizeKey(s.pop());let g="";if(xi.forEach(w=>{const A=s.indexOf(w);A>-1&&(s.splice(A,1),g+=w+".")}),g+=d,0!=s.length||0===d.length)return null;const v={};return v.domEventName=a,v.fullKey=g,v}static getEventFullKey(e){let s="",a=function(t){let n=t.key;if(null==n){if(n=t.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===t.location&&Vn.hasOwnProperty(n)&&(n=Vn[n]))}return iu[n]||n}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),xi.forEach(d=>{d!=a&&Op[d](e)&&(s+=d+".")}),s+=a,s}static eventCallback(e,s,a){return d=>{t.getEventFullKey(d)===e&&a.runGuarded(()=>s(d))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const ss=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){Ec.makeCurrent(),Nn.init()},multi:!0},{provide:oe,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),ou=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:ki,useClass:fa,multi:!0,deps:[oe,l.R0b,l.Lbi]},{provide:ki,useClass:yo,multi:!0,deps:[oe]},[],{provide:ri,useClass:ri,deps:[_e,Gt,l.AFp]},{provide:l.FYo,useExisting:ri},{provide:nl,useExisting:Gt},{provide:Gt,useClass:Gt,deps:[oe]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:_e,useClass:_e,deps:[ki,l.R0b]},{provide:class{},useClass:ts,deps:[]},[]];let Ch=(()=>{class t{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:l.AFp,useValue:e.appId},{provide:Ja,useExisting:l.AFp},Sr]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(t,12))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:ou,imports:[en,l.hGG]}),t})();"undefined"!=typeof window&&window;var An=F(7574),Cn=F(9193),Be=F(5917),zt=F(9765),Fi=F(9796),wo=F(9105),Ye=F(8002);function Sn(t,n,e,s){return(0,wo.m)(e)&&(s=e,e=void 0),s?Sn(t,n,e).pipe((0,Ye.U)(a=>(0,Fi.k)(a)?s(...a):s(a))):new An.y(a=>{Th(t,n,function(g){a.next(arguments.length>1?Array.prototype.slice.call(arguments):g)},a,e)})}function Th(t,n,e,s,a){let d;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const g=t;t.addEventListener(n,e,a),d=()=>g.removeEventListener(n,e,a)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const g=t;t.on(n,e),d=()=>g.off(n,e)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const g=t;t.addListener(n,e),d=()=>g.removeListener(n,e)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let g=0,v=t.length;g<v;g++)Th(t[g],n,e,s,a)}s.add(d)}var Eo=F(3637),va=F(6561),si=F(4869);function Ca(t){const{index:n,period:e,subscriber:s}=t;if(s.next(n),!s.closed){if(-1===e)return s.complete();t.index=n+1,this.schedule(t,e)}}var wa=F(6693),on=F(7393);class ls extends on.L{notifyNext(n,e,s,a,d){this.destination.next(e)}notifyError(n,e){this.destination.error(n)}notifyComplete(n){this.destination.complete()}}class oi extends on.L{constructor(n,e,s){super(),this.parent=n,this.outerValue=e,this.outerIndex=s,this.index=0}_next(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)}_error(n){this.parent.notifyError(n,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ea=F(7444);function Li(t,n,e,s,a=new oi(t,e,s)){if(!a.closed)return n instanceof An.y?n.subscribe(a):(0,Ea.s)(n)(a)}function ai(...t){if(1===t.length){if(!(0,Fi.k)(t[0]))return t[0];t=t[0]}return(0,wa.n)(t,void 0).lift(new Fc)}class Fc{call(n,e){return e.subscribe(new Ih(n))}}class Ih extends ls{constructor(n){super(n),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(n){this.observables.push(n)}_complete(){const n=this.observables,e=n.length;if(0===e)this.destination.complete();else{for(let s=0;s<e&&!this.hasFirst;s++){const d=Li(this,n[s],void 0,s);this.subscriptions&&this.subscriptions.push(d),this.add(d)}this.observables=null}}notifyNext(n,e,s){if(!this.hasFirst){this.hasFirst=!0;for(let a=0;a<this.subscriptions.length;a++)if(a!==s){let d=this.subscriptions[a];d.unsubscribe(),this.remove(d)}this.subscriptions=null}this.destination.next(e)}}var Lc=F(7971);class Rn extends zt.xQ{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const e=super._subscribe(n);return e&&!e.closed&&n.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Lc.N;return this._value}next(n){super.next(this._value=n)}}const Nh={};class lu{constructor(n){this.resultSelector=n}call(n,e){return e.subscribe(new uu(n,this.resultSelector))}}class uu extends ls{constructor(n,e){super(n),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(n){this.values.push(Nh),this.observables.push(n)}_complete(){const n=this.observables,e=n.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let s=0;s<e;s++)this.add(Li(this,n[s],void 0,s))}}notifyComplete(n){0==(this.active-=1)&&this.destination.complete()}notifyNext(n,e,s){const a=this.values,g=this.toRespond?a[s]===Nh?--this.toRespond:this.toRespond:0;a[s]=e,0===g&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(n){let e;try{e=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}var Lp=F(8640);new An.y(Lp.Z);var du=F(377),li=F(5345);function hu(...t){const n=t[t.length-1];return"function"==typeof n&&t.pop(),(0,wa.n)(t,void 0).lift(new Vc(n))}class Vc{constructor(n){this.resultSelector=n}call(n,e){return e.subscribe(new Ah(n,this.resultSelector))}}class Ah extends on.L{constructor(n,e,s=Object.create(null)){super(n),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(n){const e=this.iterators;(0,Fi.k)(n)?e.push(new Ss(n)):e.push("function"==typeof n[du.hZ]?new fu(n[du.hZ]()):new Bc(this.destination,this,n))}_complete(){const n=this.iterators,e=n.length;if(this.unsubscribe(),0!==e){this.active=e;for(let s=0;s<e;s++){let a=n[s];a.stillUnsubscribed?this.destination.add(a.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const n=this.iterators,e=n.length,s=this.destination;for(let g=0;g<e;g++){let v=n[g];if("function"==typeof v.hasValue&&!v.hasValue())return}let a=!1;const d=[];for(let g=0;g<e;g++){let v=n[g],w=v.next();if(v.hasCompleted()&&(a=!0),w.done)return void s.complete();d.push(w.value)}this.resultSelector?this._tryresultSelector(d):s.next(d),a&&s.complete()}_tryresultSelector(n){let e;try{e=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}class fu{constructor(n){this.iterator=n,this.nextResult=n.next()}hasValue(){return!0}next(){const n=this.nextResult;return this.nextResult=this.iterator.next(),n}hasCompleted(){const n=this.nextResult;return Boolean(n&&n.done)}}class Ss{constructor(n){this.array=n,this.index=0,this.length=0,this.length=n.length}[du.hZ](){return this}next(n){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Bc extends li.Ds{constructor(n,e,s){super(n),this.parent=e,this.observable=s,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[du.hZ](){return this}next(){const n=this.buffer;return 0===n.length&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(n){this.buffer.push(n),this.parent.checkIterators()}subscribe(){return(0,li.ft)(this.observable,new li.IY(this))}}var Qt=F(6682),Gr=F(3282);function Uc(...t){return(0,Gr.J)(1)((0,Be.of)(...t))}function Et(t){return n=>n.lift(new Di(t))}class Di{constructor(n){this.notifier=n}call(n,e){const s=new ul(n),a=(0,li.ft)(this.notifier,new li.IY(s));return a&&!s.seenValue?(s.add(a),e.subscribe(s)):s}}class ul extends li.Ds{constructor(n){super(n),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ft(t,n){return function(s){return s.lift(new Vi(t,n))}}class Vi{constructor(n,e){this.predicate=n,this.thisArg=e}call(n,e){return e.subscribe(new Hc(n,this.predicate,this.thisArg))}}class Hc extends on.L{constructor(n,e,s){super(n),this.predicate=e,this.thisArg=s,this.count=0}_next(n){let e;try{e=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}e&&this.destination.next(n)}}const us=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function br(t){return n=>0===t?(0,Cn.c)():n.lift(new To(t))}class To{constructor(n){if(this.total=n,this.total<0)throw new us}call(n,e){return e.subscribe(new pu(n,this.total))}}class pu extends on.L{constructor(n,e){super(n),this.total=e,this.count=0}_next(n){const e=this.total,s=++this.count;s<=e&&(this.destination.next(n),s===e&&(this.destination.complete(),this.unsubscribe()))}}class Io{constructor(n,e){this.compare=n,this.keySelector=e}call(n,e){return e.subscribe(new $c(n,this.compare,this.keySelector))}}class $c extends on.L{constructor(n,e,s){super(n),this.keySelector=s,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(n,e){return n===e}_next(n){let e;try{const{keySelector:a}=this;e=a?a(n):n}catch(a){return this.destination.error(a)}let s=!1;if(this.hasKey)try{const{compare:a}=this;s=a(this.key,e)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=e,this.destination.next(n))}}var Bn=F(4402);function E(t,n){return"function"==typeof n?e=>e.pipe(E((s,a)=>(0,Bn.D)(t(s,a)).pipe((0,Ye.U)((d,g)=>n(s,d,a,g))))):e=>e.lift(new I(t))}class I{constructor(n){this.project=n}call(n,e){return e.subscribe(new M(n,this.project))}}class M extends li.Ds{constructor(n,e){super(n),this.project=e,this.index=0}_next(n){let e;const s=this.index++;try{e=this.project(n,s)}catch(a){return void this.destination.error(a)}this._innerSub(e)}_innerSub(n){const e=this.innerSubscription;e&&e.unsubscribe();const s=new li.IY(this),a=this.destination;a.add(s),this.innerSubscription=(0,li.ft)(n,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:n}=this;(!n||n.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(n){this.destination.next(n)}}var B=F(8307);function Q(...t){return n=>{let e;return"function"==typeof t[t.length-1]&&(e=t.pop()),n.lift(new le(t,e))}}class le{constructor(n,e){this.observables=n,this.project=e}call(n,e){return e.subscribe(new be(n,this.observables,this.project))}}class be extends ls{constructor(n,e,s){super(n),this.observables=e,this.project=s,this.toRespond=[];const a=e.length;this.values=new Array(a);for(let d=0;d<a;d++)this.toRespond.push(d);for(let d=0;d<a;d++)this.add(Li(this,e[d],void 0,d))}notifyNext(n,e,s){this.values[s]=e;const a=this.toRespond;if(a.length>0){const d=a.indexOf(s);-1!==d&&a.splice(d,1)}}notifyComplete(){}_next(n){if(0===this.toRespond.length){const e=[n,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(n){let e;try{e=this.project.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(e)}}var xe=F(1593);class $t{constructor(n,e){this.delay=n,this.scheduler=e}call(n,e){return e.subscribe(new an(n,this.delay,this.scheduler))}}class an extends on.L{constructor(n,e,s){super(n),this.delay=e,this.scheduler=s,this.queue=[],this.active=!1,this.errored=!1}static dispatch(n){const e=n.source,s=e.queue,a=n.scheduler,d=n.destination;for(;s.length>0&&s[0].time-a.now()<=0;)s.shift().notification.observe(d);if(s.length>0){const g=Math.max(0,s[0].time-a.now());this.schedule(n,g)}else this.unsubscribe(),e.active=!1}_schedule(n){this.active=!0,this.destination.add(n.schedule(an.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))}scheduleNotification(n){if(!0===this.errored)return;const e=this.scheduler,s=new Rr(e.now()+this.delay,n);this.queue.push(s),!1===this.active&&this._schedule(e)}_next(n){this.scheduleNotification(xe.P.createNext(n))}_error(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()}_complete(){this.scheduleNotification(xe.P.createComplete()),this.unsubscribe()}}class Rr{constructor(n,e){this.time=n,this.notification=e}}var Rt=F(9773),Wr=F(8819);F(1555);let td=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),wl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[td]]}),t})(),lg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[wl]}),t})();const Mu=["*"],Q0=["dialog"];function Fo(t){return null!=t}function xu(t){return(t||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let n=this;if(!document.documentElement.contains(n))return null;do{if(n.matches(t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null});const bg={animation:!0,transitionTimerDelayMs:5};let ar=(()=>{class t{constructor(){this.animation=bg.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})();const db=()=>{},{transitionTimerDelayMs:hb}=bg,ld=new Map,lr=(t,n,e,s)=>{let a=s.context||{};const d=ld.get(n);if(d)switch(s.runningTransition){case"continue":return Cn.E;case"stop":t.run(()=>d.transition$.complete()),a=Object.assign(d.context,a),ld.delete(n)}const g=e(n,s.animation,a)||db;if(!s.animation||"none"===window.getComputedStyle(n).transitionProperty)return t.run(()=>g()),(0,Be.of)(void 0).pipe(function(t){return n=>new An.y(e=>n.subscribe(g=>t.run(()=>e.next(g)),g=>t.run(()=>e.error(g)),()=>t.run(()=>e.complete())))}(t));const v=new zt.xQ,w=new zt.xQ,A=v.pipe(function(...t){return n=>Uc(n,(0,Be.of)(...t))}(!0));ld.set(n,{transition$:v,complete:()=>{w.next(),w.complete()},context:a});const O=function(t){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(t);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return t.runOutsideAngular(()=>{const x=Sn(n,"transitionend").pipe(Et(A),Ft(({target:X})=>X===n));ai(function(t=0,n,e){let s=-1;return(0,va.k)(n)?s=Number(n)<1?1:Number(n):(0,si.K)(n)&&(e=n),(0,si.K)(e)||(e=Eo.P),new An.y(a=>{const d=(0,va.k)(t)?t:+t-e.now();return e.schedule(Ca,d,{index:0,period:s,subscriber:a})})}(O+hb).pipe(Et(A)),x,w).pipe(Et(A)).subscribe(()=>{ld.delete(n),t.run(()=>{g(),v.next(),v.complete()})})}),v.asObservable()};let wg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),_b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),R_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),wb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),O_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();var _t=(()=>{return(t=_t||(_t={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",_t;var t})();const Ig=(t,n)=>!!n&&n.some(e=>e.contains(t)),Rb=(t,n)=>!n||null!=function(t,n){return n&&void 0!==t.closest?t.closest(n):null}(t,n),SD="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function Lu(t,n,e,s,a,d,g,v){e&&t.runOutsideAngular((t=>SD?()=>setTimeout(()=>t(),100):t)(()=>{const A=Sn(n,"keydown").pipe(Et(a),Ft(j=>j.which===_t.Escape),(0,B.b)(j=>j.preventDefault())),O=Sn(n,"mousedown").pipe((0,Ye.U)(j=>{const X=j.target;return 2!==j.button&&!Ig(X,g)&&("inside"===e?Ig(X,d)&&Rb(X,v):"outside"===e?!Ig(X,d):Rb(X,v)||!Ig(X,d))}),Et(a)),x=Sn(n,"mouseup").pipe(Q(O),Ft(([j,X])=>X),function(t,n=Eo.P){const s=function(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-n.now():Math.abs(t);return a=>a.lift(new $t(s,n))}(0),Et(a));ai([A.pipe((0,Ye.U)(j=>0)),x.pipe((0,Ye.U)(j=>1))]).subscribe(j=>t.run(()=>s(j)))}))}const MD=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Vo(t){const n=Array.from(t.querySelectorAll(MD)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}const aS=/\s+/,xb=new class{getAllStyles(n){return window.getComputedStyle(n)}getStyle(n,e){return this.getAllStyles(n)[e]}isStaticPositioned(n){return"static"===(this.getStyle(n,"position")||"static")}offsetParent(n){let e=n.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(n,e=!0){let s,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))s=n.getBoundingClientRect(),s={top:s.top,bottom:s.bottom,left:s.left,right:s.right,height:s.height,width:s.width};else{const d=this.offsetParent(n);s=this.offset(n,!1),d!==document.documentElement&&(a=this.offset(d,!1)),a.top+=d.clientTop,a.left+=d.clientLeft}return s.top-=a.top,s.bottom-=a.top,s.left-=a.left,s.right-=a.left,e&&(s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}offset(n,e=!0){const s=n.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft;let d={height:s.height||n.offsetHeight,width:s.width||n.offsetWidth,top:s.top+a_top,bottom:s.bottom+a_top,left:s.left+a_left,right:s.right+a_left};return e&&(d.height=Math.round(d.height),d.width=Math.round(d.width),d.top=Math.round(d.top),d.bottom=Math.round(d.bottom),d.left=Math.round(d.left),d.right=Math.round(d.right)),d}positionElements(n,e,s,a){const[d="top",g="center"]=s.split("-"),v=a?this.offset(n,!1):this.position(n,!1),w=this.getAllStyles(e),A=parseFloat(w.marginTop),O=parseFloat(w.marginBottom),x=parseFloat(w.marginLeft),j=parseFloat(w.marginRight);let X=0,me=0;switch(d){case"top":X=v.top-(e.offsetHeight+A+O);break;case"bottom":X=v.top+v.height;break;case"left":me=v.left-(e.offsetWidth+x+j);break;case"right":me=v.left+v.width}switch(g){case"top":X=v.top;break;case"bottom":X=v.top+v.height-e.offsetHeight;break;case"left":me=v.left;break;case"right":me=v.left+v.width-e.offsetWidth;break;case"center":"top"===d||"bottom"===d?me=v.left+v.width/2-e.offsetWidth/2:X=v.top+v.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(me)}px, ${Math.round(X)}px)`;const Ae=e.getBoundingClientRect(),He=document.documentElement,xt=window.innerHeight||He.clientHeight,nt=window.innerWidth||He.clientWidth;return Ae.left>=0&&Ae.top>=0&&Ae.right<=nt&&Ae.bottom<=xt}};new Date(1882,10,12),new Date(2174,10,25);let Uu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en,lg]]}),t})(),gd=(()=>{class t{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=l.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Il=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=l.lG2({type:t,selectors:[["",8,"navbar"]]}),t})(),z_=(()=>{class t{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,s){2&e&&l.ekj("disabled",s.disabled)},inputs:{disabled:"disabled"}}),t})(),kg=(()=>{class t{constructor(e,s){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=s.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(l.Y36((0,l.Gpc)(()=>md)),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,s,a){if(1&e&&l.Suo(a,z_,4),2&e){let d;l.iGM(d=l.CRH())&&(s.menuItems=d)}},hostVars:5,hostBindings:function(e,s){1&e&&l.NdJ("keydown.ArrowUp",function(d){return s.dropdown.onKeyDown(d)})("keydown.ArrowDown",function(d){return s.dropdown.onKeyDown(d)})("keydown.Home",function(d){return s.dropdown.onKeyDown(d)})("keydown.End",function(d){return s.dropdown.onKeyDown(d)})("keydown.Enter",function(d){return s.dropdown.onKeyDown(d)})("keydown.Space",function(d){return s.dropdown.onKeyDown(d)})("keydown.Tab",function(d){return s.dropdown.onKeyDown(d)})("keydown.Shift.Tab",function(d){return s.dropdown.onKeyDown(d)}),2&e&&(l.uIk("x-placement",s.placement),l.ekj("dropdown-menu",!0)("show",s.dropdown.isOpen()))}}),t})(),yf=(()=>{class t{constructor(e,s){this.dropdown=e,this.nativeElement=s.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(l.Y36((0,l.Gpc)(()=>md)),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,s){2&e&&l.uIk("aria-expanded",s.dropdown.isOpen())}}),t})(),Y_=(()=>{class t extends yf{constructor(e,s){super(e,s)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36((0,l.Gpc)(()=>md)),l.Y36(l.SBq))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,s){1&e&&l.NdJ("click",function(){return s.dropdown.toggle()})("keydown.ArrowUp",function(d){return s.dropdown.onKeyDown(d)})("keydown.ArrowDown",function(d){return s.dropdown.onKeyDown(d)})("keydown.Home",function(d){return s.dropdown.onKeyDown(d)})("keydown.End",function(d){return s.dropdown.onKeyDown(d)})("keydown.Tab",function(d){return s.dropdown.onKeyDown(d)})("keydown.Shift.Tab",function(d){return s.dropdown.onKeyDown(d)}),2&e&&l.uIk("aria-expanded",s.dropdown.isOpen())},features:[l._Bn([{provide:yf,useExisting:(0,l.Gpc)(()=>t)}]),l.qOj]}),t})(),md=(()=>{class t{constructor(e,s,a,d,g,v,w){this._changeDetector=e,this._document=a,this._ngZone=d,this._elementRef=g,this._renderer=v,this._closed$=new zt.xQ,this._bodyContainer=null,this._open=!1,this.openChange=new l.vpe,this.placement=s.placement,this.container=s.container,this.autoClose=s.autoClose,this.display=w?"static":"dynamic",this._zoneSubscription=d.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(br(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:s,previousValue:a}=e.dropdownClass;this._applyCustomDropdownClass(s,a)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){Lu(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const s=e.which,a=this._getMenuElements();let d=-1,g=null;const v=this._isEventFromToggle(e);if(!v&&a.length&&a.forEach((w,A)=>{w.contains(e.target)&&(g=w),w===this._document.activeElement&&(d=A)}),s!==_t.Space&&s!==_t.Enter){if(s!==_t.Tab){if(v||g){if(this.open(),a.length){switch(s){case _t.ArrowDown:d=Math.min(d+1,a.length-1);break;case _t.ArrowUp:if(this._isDropup()&&-1===d){d=a.length-1;break}d=Math.max(d-1,0);break;case _t.Home:d=0;break;case _t.End:d=a.length-1}a[d].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const w=this._menu.nativeElement.querySelectorAll(MD);e.shiftKey&&e.target===w[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===w[w.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Sn(e.target,"focusout").pipe(br(1)).subscribe(({relatedTarget:w})=>{this._elementRef.nativeElement.contains(w)||this.close()})}}else g&&(!0===this.autoClose||"inside"===this.autoClose)&&Sn(g,"click").pipe(br(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(s=>!s.disabled).map(s=>s.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?function(t,n,e,s,a){let d=Array.isArray(e)?e:e.split(aS);const g=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],v=n.classList,w=X=>{const[me,Ae]=X.split("-"),He=[];return a&&(He.push(`${a}-${me}`),Ae&&He.push(`${a}-${me}-${Ae}`),He.forEach(xt=>{v.add(xt)})),He};a&&g.forEach(X=>{v.remove(`${a}-${X}`)});let A=d.findIndex(X=>"auto"===X);A>=0&&g.forEach(function(X){null==d.find(me=>-1!==me.search("^"+X))&&d.splice(A++,1,X)});const O=n.style;O.position="absolute",O.top="0",O.left="0",O["will-change"]="transform";let x=null,j=!1;for(x of d){let X=w(x);if(xb.positionElements(t,n,x,s)){j=!0;break}a&&X.forEach(me=>{v.remove(me)})}return j||(x=d[0],w(x),xb.positionElements(t,n,x,s)),x}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const a=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,a),e.removeStyle(a,"position"),e.removeStyle(a,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const s=this._renderer,a=this._menu.nativeElement,d=this._bodyContainer=this._bodyContainer||s.createElement("div");s.setStyle(d,"position","absolute"),s.setStyle(a,"position","static"),s.setStyle(d,"z-index","1050"),s.appendChild(d,a),s.appendChild(this._document.body,d)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,s){const a="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;a&&(s&&this._renderer.removeClass(a,s),e&&this._renderer.addClass(a,e))}_applyPlacementClasses(e){const s=this._menu;if(s){e||(e=this._getFirstPlacement(this.placement));const a=this._renderer,d=this._elementRef.nativeElement;a.removeClass(d,"dropup"),a.removeClass(d,"dropdown"),s.placement="static"===this.display?null:e;const g=-1!==e.search("^top")?"dropup":"dropdown";a.addClass(d,g);const v=this._bodyContainer;v&&(a.removeClass(v,"dropup"),a.removeClass(v,"dropdown"),a.addClass(v,g))}}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.sBO),l.Y36(gd),l.Y36(oe),l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Il,8))},t.\u0275dir=l.lG2({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(e,s,a){if(1&e&&(l.Suo(a,kg,5),l.Suo(a,yf,5)),2&e){let d;l.iGM(d=l.CRH())&&(s._menu=d.first),l.iGM(d=l.CRH())&&(s._anchor=d.first)}},hostVars:2,hostBindings:function(e,s){2&e&&l.ekj("show",s.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[l.TTD]}),t})(),Z_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})(),q_=(()=>{class t{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(ar))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(ar))},token:t,providedIn:"root"}),t})();class Nl{constructor(n,e,s){this.nodes=n,this.viewRef=e,this.componentRef=s}}const Gb=()=>{};let J_=(()=>{class t{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Gb}_adjustBody(e){const s=this._document.body,a=s.style.paddingRight,d=parseFloat(window.getComputedStyle(s)["padding-right"]);return s.style["padding-right"]=`${d+e}px`,()=>s.style["padding-right"]=a}_isPresent(e){const s=this._document.body.getBoundingClientRect();return window.innerWidth-(s.left+s.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const s=this._document.body;s.appendChild(e);const a=e.getBoundingClientRect().width-e.clientWidth;return s.removeChild(e),a}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(oe))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(oe))},token:t,providedIn:"root"}),t})(),Wb=(()=>{class t{constructor(e,s){this._el=e,this._zone=s}ngOnInit(){this._zone.onStable.asObservable().pipe(br(1)).subscribe(()=>{lr(this._zone,this._el.nativeElement,(e,s)=>{s&&xu(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return lr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,s){2&e&&(l.Tol("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),l.ekj("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,s){},encapsulation:2}),t})();class zb{close(n){}dismiss(n){}}class _S{constructor(n,e,s,a){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=s,this._beforeDismiss=a,this._closed=new zt.xQ,this._dismissed=new zt.xQ,this._hidden=new zt.xQ,n.instance.dismissEvent.subscribe(d=>{this.dismiss(d)}),this.result=new Promise((d,g)=>{this._resolve=d,this._reject=g}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Et(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Et(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(s=>{!1!==s&&this._dismiss(n)},()=>{}):!1!==e&&this._dismiss(n)}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Be.of)(void 0);n.subscribe(()=>{const{nativeElement:s}=this._windowCmptRef.location;s.parentNode.removeChild(s),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:s}=this._backdropCmptRef.location;s.parentNode.removeChild(s),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),hu(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var vf=(()=>{return(t=vf||(vf={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",vf;var t})();let Yb=(()=>{class t{constructor(e,s,a){this._document=e,this._elRef=s,this._zone=a,this._closed$=new zt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new zt.xQ,this.hidden=new zt.xQ}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(br(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,s={animation:this.animation,runningTransition:"stop"},g=hu(lr(this._zone,e,()=>e.classList.remove("show"),s),lr(this._zone,this._dialogEl.nativeElement,()=>{},s));return g.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),g}_show(){const e={animation:this.animation,runningTransition:"continue"};hu(lr(this._zone,this._elRef.nativeElement,(d,g)=>{g&&xu(d),d.classList.add("show")},e),lr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Sn(e,"keydown").pipe(Et(this._closed$),Ft(a=>a.which===_t.Escape)).subscribe(a=>{this.keyboard?requestAnimationFrame(()=>{a.defaultPrevented||this._zone.run(()=>this.dismiss(vf.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let s=!1;Sn(this._dialogEl.nativeElement,"mousedown").pipe(Et(this._closed$),(0,B.b)(()=>s=!1),E(()=>Sn(e,"mouseup").pipe(Et(this._closed$),br(1))),Ft(({target:a})=>e===a)).subscribe(()=>{s=!0}),Sn(e,"click").pipe(Et(this._closed$)).subscribe(({target:a})=>{e===a&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!s&&this._zone.run(()=>this.dismiss(vf.BACKDROP_CLICK))),s=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const s=e.querySelector("[ngbAutofocus]"),a=Vo(e)[0];(s||a||e).focus()}}_restoreFocus(){const e=this._document.body,s=this._elWithFocus;let a;a=s&&s.focus&&e.contains(s)?s:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>a.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&lr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(oe),l.Y36(l.SBq),l.Y36(l.R0b))},t.\u0275cmp=l.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(e,s){if(1&e&&l.Gf(Q0,7),2&e){let a;l.iGM(a=l.CRH())&&(s._dialogEl=a.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,s){2&e&&(l.uIk("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),l.Tol("modal d-block"+(s.windowClass?" "+s.windowClass:"")),l.ekj("fade",s.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Mu,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,s){1&e&&(l.F$t(),l.TgZ(0,"div",0,1),l.TgZ(2,"div",2),l.Hsn(3),l.qZA(),l.qZA()),2&e&&l.Tol("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),Zb=(()=>{class t{constructor(e,s,a,d,g,v){this._applicationRef=e,this._injector=s,this._document=a,this._scrollBar=d,this._rendererFactory=g,this._ngZone=v,this._activeWindowCmptHasChanged=new zt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const w=this._windowCmpts[this._windowCmpts.length-1];((t,n,e,s=!1)=>{t.runOutsideAngular(()=>{const a=Sn(n,"focusin").pipe(Et(e),(0,Ye.U)(d=>d.target));Sn(n,"keydown").pipe(Et(e),Ft(d=>d.which===_t.Tab),Q(a)).subscribe(([d,g])=>{const[v,w]=Vo(n);(g===v||g===n)&&d.shiftKey&&(w.focus(),d.preventDefault()),g===w&&!d.shiftKey&&(v.focus(),d.preventDefault())}),s&&Sn(n,"click").pipe(Et(e),Q(a),(0,Ye.U)(d=>d[1])).subscribe(d=>d.focus())})})(this._ngZone,w.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(w.location.nativeElement)}})}open(e,s,a,d){const g=d.container instanceof HTMLElement?d.container:Fo(d.container)?this._document.querySelector(d.container):this._document.body,v=this._rendererFactory.createRenderer(null,null),w=this._scrollBar.compensate(),A=()=>{this._modalRefs.length||(v.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!g)throw new Error(`The specified modal container "${d.container||"body"}" was not found in the DOM.`);const O=new zb,x=this._getContentRef(e,d.injector||s,a,O,d);let j=!1!==d.backdrop?this._attachBackdrop(e,g):void 0,X=this._attachWindowComponent(e,g,x),me=new _S(X,x,j,d.beforeDismiss);return this._registerModalRef(me),this._registerWindowCmpt(X),me.result.then(w,w),me.result.then(A,A),O.close=Ae=>{me.close(Ae)},O.dismiss=Ae=>{me.dismiss(Ae)},this._applyWindowOptions(X.instance,d),1===this._modalRefs.length&&v.addClass(this._document.body,"modal-open"),j&&j.instance&&(this._applyBackdropOptions(j.instance,d),j.changeDetectorRef.detectChanges()),X.changeDetectorRef.detectChanges(),me}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(s=>s.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,s){let d=e.resolveComponentFactory(Wb).create(this._injector);return this._applicationRef.attachView(d.hostView),s.appendChild(d.location.nativeElement),d}_attachWindowComponent(e,s,a){let g=e.resolveComponentFactory(Yb).create(this._injector,a.nodes);return this._applicationRef.attachView(g.hostView),s.appendChild(g.location.nativeElement),g}_applyWindowOptions(e,s){this._windowAttributes.forEach(a=>{Fo(s[a])&&(e[a]=s[a])})}_applyBackdropOptions(e,s){this._backdropAttributes.forEach(a=>{Fo(s[a])&&(e[a]=s[a])})}_getContentRef(e,s,a,d,g){return a?a instanceof l.Rgc?this._createFromTemplateRef(a,d):function(t){return"string"==typeof t}(a)?this._createFromString(a):this._createFromComponent(e,s,a,d,g):new Nl([])}_createFromTemplateRef(e,s){const d=e.createEmbeddedView({$implicit:s,close(g){s.close(g)},dismiss(g){s.dismiss(g)}});return this._applicationRef.attachView(d),new Nl([d.rootNodes],d)}_createFromString(e){const s=this._document.createTextNode(`${e}`);return new Nl([[s]])}_createFromComponent(e,s,a,d,g){const v=e.resolveComponentFactory(a),w=l.zs3.create({providers:[{provide:zb,useValue:d}],parent:s}),A=v.create(w),O=A.location.nativeElement;return g.scrollable&&O.classList.add("component-host-scrollable"),this._applicationRef.attachView(A.hostView),new Nl([[O]],A.hostView,A)}_setAriaHidden(e){const s=e.parentElement;s&&e!==this._document.body&&(Array.from(s.children).forEach(a=>{a!==e&&"SCRIPT"!==a.nodeName&&(this._ariaHiddenValues.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}),this._setAriaHidden(s))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,s)=>{e?s.setAttribute("aria-hidden",e):s.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const s=()=>{const a=this._modalRefs.indexOf(e);a>-1&&(this._modalRefs.splice(a,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(s,s)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const s=this._windowCmpts.indexOf(e);s>-1&&(this._windowCmpts.splice(s,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(oe),l.LFG(J_),l.LFG(l.FYo),l.LFG(l.R0b))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(l.z2F),l.LFG(l.gxx),l.LFG(oe),l.LFG(J_),l.LFG(l.FYo),l.LFG(l.R0b))},token:t,providedIn:"root"}),t})(),qb=(()=>{class t{constructor(e,s,a,d){this._moduleCFR=e,this._injector=s,this._modalStack=a,this._config=d}open(e,s={}){const a=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),s);return this._modalStack.open(this._moduleCFR,this._injector,e,a)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(Zb),l.LFG(q_))},t.\u0275prov=l.Yz7({factory:function(){return new t(l.LFG(l._Vd),l.LFG(l.gxx),l.LFG(Zb),l.LFG(q_))},token:t,providedIn:"root"}),t})(),Kb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[qb]}),t})(),nC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),sC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),ty=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),Og=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),_d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),Pg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),Fg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})(),Lg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();new l.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let cy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[en]]}),t})();const EC=[wg,_b,R_,wb,O_,Uu,Z_,Kb,nC,sC,ty,Og,_d,Pg,Fg,Lg,cy];let DC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[EC,wg,_b,R_,wb,O_,Uu,Z_,Kb,nC,sC,ty,Og,_d,Pg,Fg,Lg,cy]}),t})();const bf=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();function _T(t){return new An.y(n=>{let e;try{e=t()}catch(a){return void n.error(a)}return(e?(0,Bn.D)(e):(0,Cn.c)()).subscribe(n)})}var yT=F(2441);function Ug(t,n){let e=!1;return arguments.length>=2&&(e=!0),function(a){return a.lift(new TC(t,n,e))}}class TC{constructor(n,e,s=!1){this.accumulator=n,this.seed=e,this.hasSeed=s}call(n,e){return e.subscribe(new vT(n,this.accumulator,this.seed,this.hasSeed))}}class vT extends on.L{constructor(n,e,s,a){super(n),this.accumulator=e,this._seed=s,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(n){this.hasSeed=!0,this._seed=n}_next(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)}_tryNext(n){const e=this.index++;let s;try{s=this.accumulator(this.seed,n,e)}catch(a){this.destination.error(a)}this.seed=s,this.destination.next(s)}}function gn(t){return function(e){const s=new IC(t),a=e.lift(s);return s.caught=a}}class IC{constructor(n){this.selector=n}call(n,e){return e.subscribe(new bT(n,this.selector,this.caught))}}class bT extends li.Ds{constructor(n,e,s){super(n),this.selector=e,this.caught=s}error(n){if(!this.isStopped){let e;try{e=this.selector(n,this.caught)}catch(d){return void super.error(d)}this._unsubscribeAndRecycle();const s=new li.IY(this);this.add(s);const a=(0,li.ft)(e,s);a!==s&&this.add(a)}}}function Cf(t,n){return(0,Rt.zg)(t,n,1)}function Hg(t){return function(e){return 0===t?(0,Cn.c)():e.lift(new CT(t))}}class CT{constructor(n){if(this.total=n,this.total<0)throw new us}call(n,e){return e.subscribe(new NC(n,this.total))}}class NC extends on.L{constructor(n,e){super(n),this.total=e,this.ring=new Array,this.count=0}_next(n){const e=this.ring,s=this.total,a=this.count++;e.length<s?e.push(n):e[a%s]=n}_complete(){const n=this.destination;let e=this.count;if(e>0){const s=this.count>=this.total?this.total:this.count,a=this.ring;for(let d=0;d<s;d++){const g=e++%s;n.next(a[g])}}n.complete()}}function dy(t=ET){return n=>n.lift(new yd(t))}class yd{constructor(n){this.errorFactory=n}call(n,e){return e.subscribe(new wT(n,this.errorFactory))}}class wT extends on.L{constructor(n,e){super(n),this.errorFactory=e,this.hasValue=!1}_next(n){this.hasValue=!0,this.destination.next(n)}_complete(){if(this.hasValue)return this.destination.complete();{let n;try{n=this.errorFactory()}catch(e){n=e}this.destination.error(n)}}}function ET(){return new bf}function hy(t=null){return n=>n.lift(new DT(t))}class DT{constructor(n){this.defaultValue=n}call(n,e){return e.subscribe(new AC(n,this.defaultValue))}}class AC extends on.L{constructor(n,e){super(n),this.defaultValue=e,this.isEmpty=!0}_next(n){this.isEmpty=!1,this.destination.next(n)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var TT=F(4487);function Oa(t,n){const e=arguments.length>=2;return s=>s.pipe(t?Ft((a,d)=>t(a,d,s)):TT.y,br(1),e?hy(n):dy(()=>new bf))}var Ho=F(1307),SC=F(5319);class $o{constructor(n){this.callback=n}call(n,e){return e.subscribe(new $s(n,this.callback))}}class $s extends on.L{constructor(n,e){super(n),this.add(new SC.w(e))}}class cr{constructor(n,e){this.id=n,this.url=e}}class $g extends cr{constructor(n,e,s="imperative",a=null){super(n,e),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vd extends cr{constructor(n,e,s){super(n,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class RC extends cr{constructor(n,e,s){super(n,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class IT extends cr{constructor(n,e,s){super(n,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class NT extends cr{constructor(n,e,s,a){super(n,e),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AT extends cr{constructor(n,e,s,a){super(n,e),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class py extends cr{constructor(n,e,s,a,d){super(n,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wf extends cr{constructor(n,e,s,a){super(n,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ST extends cr{constructor(n,e,s,a){super(n,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gy{constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kC{constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xC{constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OC{constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jg{constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MT{constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class my{constructor(n,e,s){this.routerEvent=n,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yt="primary";class _y{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e[0]:e}return null}getAll(n){if(this.has(n)){const e=this.params[n];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Pa(t){return new _y(t)}const yy="ngNavigationCancelingError";function Gg(t){const n=Error("NavigationCancelingError: "+t);return n[yy]=!0,n}function FC(t,n,e){const s=e.path.split("/");if(s.length>t.length||"full"===e.pathMatch&&(n.hasChildren()||s.length<t.length))return null;const a={};for(let d=0;d<s.length;d++){const g=s[d],v=t[d];if(g.startsWith(":"))a[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:t.slice(0,s.length),posParams:a}}function js(t,n){const e=t?Object.keys(t):void 0,s=n?Object.keys(n):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!vy(t[a],n[a]))return!1;return!0}function vy(t,n){if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return!1;const e=[...t].sort(),s=[...n].sort();return e.every((a,d)=>s[d]===a)}return t===n}function by(t){return Array.prototype.concat.apply([],t)}function VC(t){return t.length>0?t[t.length-1]:null}function Fr(t,n){for(const e in t)t.hasOwnProperty(e)&&n(t[e],e)}function Gs(t){return(0,l.CqO)(t)?t:(0,l.QGY)(t)?(0,Bn.D)(Promise.resolve(t)):(0,Be.of)(t)}const kT={exact:function HC(t,n,e){if(!Al(t.segments,n.segments)||!Wg(t.segments,n.segments,e)||t.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children)if(!t.children[s]||!HC(t.children[s],n.children[s],e))return!1;return!0},subset:$C},BC={exact:function(t,n){return js(t,n)},subset:function(t,n){return Object.keys(n).length<=Object.keys(t).length&&Object.keys(n).every(e=>vy(t[e],n[e]))},ignored:()=>!0};function UC(t,n,e){return kT[e.paths](t.root,n.root,e.matrixParams)&&BC[e.queryParams](t.queryParams,n.queryParams)&&!("exact"===e.fragment&&t.fragment!==n.fragment)}function $C(t,n,e){return jC(t,n,n.segments,e)}function jC(t,n,e,s){if(t.segments.length>e.length){const a=t.segments.slice(0,e.length);return!(!Al(a,e)||n.hasChildren()||!Wg(a,e,s))}if(t.segments.length===e.length){if(!Al(t.segments,e)||!Wg(t.segments,e,s))return!1;for(const a in n.children)if(!t.children[a]||!$C(t.children[a],n.children[a],s))return!1;return!0}{const a=e.slice(0,t.segments.length),d=e.slice(t.segments.length);return!!(Al(t.segments,a)&&Wg(t.segments,a,s)&&t.children[yt])&&jC(t.children[yt],n,d,s)}}function Wg(t,n,e){return n.every((s,a)=>BC[e](t[a].parameters,s.parameters))}class $u{constructor(n,e,s){this.root=n,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pa(this.queryParams)),this._queryParamMap}toString(){return WC.serialize(this)}}class kt{constructor(n,e){this.segments=n,this.children=e,this.parent=null,Fr(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Df(this)}}class Ef{constructor(n,e){this.path=n,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Pa(this.parameters)),this._parameterMap}toString(){return YC(this)}}function Al(t,n){return t.length===n.length&&t.every((e,s)=>e.path===n[s].path)}class zg{}class Cy{parse(n){const e=new FT(n);return new $u(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(n){var t;return`${`/${bd(n.root,!0)}`}${function(t){const n=Object.keys(t).map(e=>{const s=t[e];return Array.isArray(s)?s.map(a=>`${Tf(e)}=${Tf(a)}`).join("&"):`${Tf(e)}=${Tf(s)}`}).filter(e=>!!e);return n.length?`?${n.join("&")}`:""}(n.queryParams)}${"string"==typeof n.fragment?`#${t=n.fragment,encodeURI(t)}`:""}`}}const WC=new Cy;function Df(t){return t.segments.map(n=>YC(n)).join("/")}function bd(t,n){if(!t.hasChildren())return Df(t);if(n){const e=t.children[yt]?bd(t.children[yt],!1):"",s=[];return Fr(t.children,(a,d)=>{d!==yt&&s.push(`${d}:${bd(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function(t,n){let e=[];return Fr(t.children,(s,a)=>{a===yt&&(e=e.concat(n(s,a)))}),Fr(t.children,(s,a)=>{a!==yt&&(e=e.concat(n(s,a)))}),e}(t,(s,a)=>a===yt?[bd(t.children[yt],!1)]:[`${a}:${bd(s,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[yt]?`${Df(t)}/${e[0]}`:`${Df(t)}/(${e.join("//")})`}}function wy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tf(t){return wy(t).replace(/%3B/gi,";")}function Yg(t){return wy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jo(t){return decodeURIComponent(t)}function zC(t){return jo(t.replace(/\+/g,"%20"))}function YC(t){return`${Yg(t.path)}${function(t){return Object.keys(t).map(n=>`;${Yg(n)}=${Yg(t[n])}`).join("")}(t.parameters)}`}const Dy=/^[^\/()?;=#]+/;function Ty(t){const n=t.match(Dy);return n?n[0]:""}const ZC=/^[^=?&#]+/,TS=/^[^?&#]+/;class FT{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(n.length>0||Object.keys(e).length>0)&&(s[yt]=new kt(n,e)),s}parseSegment(){const n=Ty(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(n),new Ef(jo(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const e=Ty(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=Ty(this.remaining);a&&(s=a,this.capture(s))}n[jo(e)]=jo(s)}parseQueryParam(n){const e=function(t){const n=t.match(ZC);return n?n[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function(t){const n=t.match(TS);return n?n[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=zC(e),d=zC(s);if(n.hasOwnProperty(a)){let g=n[a];Array.isArray(g)||(g=[g],n[a]=g),g.push(d)}else n[a]=d}parseParens(n){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=Ty(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):n&&(d=yt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[yt]:new kt([],g),this.consumeOptional("//")}return e}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Error(`Expected "${n}".`)}}class KC{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const e=this.pathFromRoot(n);return e.length>1?e[e.length-2]:null}children(n){const e=Iy(n,this._root);return e?e.children.map(s=>s.value):[]}firstChild(n){const e=Iy(n,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(n){const e=wd(n,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return wd(n,this._root).map(e=>e.value)}}function Iy(t,n){if(t===n.value)return n;for(const e of n.children){const s=Iy(t,e);if(s)return s}return null}function wd(t,n){if(t===n.value)return[n];for(const e of n.children){const s=wd(t,e);if(s.length)return s.unshift(n),s}return[]}class Fa{constructor(n,e){this.value=n,this.children=e}toString(){return`TreeNode(${this.value})`}}function Sl(t){const n={};return t&&t.children.forEach(e=>n[e.value.outlet]=e),n}class If extends KC{constructor(n,e){super(n),this.snapshot=e,qg(this,n)}toString(){return this.snapshot.toString()}}function Pn(t,n){const e=function(t,n){const g=new Nf([],{},{},"",{},yt,n,null,t.root,-1,{});return new Ny("",new Fa(g,[]))}(t,n),s=new Rn([new Ef("",{})]),a=new Rn({}),d=new Rn({}),g=new Rn({}),v=new Rn(""),w=new ju(s,a,g,v,d,yt,n,e.root);return w.snapshot=e.root,new If(new Fa(w,[]),e)}class ju{constructor(n,e,s,a,d,g,v,w){this.url=n,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=v,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(n=>Pa(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(n=>Pa(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zg(t,n="emptyOnly"){const e=t.pathFromRoot;let s=0;if("always"!==n)for(s=e.length-1;s>=1;){const a=e[s],d=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(d.component)break;s--}}return function(t){return t.reduce((n,e)=>({params:Object.assign(Object.assign({},n.params),e.params),data:Object.assign(Object.assign({},n.data),e.data),resolve:Object.assign(Object.assign({},n.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Nf{constructor(n,e,s,a,d,g,v,w,A,O,x){this.url=n,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=v,this.routeConfig=w,this._urlSegment=A,this._lastPathIndex=O,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ny extends KC{constructor(n,e){super(e),this.url=n,qg(this,e)}toString(){return Ay(this._root)}}function qg(t,n){n.value._routerState=t,n.children.forEach(e=>qg(t,e))}function Ay(t){const n=t.children.length>0?` { ${t.children.map(Ay).join(", ")} } `:"";return`${t.value}${n}`}function Sy(t){if(t.snapshot){const n=t.snapshot,e=t._futureSnapshot;t.snapshot=e,js(n.queryParams,e.queryParams)||t.queryParams.next(e.queryParams),n.fragment!==e.fragment&&t.fragment.next(e.fragment),js(n.params,e.params)||t.params.next(e.params),function(t,n){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!js(t[e],n[e]))return!1;return!0}(n.url,e.url)||t.url.next(e.url),js(n.data,e.data)||t.data.next(e.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function My(t,n){return js(t.params,n.params)&&function(t,n){return Al(t,n)&&t.every((e,s)=>js(e.parameters,n[s].parameters))}(t.url,n.url)&&!(!t.parent!=!n.parent)&&(!t.parent||My(t.parent,n.parent))}function Ml(t,n,e){if(e&&t.shouldReuseRoute(n.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=n.value;const a=function(t,n,e){return n.children.map(s=>{for(const a of e.children)if(t.shouldReuseRoute(s.value,a.value.snapshot))return Ml(t,s,a);return Ml(t,s)})}(t,n,e);return new Fa(s,a)}{if(t.shouldAttach(n.value)){const d=t.retrieve(n.value);if(null!==d){const g=d.route;return JC(n,g),g}}const s=function(t){return new ju(new Rn(t.url),new Rn(t.params),new Rn(t.queryParams),new Rn(t.fragment),new Rn(t.data),t.outlet,t.component,t)}(n.value),a=n.children.map(d=>Ml(t,d));return new Fa(s,a)}}function JC(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let e=0;e<t.children.length;++e)JC(t.children[e],n.children[e])}function Af(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ed(t){return"object"==typeof t&&null!=t&&t.outlets}function Jg(t,n,e,s,a){let d={};return s&&Fr(s,(g,v)=>{d[v]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),new $u(e.root===t?n:QC(e.root,t,n),d,a)}function QC(t,n,e){const s={};return Fr(t.children,(a,d)=>{s[d]=a===n?e:QC(a,n,e)}),new kt(t.segments,s)}class Dd{constructor(n,e,s){if(this.isAbsolute=n,this.numberOfDoubleDots=e,this.commands=s,n&&s.length>0&&Af(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Ed);if(a&&a!==VC(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ry{constructor(n,e,s){this.segmentGroup=n,this.processChildren=e,this.index=s}}function ky(t,n,e){if(t||(t=new kt([],{})),0===t.segments.length&&t.hasChildren())return Mf(t,n,e);const s=function(t,n,e){let s=0,a=n;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<t.segments.length;){if(s>=e.length)return d;const g=t.segments[a],v=e[s];if(Ed(v))break;const w=`${v}`,A=s<e.length-1?e[s+1]:null;if(a>0&&void 0===w)break;if(w&&A&&"object"==typeof A&&void 0===A.outlets){if(!WT(w,A,g))return d;s+=2}else{if(!WT(w,{},g))return d;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(t,n,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<t.segments.length){const d=new kt(t.segments.slice(0,s.pathIndex),{});return d.children[yt]=new kt(t.segments.slice(s.pathIndex),t.children),Mf(d,0,a)}return s.match&&0===a.length?new kt(t.segments,{}):s.match&&!t.hasChildren()?Qg(t,n,e):s.match?Mf(t,0,a):Qg(t,n,e)}function Mf(t,n,e){if(0===e.length)return new kt(t.segments,{});{const s=function(t){return Ed(t[0])?t[0].outlets:{[yt]:t}}(e),a={};return Fr(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[g]=ky(t.children[g],n,d))}),Fr(t.children,(d,g)=>{void 0===s[g]&&(a[g]=d)}),new kt(t.segments,a)}}function Qg(t,n,e){const s=t.segments.slice(0,n);let a=0;for(;a<e.length;){const d=e[a];if(Ed(d)){const w=GT(d.outlets);return new kt(s,w)}if(0===a&&Af(e[0])){s.push(new Ef(t.segments[n].path,ew(e[0]))),a++;continue}const g=Ed(d)?d.outlets[yt]:`${d}`,v=a<e.length-1?e[a+1]:null;g&&v&&Af(v)?(s.push(new Ef(g,ew(v))),a+=2):(s.push(new Ef(g,{})),a++)}return new kt(s,{})}function GT(t){const n={};return Fr(t,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(n[s]=Qg(new kt([],{}),0,e))}),n}function ew(t){const n={};return Fr(t,(e,s)=>n[s]=`${e}`),n}function WT(t,n,e){return t==e.path&&js(n,e.parameters)}class AS{constructor(n,e,s,a){this.routeReuseStrategy=n,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(n){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,n),Sy(this.futureState.root),this.activateChildRoutes(e,s,n)}deactivateChildRoutes(n,e,s){const a=Sl(e);n.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,a[g],s),delete a[g]}),Fr(a,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(n,e,s){const a=n.value,d=e?e.value:null;if(a===d)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(n,e,g.children)}else this.deactivateChildRoutes(n,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(n,e){this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,e):this.deactivateRouteAndOutlet(n,e)}detachAndStoreRouteSubtree(n,e){const s=e.getContext(n.value.outlet);if(s&&s.outlet){const a=s.outlet.detach(),d=s.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:d})}}deactivateRouteAndOutlet(n,e){const s=e.getContext(n.value.outlet),a=s&&n.value.component?s.children:e,d=Sl(n);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(n,e,s){const a=Sl(e);n.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],s),this.forwardEvent(new MT(d.value.snapshot))}),n.children.length&&this.forwardEvent(new OC(n.value.snapshot))}activateRoutes(n,e,s){const a=n.value,d=e?e.value:null;if(Sy(a),a===d)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(n,e,g.children)}else this.activateChildRoutes(n,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),zT(v.route)}else{const v=function(t){for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),w=v?v.module.componentFactoryResolver:null;g.attachRef=null,g.route=a,g.resolver=w,g.outlet&&g.outlet.activateWith(a,w),this.activateChildRoutes(n,null,g.children)}}else this.activateChildRoutes(n,null,s)}}function zT(t){Sy(t.value),t.children.forEach(zT)}class Td{constructor(n,e){this.routes=n,this.module=e}}function Rl(t){return"function"==typeof t}function kl(t){return t instanceof $u}const kf=Symbol("INITIAL_VALUE");function xf(){return E(t=>function(...t){let n,e;return(0,si.K)(t[t.length-1])&&(e=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&(0,Fi.k)(t[0])&&(t=t[0]),(0,wa.n)(t,e).lift(new lu(n))}(t.map(n=>n.pipe(br(1),function(...t){const n=t[t.length-1];return(0,si.K)(n)?(t.pop(),e=>Uc(t,e,n)):e=>Uc(t,e)}(kf)))).pipe(Ug((n,e)=>{let s=!1;return e.reduce((a,d,g)=>a!==kf?a:(d===kf&&(s=!0),s||!1!==d&&g!==e.length-1&&!kl(d)?a:d),n)},kf),Ft(n=>n!==kf),(0,Ye.U)(n=>kl(n)?n:!0===n),br(1)))}let xy=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&l._UZ(0,"router-outlet")},directives:function(){return[zy]},encapsulation:2}),t})();function nw(t,n=""){for(let e=0;e<t.length;e++){const s=t[e];JT(s,Id(n,s))}}function JT(t,n){t.children&&nw(t.children,n)}function Id(t,n){return n?t||n.path?t&&!n.path?`${t}/`:!t&&n.path?n.path:`${t}/${n.path}`:"":t}function Oy(t){const n=t.children&&t.children.map(Oy),e=n?Object.assign(Object.assign({},t),{children:n}):Object.assign({},t);return!e.component&&(n||e.loadChildren)&&e.outlet&&e.outlet!==yt&&(e.component=xy),e}function Gi(t){return t.outlet||yt}function rw(t,n){const e=t.filter(s=>Gi(s)===n);return e.push(...t.filter(s=>Gi(s)!==n)),e}const Py={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Xg(t,n,e){var s;if(""===n.path)return"full"===n.pathMatch&&(t.hasChildren()||e.length>0)?Object.assign({},Py):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(n.matcher||FC)(e,t,n);if(!d)return Object.assign({},Py);const g={};Fr(d.posParams,(w,A)=>{g[A]=w.path});const v=d.consumed.length>0?Object.assign(Object.assign({},g),d.consumed[d.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:v,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function Of(t,n,e,s,a="corrected"){if(e.length>0&&function(t,n,e){return e.some(s=>Pf(t,n,s)&&Gi(s)!==yt)}(t,e,s)){const g=new kt(n,function(t,n,e,s){const a={};a[yt]=s,s._sourceSegment=t,s._segmentIndexShift=n.length;for(const d of e)if(""===d.path&&Gi(d)!==yt){const g=new kt([],{});g._sourceSegment=t,g._segmentIndexShift=n.length,a[Gi(d)]=g}return a}(t,n,s,new kt(e,t.children)));return g._sourceSegment=t,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function(t,n,e){return e.some(s=>Pf(t,n,s))}(t,e,s)){const g=new kt(t.segments,function(t,n,e,s,a,d){const g={};for(const v of s)if(Pf(t,e,v)&&!a[Gi(v)]){const w=new kt([],{});w._sourceSegment=t,w._segmentIndexShift="legacy"===d?t.segments.length:n.length,g[Gi(v)]=w}return Object.assign(Object.assign({},a),g)}(t,n,e,s,t.children,a));return g._sourceSegment=t,g._segmentIndexShift=n.length,{segmentGroup:g,slicedSegments:e}}const d=new kt(t.segments,t.children);return d._sourceSegment=t,d._segmentIndexShift=n.length,{segmentGroup:d,slicedSegments:e}}function Pf(t,n,e){return(!(t.hasChildren()||n.length>0)||"full"!==e.pathMatch)&&""===e.path}function sw(t,n,e,s){return!!(Gi(t)===s||s!==yt&&Pf(n,e,t))&&("**"===t.path||Xg(n,t,e).matched)}function ow(t,n,e){return 0===n.length&&!t.children[e]}class Ff{constructor(n){this.segmentGroup=n||null}}class em{constructor(n){this.urlTree=n}}function tm(t){return new An.y(n=>n.error(new Ff(t)))}function Ly(t){return new An.y(n=>n.error(new em(t)))}function eI(t){return new An.y(n=>n.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class rI{constructor(n,e,s,a,d){this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=n.get(l.h0i)}apply(){const n=Of(this.urlTree.root,[],[],this.config).segmentGroup,e=new kt(n.segments,n.children);return this.expandSegmentGroup(this.ngModule,this.config,e,yt).pipe((0,Ye.U)(d=>this.createUrlTree(Vy(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gn(d=>{if(d instanceof em)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Ff?this.noMatchError(d):d}))}match(n){return this.expandSegmentGroup(this.ngModule,this.config,n.root,yt).pipe((0,Ye.U)(a=>this.createUrlTree(Vy(a),n.queryParams,n.fragment))).pipe(gn(a=>{throw a instanceof Ff?this.noMatchError(a):a}))}noMatchError(n){return new Error(`Cannot match any routes. URL Segment: '${n.segmentGroup}'`)}createUrlTree(n,e,s){const a=n.segments.length>0?new kt([],{[yt]:n}):n;return new $u(a,e,s)}expandSegmentGroup(n,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(n,e,s).pipe((0,Ye.U)(d=>new kt([],d))):this.expandSegment(n,s,e,s.segments,a,!0)}expandChildren(n,e,s){const a=[];for(const d of Object.keys(s.children))"primary"===d?a.unshift(d):a.push(d);return(0,Bn.D)(a).pipe(Cf(d=>{const g=s.children[d],v=rw(e,d);return this.expandSegmentGroup(n,v,g,d).pipe((0,Ye.U)(w=>({segment:w,outlet:d})))}),Ug((d,g)=>(d[g.outlet]=g.segment,d),{}),function(t,n){const e=arguments.length>=2;return s=>s.pipe(t?Ft((a,d)=>t(a,d,s)):TT.y,Hg(1),e?hy(n):dy(()=>new bf))}())}expandSegment(n,e,s,a,d,g){return(0,Bn.D)(s).pipe(Cf(v=>this.expandSegmentAgainstRoute(n,e,s,v,a,d,g).pipe(gn(A=>{if(A instanceof Ff)return(0,Be.of)(null);throw A}))),Oa(v=>!!v),gn((v,w)=>{if(v instanceof bf||"EmptyError"===v.name){if(ow(e,a,d))return(0,Be.of)(new kt([],{}));throw new Ff(e)}throw v}))}expandSegmentAgainstRoute(n,e,s,a,d,g,v){return sw(a,e,d,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(n,e,a,d,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,e,s,a,d,g):tm(e):tm(e)}expandSegmentAgainstRouteUsingRedirect(n,e,s,a,d,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(n,e,s,a,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,e,s,a){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Ly(d):this.lineralizeSegments(s,d).pipe((0,Rt.zg)(g=>{const v=new kt(g,{});return this.expandSegment(n,v,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,e,s,a,d,g){const{matched:v,consumedSegments:w,lastChild:A,positionalParamSegments:O}=Xg(e,a,d);if(!v)return tm(e);const x=this.applyRedirectCommands(w,a.redirectTo,O);return a.redirectTo.startsWith("/")?Ly(x):this.lineralizeSegments(a,x).pipe((0,Rt.zg)(j=>this.expandSegment(n,e,s,j.concat(d.slice(A)),g,!1)))}matchSegmentAgainstRoute(n,e,s,a,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?(0,Be.of)(s._loadedConfig):this.configLoader.load(n.injector,s)).pipe((0,Ye.U)(j=>(s._loadedConfig=j,new kt(a,{})))):(0,Be.of)(new kt(a,{}));const{matched:g,consumedSegments:v,lastChild:w}=Xg(e,s,a);if(!g)return tm(e);const A=a.slice(w);return this.getChildConfig(n,s,a).pipe((0,Rt.zg)(x=>{const j=x.module,X=x.routes,{segmentGroup:me,slicedSegments:Ae}=Of(e,v,A,X),He=new kt(me.segments,me.children);if(0===Ae.length&&He.hasChildren())return this.expandChildren(j,X,He).pipe((0,Ye.U)(Jt=>new kt(v,Jt)));if(0===X.length&&0===Ae.length)return(0,Be.of)(new kt(v,{}));const xt=Gi(s)===d;return this.expandSegment(j,He,X,Ae,xt?yt:d,!0).pipe((0,Ye.U)(Dn=>new kt(v.concat(Dn.segments),Dn.children)))}))}getChildConfig(n,e,s){return e.children?(0,Be.of)(new Td(e.children,n)):e.loadChildren?void 0!==e._loadedConfig?(0,Be.of)(e._loadedConfig):this.runCanLoadGuards(n.injector,e,s).pipe((0,Rt.zg)(a=>{return a?this.configLoader.load(n.injector,e).pipe((0,Ye.U)(d=>(e._loadedConfig=d,d))):(t=e,new An.y(n=>n.error(Gg(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))));var t})):(0,Be.of)(new Td([],n))}runCanLoadGuards(n,e,s){const a=e.canLoad;if(!a||0===a.length)return(0,Be.of)(!0);const d=a.map(g=>{const v=n.get(g);let w;if((t=v)&&Rl(t.canLoad))w=v.canLoad(e,s);else{if(!Rl(v))throw new Error("Invalid CanLoad guard");w=v(e,s)}var t;return Gs(w)});return(0,Be.of)(d).pipe(xf(),(0,B.b)(g=>{if(!kl(g))return;const v=Gg(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw v.url=g,v}),(0,Ye.U)(g=>!0===g))}lineralizeSegments(n,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return(0,Be.of)(s);if(a.numberOfChildren>1||!a.children[yt])return eI(n.redirectTo);a=a.children[yt]}}applyRedirectCommands(n,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),n,s)}applyRedirectCreatreUrlTree(n,e,s,a){const d=this.createSegmentGroup(n,e.root,s,a);return new $u(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(n,e){const s={};return Fr(n,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[d]=e[v]}else s[d]=a}),s}createSegmentGroup(n,e,s,a){const d=this.createSegments(n,e.segments,s,a);let g={};return Fr(e.children,(v,w)=>{g[w]=this.createSegmentGroup(n,v,s,a)}),new kt(d,g)}createSegments(n,e,s,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(n,d,a):this.findOrReturn(d,s))}findPosParam(n,e,s){const a=s[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${n}'. Cannot find '${e.path}'.`);return a}findOrReturn(n,e){let s=0;for(const a of e){if(a.path===n.path)return e.splice(s),a;s++}return n}}function Vy(t){const n={};for(const s of Object.keys(t.children)){const d=Vy(t.children[s]);(d.segments.length>0||d.hasChildren())&&(n[s]=d)}return function(t){if(1===t.numberOfChildren&&t.children[yt]){const n=t.children[yt];return new kt(t.segments.concat(n.segments),n.children)}return t}(new kt(t.segments,n))}class aw{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Lf{constructor(n,e){this.component=n,this.route=e}}function lw(t,n,e){const s=t._root;return Nd(s,n?n._root:null,e,[s.value])}function nm(t,n,e){const s=function(t){if(!t)return null;for(let n=t.parent;n;n=n.parent){const e=n.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(n);return(s?s.module.injector:e).get(t)}function Nd(t,n,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=Sl(n);return t.children.forEach(g=>{(function(t,n,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=t.value,g=n?n.value:null,v=e?e.getContext(t.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const w=function(t,n,e){if("function"==typeof e)return e(t,n);switch(e){case"pathParamsChange":return!Al(t.url,n.url);case"pathParamsOrQueryParamsChange":return!Al(t.url,n.url)||!js(t.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!My(t,n)||!js(t.queryParams,n.queryParams);case"paramsChange":default:return!My(t,n)}}(g,d,d.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new aw(s)):(d.data=g.data,d._resolvedData=g._resolvedData),Nd(t,n,d.component?v?v.children:null:e,s,a),w&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new Lf(v.outlet.component,g))}else g&&Gu(n,v,a),a.canActivateChecks.push(new aw(s)),Nd(t,null,d.component?v?v.children:null:e,s,a)})(g,d[g.value.outlet],e,s.concat([g.value]),a),delete d[g.value.outlet]}),Fr(d,(g,v)=>Gu(g,e.getContext(v),a)),a}function Gu(t,n,e){const s=Sl(t),a=t.value;Fr(s,(d,g)=>{Gu(d,a.component?n?n.children.getContext(g):null:n,e)}),e.canDeactivateChecks.push(new Lf(a.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,a))}class dI{}function jy(t){return new An.y(n=>n.error(t))}class fw{constructor(n,e,s,a,d,g){this.rootComponentType=n,this.config=e,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g}recognize(){const n=Of(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,n,yt);if(null===e)return null;const s=new Nf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Fa(s,e),d=new Ny(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(n){const e=n.value,s=Zg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),n.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(n,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(n,e):this.processSegment(n,e,e.segments,s)}processChildren(n,e){const s=[];for(const d of Object.keys(e.children)){const g=e.children[d],v=rw(n,d),w=this.processSegmentGroup(v,g,d);if(null===w)return null;s.push(...w)}const a=fI(s);return a.sort((n,e)=>n.value.outlet===yt?-1:e.value.outlet===yt?1:n.value.outlet.localeCompare(e.value.outlet)),a}processSegment(n,e,s,a){for(const d of n){const g=this.processSegmentAgainstRoute(d,e,s,a);if(null!==g)return g}return ow(e,s,a)?[]:null}processSegmentAgainstRoute(n,e,s,a){if(n.redirectTo||!sw(n,e,s,a))return null;let d,g=[],v=[];if("**"===n.path){const X=s.length>0?VC(s).parameters:{};d=new Nf(s,X,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wu(n),Gi(n),n.component,n,Vf(e),gw(e)+s.length,mw(n))}else{const X=Xg(e,n,s);if(!X.matched)return null;g=X.consumedSegments,v=s.slice(X.lastChild),d=new Nf(g,X.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Wu(n),Gi(n),n.component,n,Vf(e),gw(e)+g.length,mw(n))}const w=(t=n).children?t.children:t.loadChildren?t._loadedConfig.routes:[],{segmentGroup:A,slicedSegments:O}=Of(e,g,v,w.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);var t;if(0===O.length&&A.hasChildren()){const X=this.processChildren(w,A);return null===X?null:[new Fa(d,X)]}if(0===w.length&&0===O.length)return[new Fa(d,[])];const x=Gi(n)===a,j=this.processSegment(w,A,O,x?yt:a);return null===j?null:[new Fa(d,j)]}}function Ad(t){const n=t.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function fI(t){const n=[],e=new Set;for(const s of t){if(!Ad(s)){n.push(s);continue}const a=n.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):n.push(s)}for(const s of e){const a=fI(s.children);n.push(new Fa(s.value,a))}return n.filter(s=>!e.has(s))}function Vf(t){let n=t;for(;n._sourceSegment;)n=n._sourceSegment;return n}function gw(t){let n=t,e=n._segmentIndexShift?n._segmentIndexShift:0;for(;n._sourceSegment;)n=n._sourceSegment,e+=n._segmentIndexShift?n._segmentIndexShift:0;return e-1}function Wu(t){return t.data||{}}function mw(t){return t.resolve||{}}function Sd(t){return E(n=>{const e=t(n);return e?(0,Bn.D)(e).pipe((0,Ye.U)(()=>n)):(0,Be.of)(n)})}class kS extends class{shouldDetach(n){return!1}store(n,e){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,e){return n.routeConfig===e.routeConfig}}{}const Gy=new l.OlP("ROUTES");class yw{constructor(n,e,s,a){this.loader=n,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=a}load(n,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,Ye.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=d.create(n);return new Td(by(g.injector.get(Gy,void 0,l.XFs.Self|l.XFs.Optional)).map(Oy),g)}),gn(d=>{throw e._loader$=void 0,d}));return e._loader$=new yT.c(a,()=>new zt.xQ).pipe((0,Ho.x)()),e._loader$}loadModuleFactory(n){return"string"==typeof n?(0,Bn.D)(this.loader.load(n)):Gs(n()).pipe((0,Rt.zg)(e=>e instanceof l.YKP?(0,Be.of)(e):(0,Bn.D)(this.compiler.compileModuleAsync(e))))}}class _I{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new xl,this.attachRef=null}}class xl{constructor(){this.contexts=new Map}onChildOutletCreated(n,e){const s=this.getOrCreateContext(n);s.outlet=e,this.contexts.set(n,s)}onChildOutletDestroyed(n){const e=this.getContext(n);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let e=this.getContext(n);return e||(e=new _I,this.contexts.set(n,e)),e}getContext(n){return this.contexts.get(n)||null}}class Wy{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,e){return n}}function bw(t){throw t}function yI(t,n,e){return n.parse("/")}function vI(t,n){return(0,Be.of)(null)}const bI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ai=(()=>{class t{constructor(e,s,a,d,g,v,w,A){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=d,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new zt.xQ,this.errorHandler=bw,this.malformedUriErrorHandler=yI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:vI,afterPreactivation:vI},this.urlHandlingStrategy=new Wy,this.routeReuseStrategy=new kS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(l.h0i),this.console=g.get(l.c2e);const j=g.get(l.R0b);this.isNgZoneEnabled=j instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=new $u(new kt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yw(v,w,X=>this.triggerEvent(new gy(X)),X=>this.triggerEvent(new kC(X))),this.routerState=Pn(this.currentUrlTree,this.rootComponentType),this.transitions=new Rn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(Ft(a=>0!==a.id),(0,Ye.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),E(a=>{let d=!1,g=!1;return(0,Be.of)(a).pipe((0,B.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),E(v=>{const w=this.browserUrlTree.toString(),A=!this.navigated||v.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||A)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return Bf(v.source)&&(this.browserUrlTree=v.extractedUrl),(0,Be.of)(v).pipe(E(x=>{const j=this.transitions.getValue();return s.next(new $g(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),j!==this.transitions.getValue()?Cn.E:Promise.resolve(x)}),function(t,n,e,s){return E(a=>function(t,n,e,s,a){return new rI(t,n,e,s,a).apply()}(t,n,e,a.extractedUrl,s).pipe((0,Ye.U)(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,B.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(t,n,e,s,a){return(0,Rt.zg)(d=>function(t,n,e,s,a="emptyOnly",d="legacy"){try{const g=new fw(t,n,e,s,a,d).recognize();return null===g?jy(new dI):(0,Be.of)(g)}catch(g){return jy(g)}}(t,n,d.urlAfterRedirects,e(d.urlAfterRedirects),s,a).pipe((0,Ye.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,B.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const j=new NT(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);s.next(j)}));if(A&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:X,source:me,restoredState:Ae,extras:He}=v,xt=new $g(j,this.serializeUrl(X),me,Ae);s.next(xt);const nt=Pn(X,this.rootComponentType).snapshot;return(0,Be.of)(Object.assign(Object.assign({},v),{targetSnapshot:nt,urlAfterRedirects:X,extras:Object.assign(Object.assign({},He),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Cn.E}),Sd(v=>{const{targetSnapshot:w,id:A,extractedUrl:O,rawUrl:x,extras:{skipLocationChange:j,replaceUrl:X}}=v;return this.hooks.beforePreactivation(w,{navigationId:A,appliedUrlTree:O,rawUrlTree:x,skipLocationChange:!!j,replaceUrl:!!X})}),(0,B.b)(v=>{const w=new AT(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),(0,Ye.U)(v=>Object.assign(Object.assign({},v),{guards:lw(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(t,n){return(0,Rt.zg)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?(0,Be.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(t,n,e,s){return(0,Bn.D)(t).pipe((0,Rt.zg)(a=>function(t,n,e,s,a){const d=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,Be.of)(!0);const g=d.map(v=>{const w=nm(v,n,a);let A;if(function(t){return t&&Rl(t.canDeactivate)}(w))A=Gs(w.canDeactivate(t,n,e,s));else{if(!Rl(w))throw new Error("Invalid CanDeactivate guard");A=Gs(w(t,n,e,s))}return A.pipe(Oa())});return(0,Be.of)(g).pipe(xf())}(a.component,a.route,e,n,s)),Oa(a=>!0!==a,!0))}(g,s,a,t).pipe((0,Rt.zg)(v=>v&&function(t){return"boolean"==typeof t}(v)?function(t,n,e,s){return(0,Bn.D)(n).pipe(Cf(a=>Uc(function(t,n){return null!==t&&n&&n(new xC(t)),(0,Be.of)(!0)}(a.route.parent,s),function(t,n){return null!==t&&n&&n(new jg(t)),(0,Be.of)(!0)}(a.route,s),function(t,n,e){const s=n[n.length-1],d=n.slice(0,n.length-1).reverse().map(g=>function(t){const n=t.routeConfig?t.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:t,guards:n}:null}(g)).filter(g=>null!==g).map(g=>_T(()=>{const v=g.guards.map(w=>{const A=nm(w,g.node,e);let O;if(function(t){return t&&Rl(t.canActivateChild)}(A))O=Gs(A.canActivateChild(s,t));else{if(!Rl(A))throw new Error("Invalid CanActivateChild guard");O=Gs(A(s,t))}return O.pipe(Oa())});return(0,Be.of)(v).pipe(xf())}));return(0,Be.of)(d).pipe(xf())}(t,a.path,e),function(t,n,e){const s=n.routeConfig?n.routeConfig.canActivate:null;if(!s||0===s.length)return(0,Be.of)(!0);const a=s.map(d=>_T(()=>{const g=nm(d,n,e);let v;if(function(t){return t&&Rl(t.canActivate)}(g))v=Gs(g.canActivate(n,t));else{if(!Rl(g))throw new Error("Invalid CanActivate guard");v=Gs(g(n,t))}return v.pipe(Oa())}));return(0,Be.of)(a).pipe(xf())}(t,a.route,e))),Oa(a=>!0!==a,!0))}(s,d,t,n):(0,Be.of)(v)),(0,Ye.U)(v=>Object.assign(Object.assign({},e),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,B.b)(v=>{if(kl(v.guardsResult)){const A=Gg(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw A.url=v.guardsResult,A}const w=new py(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(w)}),Ft(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Sd(v=>{if(v.guards.canActivateChecks.length)return(0,Be.of)(v).pipe((0,B.b)(w=>{const A=new wf(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}),E(w=>{let A=!1;return(0,Be.of)(w).pipe(function(t,n){return(0,Rt.zg)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Be.of)(e);let d=0;return(0,Bn.D)(a).pipe(Cf(g=>function(t,n,e,s){return function(t,n,e,s){const a=Object.keys(t);if(0===a.length)return(0,Be.of)({});const d={};return(0,Bn.D)(a).pipe((0,Rt.zg)(g=>function(t,n,e,s){const a=nm(t,n,s);return Gs(a.resolve?a.resolve(n,e):a(n,e))}(t[g],n,e,s).pipe((0,B.b)(v=>{d[g]=v}))),Hg(1),(0,Rt.zg)(()=>Object.keys(d).length===a.length?(0,Be.of)(d):Cn.E))}(t._resolve,t,n,s).pipe((0,Ye.U)(d=>(t._resolvedData=d,t.data=Object.assign(Object.assign({},t.data),Zg(t,e).resolve),null)))}(g.route,s,t,n)),(0,B.b)(()=>d++),Hg(1),(0,Rt.zg)(g=>d===a.length?(0,Be.of)(e):Cn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,B.b)({next:()=>A=!0,complete:()=>{A||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,B.b)(w=>{const A=new ST(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(A)}))}),Sd(v=>{const{targetSnapshot:w,id:A,extractedUrl:O,rawUrl:x,extras:{skipLocationChange:j,replaceUrl:X}}=v;return this.hooks.afterPreactivation(w,{navigationId:A,appliedUrlTree:O,rawUrlTree:x,skipLocationChange:!!j,replaceUrl:!!X})}),(0,Ye.U)(v=>{const w=function(t,n,e){const s=Ml(t,n._root,e?e._root:void 0);return new If(s,n)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:w})}),(0,B.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((t,n,e)=>(0,Ye.U)(s=>(new AS(n,s.targetRouterState,s.currentRouterState,e).activate(t),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,B.b)({next(){d=!0},complete(){d=!0}}),function(t){return n=>n.lift(new $o(t))}(()=>{var v;if(!d&&!g){const w=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,w)):this.cancelNavigationTransition(a,w)}(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===a.id&&(this.currentNavigation=null)}),gn(v=>{if(g=!0,function(t){return t&&t[yy]}(v)){const w=kl(v.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const A=new RC(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(A),w?setTimeout(()=>{const O=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),x={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bf(a.source)};this.scheduleNavigation(O,"imperative",null,x,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new IT(a.id,this.serializeUrl(a.extractedUrl),v);s.next(w);try{a.resolve(this.errorHandler(v))}catch(A){a.reject(A)}}return Cn.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,s)&&setTimeout(()=>{const{source:a,state:d,urlTree:g}=s,v={replaceUrl:!0};if(d){const w=Object.assign({},d);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(v.state=w)}this.scheduleNavigation(g,a,d,v)},0),this.lastLocationChangeInfo=s}))}extractLocationChangeInfoFromEvent(e){var s;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,s){if(!e)return!0;const a=s.urlTree.toString()===e.urlTree.toString();return s.transitionId!==e.transitionId||!a||!("hashchange"===s.source&&"popstate"===e.source||"popstate"===s.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){nw(e),this.config=e.map(Oy),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:d,fragment:g,queryParamsHandling:v,preserveFragment:w}=s,A=a||this.routerState.root,O=w?this.currentUrlTree.fragment:g;let x=null;switch(v){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=d||null}return null!==x&&(x=this.removeEmptyProps(x)),function(t,n,e,s,a){if(0===e.length)return Jg(n.root,n.root,n,s,a);const d=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Dd(!0,0,t);let n=0,e=!1;const s=t.reduce((a,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const v={};return Fr(d.outlets,(w,A)=>{v[A]="string"==typeof w?w.split("/"):w}),[...a,{outlets:v}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===g?(d.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?e=!0:".."===v?n++:""!=v&&a.push(v))}),a):[...a,d]},[]);return new Dd(e,n,s)}(e);if(d.toRoot())return Jg(n.root,new kt([],{}),n,s,a);const g=function(t,n,e){if(t.isAbsolute)return new Ry(n.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new Ry(d,d===n.root,0)}const s=Af(t.commands[0])?0:1;return function(t,n,e){let s=t,a=n,d=e;for(;d>a;){if(d-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new Ry(s,!1,a-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,t.numberOfDoubleDots)}(d,n,t),v=g.processChildren?Mf(g.segmentGroup,g.index,d.commands):ky(g.segmentGroup,g.index,d.commands);return Jg(g.segmentGroup,v,n,s,a)}(A,this.currentUrlTree,e,x,null!=O?O:null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=kl(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function(t){for(let n=0;n<t.length;n++){const e=t[n];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${n}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?Object.assign({},bI):!1===s?Object.assign({},CI):s,kl(e))return UC(this.currentUrlTree,e,a);const d=this.parseUrl(e);return UC(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const d=e[a];return null!=d&&(s[a]=d),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new vd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,d,g){var v,w;if(this.disposed)return Promise.resolve(!1);const A=this.getTransition(),O=Bf(s)&&A&&!Bf(A.source),X=(this.lastSuccessfulId===A.id||this.currentNavigation?A.rawUrl:A.urlAfterRedirects).toString()===e.toString();if(O&&X)return Promise.resolve(!0);let me,Ae,He;g?(me=g.resolve,Ae=g.reject,He=g.promise):He=new Promise((Dn,Jt)=>{me=Dn,Ae=Jt});const xt=++this.navigationId;let nt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),nt=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):nt=0,this.setTransition({id:xt,targetPageId:nt,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:me,reject:Ae,promise:He,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),He.catch(Dn=>Promise.reject(Dn))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,s=!1){var a,d;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===g?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const a=new RC(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.DyG),l.LFG(zg),l.LFG(xl),l.LFG(dt),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function Bf(t){return"imperative"!==t}let im=(()=>{class t{constructor(e,s,a){this.router=e,this.route=s,this.locationStrategy=a,this.commands=[],this.onChanges=new zt.xQ,this.subscription=e.events.subscribe(d=>{d instanceof vd&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,s,a,d,g){if(0!==e||s||a||d||g||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:Md(this.skipLocationChange),replaceUrl:Md(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Md(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(Ai),l.Y36(ju),l.Y36(he))},t.\u0275dir=l.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,s){1&e&&l.NdJ("click",function(d){return s.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&(l.Ikx("href",s.href,l.LSH),l.uIk("target",s.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),t})();function Md(t){return""===t||!!t}let zy=(()=>{class t{constructor(e,s,a,d,g){this.parentContexts=e,this.location=s,this.resolver=a,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=d||yt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,w=new Ew(e,v,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(xl),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},t.\u0275dir=l.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Ew{constructor(n,e,s){this.route=n,this.childContexts=e,this.parent=s}get(n,e){return n===ju?this.route:n===xl?this.childContexts:this.parent.get(n,e)}}class Uf{}class Rd{preload(n,e){return(0,Be.of)(null)}}let Dw=(()=>{class t{constructor(e,s,a,d,g){this.router=e,this.injector=d,this.preloadingStrategy=g,this.loader=new yw(s,a,A=>e.triggerEvent(new gy(A)),A=>e.triggerEvent(new kC(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ft(e=>e instanceof vd),Cf(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const g=d._loadedConfig;a.push(this.processRoutes(g.module,g.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(e,d)):d.children&&a.push(this.processRoutes(e,d.children));return(0,Bn.D)(a).pipe((0,Gr.J)(),(0,Ye.U)(d=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?(0,Be.of)(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,Rt.zg)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Ai),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(Uf))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})(),Yy=(()=>{class t{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $g?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof my&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new my(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Ai),l.LFG(sa),l.LFG(void 0))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();const zu=new l.OlP("ROUTER_CONFIGURATION"),Tw=new l.OlP("ROUTER_FORROOT_GUARD"),EI=[dt,{provide:zg,useClass:Cy},{provide:Ai,useFactory:function(t,n,e,s,a,d,g,v={},w,A){const O=new Ai(null,t,n,e,s,a,d,by(g));return w&&(O.urlHandlingStrategy=w),A&&(O.routeReuseStrategy=A),function(t,n){t.errorHandler&&(n.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(n.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(n.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(n.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(n.urlUpdateStrategy=t.urlUpdateStrategy)}(v,O),v.enableTracing&&O.events.subscribe(x=>{var j,X;null===(j=console.group)||void 0===j||j.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(X=console.groupEnd)||void 0===X||X.call(console)}),O},deps:[zg,xl,dt,l.zs3,l.v3s,l.Sil,Gy,zu,[class{},new l.FiY],[class{},new l.FiY]]},xl,{provide:ju,useFactory:function(t){return t.routerState.root},deps:[Ai]},{provide:l.v3s,useClass:l.EAV},Dw,Rd,class{preload(n,e){return e().pipe(gn(()=>(0,Be.of)(null)))}},{provide:zu,useValue:{enableTracing:!1}}];function DI(){return new l.PXZ("Router",Ai)}let TI=(()=>{class t{constructor(e,s){}static forRoot(e,s){return{ngModule:t,providers:[EI,SI(e),{provide:Tw,useFactory:AI,deps:[[Ai,new l.FiY,new l.tp0]]},{provide:zu,useValue:s||{}},{provide:he,useFactory:NI,deps:[K,[new l.tBr(ie),new l.FiY],zu]},{provide:Yy,useFactory:II,deps:[Ai,sa,zu]},{provide:Uf,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:Rd},{provide:l.PXZ,multi:!0,useFactory:DI},[Zy,{provide:l.ip1,multi:!0,useFactory:kI,deps:[Zy]},{provide:Ol,useFactory:am,deps:[Zy]},{provide:l.tb,multi:!0,useExisting:Ol}]]}}static forChild(e){return{ngModule:t,providers:[SI(e)]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(Tw,8),l.LFG(Ai,8))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({}),t})();function II(t,n,e){return e.scrollOffset&&n.setOffset(e.scrollOffset),new Yy(t,n,e)}function NI(t,n,e={}){return e.useHash?new De(t,n):new ve(t,n)}function AI(t){return"guarded"}function SI(t){return[{provide:l.deG,multi:!0,useValue:t},{provide:Gy,multi:!0,useValue:t}]}let Zy=(()=>{class t{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new zt.xQ}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),d=this.injector.get(Ai),g=this.injector.get(zu);return"disabled"===g.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,Be.of)(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),a})}bootstrapListener(e){const s=this.injector.get(zu),a=this.injector.get(Dw),d=this.injector.get(Yy),g=this.injector.get(Ai),v=this.injector.get(l.z2F);e===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&g.initialNavigation(),a.setUpPreloading(),d.init(),g.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.zs3))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac}),t})();function kI(t){return t.appInitializer.bind(t)}function am(t){return t.bootstrapListener.bind(t)}const Ol=new l.OlP("Router Initializer");let OS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["bs-nvbar"]],decls:22,vars:0,consts:[[1,"navbar","navbar-expand-md","navbar-light","bg-light","fixed-top"],["routerLink","/",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarsExampleDefault","aria-controls","navbarsExampleDefault","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarsExampleDefault",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/shopping-cart",1,"nav-link"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","id","dropdown01","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","dropdown01",1,"dropdown-menu"],["routerLink","/my/orders",1,"dropdown-item"],["routerLink","/admin/orders",1,"dropdown-item"],["routerLink","/admin/products",1,"dropdown-item"],[1,"dropdown-item"]],template:function(e,s){1&e&&(l.TgZ(0,"nav",0),l.TgZ(1,"a",1),l._uU(2,"O"),l.qZA(),l.TgZ(3,"button",2),l._UZ(4,"span",3),l.qZA(),l.TgZ(5,"div",4),l.TgZ(6,"ul",5),l.TgZ(7,"li",6),l.TgZ(8,"a",7),l._uU(9,"Shopping Cart"),l.qZA(),l.qZA(),l.TgZ(10,"li",8),l.TgZ(11,"a",9),l._uU(12," Username "),l.qZA(),l.TgZ(13,"div",10),l.TgZ(14,"a",11),l._uU(15,"My Orders"),l.qZA(),l.TgZ(16,"a",12),l._uU(17,"Manage Orders"),l.qZA(),l.TgZ(18,"a",13),l._uU(19,"Manage Products"),l.qZA(),l.TgZ(20,"a",14),l._uU(21,"Logout"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA())},directives:[Il,im,md,Y_,kg],styles:[".dropdown-toggle[_ngcontent-%COMP%]{cursor:pointer}"]}),t})(),xI=(()=>{class t{constructor(){this.title="oshop"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(e,s){1&e&&(l._UZ(0,"bs-nvbar"),l.TgZ(1,"div",0),l._UZ(2,"router-outlet"),l.qZA())},directives:[OS,zy],styles:[""]}),t})();var Pl=F(9746),OI=F(7771),PI=F(8858);class Nw extends zt.xQ{constructor(n=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=n<1?1:n,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(n){if(!this.isStopped){const e=this._events;e.push(n),e.length>this._bufferSize&&e.shift()}super.next(n)}nextTimeWindow(n){this.isStopped||(this._events.push(new Aw(this._getNow(),n)),this._trimBufferThenGetEvents()),super.next(n)}_subscribe(n){const e=this._infiniteTimeWindow,s=e?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,d=s.length;let g;if(this.closed)throw new Lc.N;if(this.isStopped||this.hasError?g=SC.w.EMPTY:(this.observers.push(n),g=new PI.W(this,n)),a&&n.add(n=new Pl.ht(n,a)),e)for(let v=0;v<d&&!n.closed;v++)n.next(s[v]);else for(let v=0;v<d&&!n.closed;v++)n.next(s[v].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),g}_getNow(){return(this.scheduler||OI.c).now()}_trimBufferThenGetEvents(){const n=this._getNow(),e=this._bufferSize,s=this._windowTime,a=this._events,d=a.length;let g=0;for(;g<d&&!(n-a[g].time<s);)g++;return d>e&&(g=Math.max(g,d-e)),g>0&&a.splice(0,g),a}}class Aw{constructor(n,e){this.time=n,this.value=e}}function lm(t,n,e){let s;return s=t&&"object"==typeof t?t:{bufferSize:t,windowTime:n,refCount:!1,scheduler:e},a=>a.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:n=Number.POSITIVE_INFINITY,refCount:e,scheduler:s}){let a,g,d=0,v=!1,w=!1;return function(O){let x;d++,!a||v?(v=!1,a=new Nw(t,n,s),x=a.subscribe(this),g=O.subscribe({next(j){a.next(j)},error(j){v=!0,a.error(j)},complete(){w=!0,g=void 0,a.complete()}}),w&&(g=void 0)):x=a.subscribe(this),this.add(()=>{d--,x.unsubscribe(),x=void 0,g&&!w&&e&&0===d&&(g.unsubscribe(),g=void 0,a=void 0)})}}(s))}function qy(t,n){return n?E(()=>t,n):E(()=>t)}var Ky=F(2639),Wi=F(6502),fs=F(8939);F(2329);var Od=F(8239),qu=F(8026),Ku=F(3910),V=F(3854),cn=F(5422);const ps=new Map,kw={activated:!1,tokenObservers:[]},VI={initialized:!1,enabled:!1};function dr(t){return ps.get(t)||kw}function zi(t,n){ps.set(t,n)}function La(){return VI}class Gf{constructor(n,e,s,a,d){if(this.operation=n,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(n){var e=this;return(0,Od.Z)(function*(){e.stop();try{e.pending=new V.BH,yield(t=e.getNextRun(n),new Promise(n=>{setTimeout(n,t)})),e.pending.resolve(),yield e.pending.promise,e.pending=new V.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}var t})()}getNextRun(n){if(n)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const qn=new V.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wf(t){if(!dr(t).activated)throw qn.create("use-before-activation",{appName:t.name})}function Pd(t,n){return tv.apply(this,arguments)}function tv(){return(tv=(0,Od.Z)(function*({url:t,body:n},e){const s={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});a&&(s["X-Firebase-Client"]=a.getPlatformInfoString());const d={method:"POST",body:JSON.stringify(n),headers:s};let g,v;try{g=yield fetch(t,d)}catch(x){throw qn.create("fetch-network-error",{originalErrorMessage:x.message})}if(200!==g.status)throw qn.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(x){throw qn.create("fetch-parse-error",{originalErrorMessage:x.message})}const w=v.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw qn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const A=1e3*Number(w[1]),O=Date.now();return{token:v.attestationToken,expireTimeMillis:O+A,issuedAtTimeMillis:O}})).apply(this,arguments)}function FS(t,n){const{projectId:e,appId:s,apiKey:a}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:n}}}const hm="firebase-app-check-store";let fm=null;function Pw(){return fm||(fm=new Promise((t,n)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{t(s.target.result)},e.onerror=s=>{var a;n(qn.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=s=>{const a=s.target.result;switch(s.oldVersion){case 0:a.createObjectStore(hm,{keyPath:"compositeKey"})}}}catch(e){n(qn.create("storage-open",{originalErrorMessage:e.message}))}}),fm)}function iv(){return(iv=(0,Od.Z)(function*(t,n){const s=(yield Pw()).transaction(hm,"readwrite"),d=s.objectStore(hm).put({compositeKey:t,value:n});return new Promise((g,v)=>{d.onsuccess=w=>{g()},s.onerror=w=>{var A;v(qn.create("storage-set",{originalErrorMessage:null===(A=w.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const Zf=new cn.Yd("@firebase/app-check");function Vw(t,n){return(0,V.hl)()?function(t,n){return function(t,n){return iv.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),n)}(t,n).catch(e=>{Zf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Bw(){return La().enabled}function Uw(){return pm.apply(this,arguments)}function pm(){return(pm=(0,Od.Z)(function*(){const t=La();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const WI={error:"UNKNOWN_ERROR"};function US(t){return V.US.encodeString(JSON.stringify(t),!1)}function gm(t){return av.apply(this,arguments)}function av(){return(av=(0,Od.Z)(function*(t,n=!1){const e=t.app;Wf(e);const s=dr(e);let d,a=s.token;if(!a){const w=yield s.cachedTokenPromise;w&&mm(w)&&(a=w)}if(!n&&a&&mm(a))return{token:a.token};let v,g=!1;if(Bw()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Pd(FS(e,yield Uw()),t.platformLoggerProvider).then(A=>(s.exchangeTokenPromise=void 0,A)),g=!0);const w=yield s.exchangeTokenPromise;return yield Vw(e,w),zi(e,Object.assign(Object.assign({},s),{token:w})),{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(w=>(s.exchangeTokenPromise=void 0,w)),g=!0),a=yield s.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?Zf.warn(w.message):Zf.error(w),d=w}return a?(v={token:a.token},zi(e,Object.assign(Object.assign({},s),{token:a})),yield Vw(e,a)):v=YI(d),g&&Ld(e,v),v})).apply(this,arguments)}function uv(t,n){const e=dr(t),s=e.tokenObservers.filter(a=>a.next!==n);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),zi(t,Object.assign(Object.assign({},e),{tokenObservers:s}))}function Hw(t){const{app:n}=t,e=dr(n);let s=e.tokenRefresher;s||(s=function(t){const{app:n}=t;return new Gf((0,Od.Z)(function*(){let s;if(s=dr(n).token?yield gm(t,!0):yield gm(t),s.error)throw s.error}),()=>!0,()=>{const e=dr(n);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(t),zi(n,Object.assign(Object.assign({},e),{tokenRefresher:s}))),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function Ld(t,n){const e=dr(t).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=n.error?s.error(n.error):s.next(n)}catch(a){}}function mm(t){return t.expireTimeMillis-Date.now()>0}function YI(t){return{token:US(WI),error:t}}class $w{constructor(n,e){this.app=n,this.platformLoggerProvider=e}_delete(){const{tokenObservers:n}=dr(this.app);for(const e of n)uv(this.app,e.next);return Promise.resolve()}}const gs="app-check-internal";(0,qu._registerComponent)(new Ku.wA("app-check",t=>function(t,n){return new $w(t,n)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,e)=>{t.getProvider(gs).initialize()})),(0,qu._registerComponent)(new Ku.wA(gs,t=>function(t){return{getToken:n=>gm(t,n),addTokenListener:n=>function(t,n,e,s){const{app:a}=t,d=dr(a),g={next:e,error:s,type:n};if(zi(a,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,g]})),d.token&&mm(d.token)){const v=d.token;Promise.resolve().then(()=>{e({token:v.token}),Hw(t)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Hw(t))}(t,"INTERNAL",n),removeTokenListener:n=>uv(t.app,n)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qu.registerVersion)("@firebase/app-check","0.5.2");class ym{constructor(){return(0,Wi.vb)("app-check")}}"undefined"!=typeof window&&window;var n1=F(7841);const r1=new l.OlP("angularfire2.auth.use-emulator"),pv=new l.OlP("angularfire2.auth.settings"),gv=new l.OlP("angularfire2.auth.tenant-id"),mv=new l.OlP("angularfire2.auth.langugage-code"),i1=new l.OlP("angularfire2.auth.use-device-language"),s1=new l.OlP("angularfire.auth.persistence"),o1=(t,n,e,s,a,d,g,v)=>(0,fs.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const w=n.runOutsideAngular(()=>t.auth());if(e&&w.useEmulator(...e),s&&(w.tenantId=s),w.languageCode=a,d&&w.useDeviceLanguage(),g)for(const[A,O]of Object.entries(g))w.settings[A]=O;return v&&w.setPersistence(v),w},[e,s,a,d,g,v]);let _v=(()=>{class t{constructor(e,s,a,d,g,v,w,A,O,x,j,X){const me=new zt.xQ,Ae=(0,Be.of)(void 0).pipe((0,Pl.QV)(g.outsideAngular),E(()=>d.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,2755)))),(0,Ye.U)(()=>(0,fs.on)(e,d,s)),(0,Ye.U)(He=>o1(He,d,v,A,O,x,w,j)),lm({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Be.of)(null);else{Ae.pipe(Oa()).subscribe();const xt=Ae.pipe(E(Jt=>Jt.getRedirectResult().then(mi=>mi,()=>null)),Wi.iC,lm({bufferSize:1,refCount:!1})),nt=Ae.pipe(E(Jt=>new An.y(mi=>({unsubscribe:d.runOutsideAngular(()=>Jt.onAuthStateChanged(Gl=>mi.next(Gl),Gl=>mi.error(Gl),()=>mi.complete()))})))),Dn=Ae.pipe(E(Jt=>new An.y(mi=>({unsubscribe:d.runOutsideAngular(()=>Jt.onIdTokenChanged(Gl=>mi.next(Gl),Gl=>mi.error(Gl),()=>mi.complete()))}))));this.authState=xt.pipe(qy(nt),(0,Ky.R)(g.outsideAngular),(0,Pl.QV)(g.insideAngular)),this.user=xt.pipe(qy(Dn),(0,Ky.R)(g.outsideAngular),(0,Pl.QV)(g.insideAngular)),this.idToken=this.user.pipe(E(Jt=>Jt?(0,Bn.D)(Jt.getIdToken()):(0,Be.of)(null))),this.idTokenResult=this.user.pipe(E(Jt=>Jt?(0,Bn.D)(Jt.getIdTokenResult()):(0,Be.of)(null))),this.credential=(0,Qt.T)(xt,me,this.authState.pipe(Ft(Jt=>!Jt))).pipe((0,Ye.U)(Jt=>(null==Jt?void 0:Jt.user)?Jt:null),(0,Ky.R)(g.outsideAngular),(0,Pl.QV)(g.insideAngular))}return(0,fs.pX)(this,Ae,d,{spy:{apply:(He,xt,nt)=>{(He.startsWith("signIn")||He.startsWith("createUser"))&&nt.then(Dn=>me.next(Dn))}}})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(fs.Dh),l.LFG(fs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wi.HU),l.LFG(r1,8),l.LFG(pv,8),l.LFG(gv,8),l.LFG(mv,8),l.LFG(i1,8),l.LFG(s1,8),l.LFG(ym,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),sN=(()=>{class t{constructor(){n1.Z.registerVersion("angularfire",Wi.q4.full,"auth-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[_v]}),t})();class Qf{constructor(n){this.predicate=n}call(n,e){return e.subscribe(new a1(n,this.predicate))}}class a1 extends on.L{constructor(n,e){super(n),this.predicate=e,this.skipping=!0,this.index=0}_next(n){const e=this.destination;this.skipping&&this.tryCallPredicate(n),this.skipping||e.next(n)}tryCallPredicate(n){try{const e=this.predicate(n,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}F(2755);var l1=F(3394);const yv="@firebase/database";let vm="";function u1(t){vm=t}class c1{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,e){null==e?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),(0,V.Pz)(e))}get(n){const e=this.domStorage_.getItem(this.prefixedName_(n));return null==e?null:(0,V.cI)(e)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class lN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,e){null==e?delete this.cache_[n]:this.cache_[n]=e}get(n){return(0,V.r3)(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const d1=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){const n=window[t];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new c1(n)}}catch(n){}return new lN},Xu=d1("localStorage"),bv=d1("sessionStorage"),Wo=new cn.Yd("@firebase/database"),Bd=function(){let t=1;return function(){return t++}}(),h1=function(t){const n=(0,V.dS)(t),e=new V.gQ;e.update(n);const s=e.digest();return V.US.encodeByteArray(s)},ec=function(...t){let n="";for(let e=0;e<t.length;e++){const s=t[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?n+=ec.apply(null,s):n+="object"==typeof s?(0,V.Pz)(s):s,n+=" "}return n};let qr=null,f1=!0;const Xf=function(t,n){(0,V.hu)(!n||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Wo.logLevel=cn.in.VERBOSE,qr=Wo.log.bind(Wo),n&&bv.set("logging_enabled",!0)):"function"==typeof t?qr=t:(qr=null,bv.remove("logging_enabled"))},Dr=function(...t){if(!0===f1&&(f1=!1,null===qr&&!0===bv.get("logging_enabled")&&Xf(!0)),qr){const n=ec.apply(null,t);qr(n)}},ep=function(t){return function(...n){Dr(t,...n)}},p1=function(...t){const n="FIREBASE INTERNAL ERROR: "+ec(...t);Wo.error(n)},ms=function(...t){const n=`FIREBASE FATAL ERROR: ${ec(...t)}`;throw Wo.error(n),new Error(n)},Vr=function(...t){const n="FIREBASE WARNING: "+ec(...t);Wo.warn(n)},Ud=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Va="[MIN_NAME]",zo="[MAX_NAME]",tc=function(t,n){if(t===n)return 0;if(t===Va||n===zo)return-1;if(n===Va||t===zo)return 1;{const e=np(t),s=np(n);return null!==e?null!==s?e-s==0?t.length-n.length:e-s:-1:null!==s?1:t<n?-1:1}},uN=function(t,n){return t===n?0:t<n?-1:1},Hd=function(t,n){if(n&&t in n)return n[t];throw new Error("Missing required key ("+t+") in object: "+(0,V.Pz)(n))},tp=function(t){if("object"!=typeof t||null===t)return(0,V.Pz)(t);const n=[];for(const s in t)n.push(s);n.sort();let e="{";for(let s=0;s<n.length;s++)0!==s&&(e+=","),e+=(0,V.Pz)(n[s]),e+=":",e+=tp(t[n[s]]);return e+="}",e},wv=function(t,n){const e=t.length;if(e<=n)return[t];const s=[];for(let a=0;a<e;a+=n)s.push(t.substring(a,a+n>e?e:a+n));return s};function hr(t,n){for(const e in t)t.hasOwnProperty(e)&&n(e,t[e])}const Ev=function(t){(0,V.hu)(!Ud(t),"Invalid JSON number");const s=1023;let a,d,g,v,w;0===t?(d=0,g=0,a=1/t==-1/0?1:0):(a=t<0,(t=Math.abs(t))>=Math.pow(2,1-s)?(v=Math.min(Math.floor(Math.log(t)/Math.LN2),s),d=v+s,g=Math.round(t*Math.pow(2,52-v)-Math.pow(2,52))):(d=0,g=Math.round(t/Math.pow(2,-1074))));const A=[];for(w=52;w;w-=1)A.push(g%2?1:0),g=Math.floor(g/2);for(w=11;w;w-=1)A.push(d%2?1:0),d=Math.floor(d/2);A.push(a?1:0),A.reverse();const O=A.join("");let x="";for(w=0;w<64;w+=8){let j=parseInt(O.substr(w,8),2).toString(16);1===j.length&&(j="0"+j),x+=j}return x.toLowerCase()},y1=new RegExp("^-?(0*)\\d{1,10}$"),v1=-2147483648,bm=2147483647,np=function(t){if(y1.test(t)){const n=Number(t);if(n>=v1&&n<=bm)return n}return null},rp=function(t){try{t()}catch(n){setTimeout(()=>{throw Vr("Exception was thrown by user callback.",n.stack||""),n},Math.floor(0))}},Yo=function(t,n){const e=setTimeout(t,n);return"object"==typeof e&&e.unref&&e.unref(),e};class dN{constructor(n,e){this.appName_=n,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(s=>this.appCheck=s)}getToken(n){return this.appCheck?this.appCheck.getToken(n):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(e,s):e(null)},0)})}addTokenChangeListener(n){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(n))}notifyForInvalidToken(){Vr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class hN{constructor(n,e,s){this.appName_=n,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(e=>e&&"auth/token-not-initialized"===e.code?(Dr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(e,s):e(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(e=>e.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(e=>e.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';n+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vr(n)}}let Cm=(()=>{class t{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const w1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Iv="websocket",ip="long_polling";class sp{constructor(n,e,s,a,d=!1,g="",v=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=v,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xu.get("host:"+n)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&Xu.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Nv(t,n,e){let s;if((0,V.hu)("string"==typeof n,"typeof type must == string"),(0,V.hu)("object"==typeof e,"typeof params must == object"),n===Iv)s=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(n!==ip)throw new Error("Unknown connection type: "+n);s=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(e.ns=t.namespace);const a=[];return hr(e,(d,g)=>{a.push(d+"="+g)}),s+a.join("&")}class fN{constructor(){this.counters_={}}incrementCounter(n,e=1){(0,V.r3)(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=e}get(){return(0,V.p$)(this.counters_)}}const Dm={},$d={};function Tm(t){const n=t.toString();return Dm[n]||(Dm[n]=new fN),Dm[n]}class Av{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,e){this.closeAfterResponse=n,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,e){for(this.pendingResponses[n]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&rp(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class jd{constructor(n,e,s,a,d,g,v){this.connId=n,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=d,this.transportSessionId=g,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ep(n),this.stats_=Tm(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Nv(e,ip,w))}open(n,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Av(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,V.Yr)()||"complete"===document.readyState)t();else{let n=!1;const e=function(){document.body?n||(n=!0,t()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new kv((...d)=>{const[g,v,w,A,O]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=v,this.password=w;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,v]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,v)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&w1.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){jd.forceAllow_=!0}static forceDisallow(){jd.forceDisallow_=!0}static isAvailable(){return!((0,V.Yr)()||!jd.forceAllow_&&(jd.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const e=(0,V.Pz)(n);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,V.h$)(e),a=wv(s,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(n,e){if((0,V.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=n,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const e=(0,V.Pz)(n).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class kv{constructor(n,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,V.Yr)())this.commandCB=n,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Bd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=n,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=kv.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(v){Dr("frame writing exception"),v.stack&&Dr(v.stack),Dr(v)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(n);try{n.contentWindow.document||Dr("No IE domain setting required")}catch(e){const s=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,e){for(this.myID=n,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n.id=this.myID,n.pw=this.myPW,n.ser=this.currentSerial;let e=this.urlFn(n),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(n,e,s){this.pendingSegs.push({seg:n,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(n,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(n,()=>{clearTimeout(a),s()})}addTag(n,e){(0,V.Yr)()?this.doNodeLongPoll(n,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=n,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Dr("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch(s){}},Math.floor(1))}}let Nm=null;"undefined"!=typeof MozWebSocket?Nm=MozWebSocket:"undefined"!=typeof WebSocket&&(Nm=WebSocket);let Am=(()=>{class t{constructor(e,s,a,d,g,v,w){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ep(this.connId),this.stats_=Tm(s),this.connURL=t.connectionURL_(s,v,w,d),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,d){const g={v:"5"};return!(0,V.Yr)()&&"undefined"!=typeof location&&location.hostname&&w1.test(location.hostname)&&(g.r="f"),s&&(g.s=s),a&&(g.ls=a),d&&(g.ac=d),Nv(e,Iv,g)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xu.set("previous_websocket_failure",!0);try{if((0,V.Yr)()){const d={headers:{"User-Agent":`Firebase/5/${vm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,v=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;v&&(d.proxy={origin:v}),this.mySock=new Nm(this.connURL,[],d)}else this.mySock=new Nm(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Nm&&!t.forceDisallow_}static previouslyFailed(){return Xu.isInMemoryStorage||!0===Xu.get("previous_websocket_failure")}markConnectionHealthy(){Xu.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,V.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,V.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,V.Pz)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=wv(s,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})();class O1{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[jd,Am]}initTransports_(n){const e=Am&&Am.isAvailable();let s=e&&!Am.previouslyFailed();if(n.webSocketOnly&&(e||Vr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Am];else{const a=this.transports_=[];for(const d of O1.ALL_TRANSPORTS)d&&d.isAvailable()&&a.push(d)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class F1{constructor(n,e,s,a,d,g,v,w,A,O){this.id=n,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=g,this.onReady_=v,this.onDisconnect_=w,this.onKill_=A,this.lastSessionId=O,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ep("c:"+this.id+":"),this.transportManager_=new O1(e),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=n.healthyTimeout||0;a>0&&(this.healthyTimeout_=Yo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return e=>{n===this.conn_?this.onConnectionLost_(e):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return e=>{2!==this.state_&&(n===this.rx_?this.onPrimaryMessageReceived_(e):n===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(n){this.sendData_({t:"d",d:n})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if("t"in n){const e=n.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const e=Hd("t",n),s=Hd("d",n);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const e=Hd("t",n),s=Hd("d",n);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const e=Hd("t",n);if("d"in n){const s=n.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?p1("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):p1("Unknown control packet command: "+e)}}onHandshake_(n){const e=n.ts,s=n.v,a=n.h;this.sessionId=n.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Vr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),Yo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,e){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,n||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(n)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class L1{put(n,e,s,a){}merge(n,e,s,a){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,e,s){}onDisconnectMerge(n,e,s){}onDisconnectCancel(n,e){}reportStats(n){}}class V1{constructor(n){this.allowedEvents_=n,this.listeners_={},(0,V.hu)(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...e){if(Array.isArray(this.listeners_[n])){const s=[...this.listeners_[n]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(n,e,s){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:e,context:s});const a=this.getInitialEvent(n);a&&e.apply(s,a)}off(n,e,s){this.validateEventType_(n);const a=this.listeners_[n]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!s||s===a[d].context))return void a.splice(d,1)}validateEventType_(n){(0,V.hu)(this.allowedEvents_.find(e=>e===n),"Unknown event: "+n)}}class xv extends V1{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,V.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xv}getInitialEvent(n){return(0,V.hu)("online"===n,"Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}class Zt{constructor(n,e){if(void 0===e){this.pieces_=n.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=e}toString(){let n="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(n+="/"+this.pieces_[e]);return n||"/"}}function jt(){return new Zt("")}function vt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function nc(t){return t.pieces_.length-t.pieceNum_}function dn(t){let n=t.pieceNum_;return n<t.pieces_.length&&n++,new Zt(t.pieces_,n)}function B1(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function op(t,n=0){return t.pieces_.slice(t.pieceNum_+n)}function AN(t){if(t.pieceNum_>=t.pieces_.length)return null;const n=[];for(let e=t.pieceNum_;e<t.pieces_.length-1;e++)n.push(t.pieces_[e]);return new Zt(n,0)}function wn(t,n){const e=[];for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);if(n instanceof Zt)for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);else{const s=n.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new Zt(e,0)}function gt(t){return t.pieceNum_>=t.pieces_.length}function Kn(t,n){const e=vt(t),s=vt(n);if(null===e)return n;if(e===s)return Kn(dn(t),dn(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")}function U1(t,n){const e=op(t,0),s=op(n,0);for(let a=0;a<e.length&&a<s.length;a++){const d=tc(e[a],s[a]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function Ov(t,n){if(nc(t)!==nc(n))return!1;for(let e=t.pieceNum_,s=n.pieceNum_;e<=t.pieces_.length;e++,s++)if(t.pieces_[e]!==n.pieces_[s])return!1;return!0}function _s(t,n){let e=t.pieceNum_,s=n.pieceNum_;if(nc(t)>nc(n))return!1;for(;e<t.pieces_.length;){if(t.pieces_[e]!==n.pieces_[s])return!1;++e,++s}return!0}class Pv{constructor(n,e){this.errorPrefix_=e,this.parts_=op(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,V.ug)(this.parts_[s]);Fv(this)}}function Fv(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Gd(t))}function Gd(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class Sm extends V1{constructor(){let n,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",n="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[n];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new Sm}getInitialEvent(n){return(0,V.hu)("visible"===n,"Unknown event type: "+n),[this.visible_]}}const Vl=1e3;let Wd,rc=(()=>{class t extends L1{constructor(e,s,a,d,g,v,w,A){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=v,this.appCheckTokenProvider_=w,this.authOverride_=A,this.id=t.nextPersistentConnectionId_++,this.log_=ep("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,V.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sm.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&xv.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const d=++this.requestNumber_,g={r:d,a:e,b:s};this.log_((0,V.Pz)(g)),(0,V.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const s=new V.BH,a={p:e._path.toString(),q:e._queryObject},d={action:"g",request:a,onComplete:v=>{const w=v.d;"ok"===v.s?(this.onDataUpdate_(a.p,w,!1,null),s.resolve(w)):s.reject(w)}};this.outstandingGets_.push(d),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const v=this.outstandingGets_[g];void 0===v||d!==v||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),s.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),s.promise}listen(e,s,a,d){this.initConnection_();const g=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+g),this.listens.has(v)||this.listens.set(v,new Map),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,V.hu)(!this.listens.get(v).has(g),"listen() called twice for same path/queryId.");const w={onComplete:d,hashFn:s,query:e,tag:a};this.listens.get(v).set(g,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+a+" for "+d);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,w=>{const A=w.d,O=w.s;t.warnOnListenWarnings_(A,s),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",w),"ok"!==O&&this.removeListen_(a,d),e.onComplete&&e.onComplete(O,A))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,V.r3)(e,"w")){const a=(0,V.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();Vr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,V.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,V.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,d=>{const g=d.s,v=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,V.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,s)}sendUnlisten_(e,s,a,d){this.log_("Unlisten on "+e+" for "+s);const g={p:e};d&&(g.q=a,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,d){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,v=>{d&&setTimeout(()=>{d(v.s,v.d)},Math.floor(0))})}put(e,s,a,d){this.putInternal("p",e,s,a,d)}merge(e,s,a,d){this.putInternal("m",e,s,a,d)}putInternal(e,s,a,d,g){this.initConnection_();const v={p:s,d:a};void 0!==g&&(v.h=g),this.outstandingPuts_.push({action:e,request:v,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,V.Pz)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):p1("Unrecognized action received from server: "+(0,V.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,V.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Vl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Od.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+t.nextConnectionId_++,v=e.lastSessionId;let w=!1,A=null;const O=function(){A?A.close():(w=!0,d())};e.realtime_={close:O,sendRequest:function(X){(0,V.hu)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(X)}};const j=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[X,me]=yield Promise.all([e.authTokenProvider_.getToken(j),e.appCheckTokenProvider_.getToken(j)]);w?Dr("getToken() completed but was canceled"):(Dr("getToken() completed. Creating connection."),e.authToken_=X&&X.accessToken,e.appCheckToken_=me&&me.token,A=new F1(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,d,Ae=>{Vr(Ae+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(X){e.log_("Failed to get token: "+X),w||(e.repoInfo_.nodeAdmin&&Vr(X),O())}}})()}interrupt(e){Dr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Dr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,V.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>tp(g)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const a=new Zt(e).toString();let d;if(this.listens.has(a)){const g=this.listens.get(a);d=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,s){Dr("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){Dr("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,V.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+vm.replace(/\./g,"-")]=1,(0,V.uI)()?e["framework.cordova"]=1:(0,V.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=xv.getInstance().currentlyOnline();return(0,V.xb)(this.interruptReasons_)&&e}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class At{constructor(n,e){this.name=n,this.node=e}static Wrap(n,e){return new At(n,e)}}class Lv{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,e){const s=new At(Va,n),a=new At(Va,e);return 0!==this.compare(s,a)}minPost(){return At.MIN}}class G1 extends Lv{static get __EMPTY_NODE(){return Wd}static set __EMPTY_NODE(n){Wd=n}compare(n,e){return tc(n.name,e.name)}isDefinedOn(n){throw(0,V.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,e){return!1}minPost(){return At.MIN}maxPost(){return new At(zo,Wd)}makePost(n,e){return(0,V.hu)("string"==typeof n,"KeyIndex indexValue must always be a string."),new At(n,Wd)}toString(){return".key"}}const Ba=new G1;class Vv{constructor(n,e,s,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!n.isEmpty();)if(n=n,g=e?s(n.key,e):1,a&&(g*=-1),g<0)n=this.isReverse_?n.left:n.right;else{if(0===g){this.nodeStack_.push(n);break}this.nodeStack_.push(n),n=this.isReverse_?n.right:n.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,n=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}let z1,zs=(()=>{class t{constructor(e,s,a,d,g){this.key=e,this.value=s,this.color=null!=a?a:t.RED,this.left=null!=d?d:fi.EMPTY_NODE,this.right=null!=g?g:fi.EMPTY_NODE}copy(e,s,a,d,g){return new t(null!=e?e:this.key,null!=s?s:this.value,null!=a?a:this.color,null!=d?d:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let d=this;const g=a(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,s,a),null):0===g?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return fi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,d;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return fi.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class fi{constructor(n,e=fi.EMPTY_NODE){this.comparator_=n,this.root_=e}insert(n,e){return new fi(this.comparator_,this.root_.insert(n,e,this.comparator_).copy(null,null,zs.BLACK,null,null))}remove(n){return new fi(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,zs.BLACK,null,null))}get(n){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(n,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(n){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(n,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Vv(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,e){return new Vv(this.root_,n,this.comparator_,!1,e)}getReverseIteratorFrom(n,e){return new Vv(this.root_,n,this.comparator_,!0,e)}getReverseIterator(n){return new Vv(this.root_,null,this.comparator_,!0,n)}}function RN(t,n){return tc(t.name,n.name)}function W1(t,n){return tc(t,n)}fi.EMPTY_NODE=new class{copy(n,e,s,a,d){return this}insert(n,e,s){return new zs(n,e,null)}remove(n,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zd=function(t){return"number"==typeof t?"number:"+Ev(t):"string:"+t},Y1=function(t){if(t.isLeafNode()){const n=t.val();(0,V.hu)("string"==typeof n||"number"==typeof n||"object"==typeof n&&(0,V.r3)(n,".sv"),"Priority must be a string or number.")}else(0,V.hu)(t===z1||t.isEmpty(),"priority of unexpected type.");(0,V.hu)(t===z1||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Z1,Mm,q1,Yd=(()=>{class t{constructor(e,s=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,V.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Y1(this.priorityNode_)}static set __childrenNodeConstructor(e){Z1=e}static get __childrenNodeConstructor(){return Z1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new t(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return gt(e)?this:".priority"===vt(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=vt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,V.hu)(".priority"!==a||1===nc(e),".priority must be the last token in a path"),this.updateImmediateChild(a,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(dn(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+zd(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?Ev(this.value_):this.value_,this.lazyHash_=h1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,V.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,d=t.VALUE_TYPE_ORDER.indexOf(s),g=t.VALUE_TYPE_ORDER.indexOf(a);return(0,V.hu)(d>=0,"Unknown leaf type: "+s),(0,V.hu)(g>=0,"Unknown leaf type: "+a),d===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const hn=new class extends Lv{compare(n,e){const s=n.node.getPriority(),a=e.node.getPriority(),d=s.compareTo(a);return 0===d?tc(n.name,e.name):d}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,e){return!n.getPriority().equals(e.getPriority())}minPost(){return At.MIN}maxPost(){return new At(zo,new Yd("[PRIORITY-POST]",q1))}makePost(n,e){const s=Mm(n);return new At(e,new Yd("[PRIORITY-POST]",s))}toString(){return".priority"}},ON=Math.log(2);class Uv{constructor(n){this.count=parseInt(Math.log(n+1)/ON,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=n+1&a}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const lp=function(t,n,e,s){t.sort(n);const a=function(w,A){const O=A-w;let x,j;if(0===O)return null;if(1===O)return x=t[w],j=e?e(x):x,new zs(j,x.node,zs.BLACK,null,null);{const X=parseInt(O/2,10)+w,me=a(w,X),Ae=a(X+1,A);return x=t[X],j=e?e(x):x,new zs(j,x.node,zs.BLACK,me,Ae)}},v=function(w){let A=null,O=null,x=t.length;const j=function(me,Ae){const He=x-me,xt=x;x-=me;const nt=a(He+1,xt),Dn=t[He],Jt=e?e(Dn):Dn;X(new zs(Jt,Dn.node,Ae,null,nt))},X=function(me){A?(A.left=me,A=me):(O=me,A=me)};for(let me=0;me<w.count;++me){const Ae=w.nextBitIsOne(),He=Math.pow(2,w.count-(me+1));Ae?j(He,zs.BLACK):(j(He,zs.BLACK),j(He,zs.RED))}return O}(new Uv(t.length));return new fi(s||n,v)};let Rm;const Zd={};class Zo{constructor(n,e){this.indexes_=n,this.indexSet_=e}static get Default(){return(0,V.hu)(Zd&&hn,"ChildrenNode.ts has not been loaded"),Rm=Rm||new Zo({".priority":Zd},{".priority":hn}),Rm}get(n){const e=(0,V.DV)(this.indexes_,n);if(!e)throw new Error("No index defined for "+n);return e instanceof fi?e:null}hasIndex(n){return(0,V.r3)(this.indexSet_,n.toString())}addIndex(n,e){(0,V.hu)(n!==Ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const d=e.getIterator(At.Wrap);let v,g=d.getNext();for(;g;)a=a||n.isDefinedOn(g.node),s.push(g),g=d.getNext();v=a?lp(s,n.getCompare()):Zd;const w=n.toString(),A=Object.assign({},this.indexSet_);A[w]=n;const O=Object.assign({},this.indexes_);return O[w]=v,new Zo(O,A)}addToIndexes(n,e){const s=(0,V.UI)(this.indexes_,(a,d)=>{const g=(0,V.DV)(this.indexSet_,d);if((0,V.hu)(g,"Missing index implementation for "+d),a===Zd){if(g.isDefinedOn(n.node)){const v=[],w=e.getIterator(At.Wrap);let A=w.getNext();for(;A;)A.name!==n.name&&v.push(A),A=w.getNext();return v.push(n),lp(v,g.getCompare())}return Zd}{const v=e.get(n.name);let w=a;return v&&(w=w.remove(new At(n.name,v))),w.insert(n,n.node)}});return new Zo(s,this.indexSet_)}removeFromIndexes(n,e){const s=(0,V.UI)(this.indexes_,a=>{if(a===Zd)return a;{const d=e.get(n.name);return d?a.remove(new At(n.name,d)):a}});return new Zo(s,this.indexSet_)}}let qd,ct=(()=>{class t{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Y1(this.priorityNode_),this.children_.isEmpty()&&(0,V.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qd||(qd=new t(new fi(W1),null,Zo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qd}updatePriority(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?qd:s}}getChild(e){const s=vt(e);return null===s?this:this.getImmediateChild(s).getChild(dn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,V.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new At(e,s);let d,g;s.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const v=d.isEmpty()?qd:this.priorityNode_;return new t(d,v,g)}}updateChild(e,s){const a=vt(e);if(null===a)return s;{(0,V.hu)(".priority"!==vt(e)||1===nc(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(dn(e),s);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,d=0,g=!0;if(this.forEachChild(hn,(v,w)=>{s[v]=w.val(e),a++,g&&t.INTEGER_REGEXP_.test(v)?d=Math.max(d,Number(v)):g=!1}),!e&&g&&d<2*a){const v=[];for(const w in s)v[w]=s[w];return v}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+zd(this.getPriority().val())+":"),this.forEachChild(hn,(s,a)=>{const d=a.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":h1(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const d=this.resolveIndex_(a);if(d){const g=d.getPredecessorKey(new At(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new At(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new At(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,At.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,At.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ic?-1:0}withIndex(e){if(e===Ba||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===Ba||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(hn),d=s.getIterator(hn);let g=a.getNext(),v=d.getNext();for(;g&&v;){if(g.name!==v.name||!g.node.equals(v.node))return!1;g=a.getNext(),v=d.getNext()}return null===g&&null===v}return!1}return!1}}resolveIndex_(e){return e===Ba?null:this.indexMap_.get(e.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const ic=new class extends ct{constructor(){super(new fi(W1),ct.EMPTY_NODE,Zo.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return ct.EMPTY_NODE}isEmpty(){return!1}};function En(t,n=null){if(null===t)return ct.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(n=t[".priority"]),(0,V.hu)(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Yd(t,En(n));if(t instanceof Array){let e=ct.EMPTY_NODE;return hr(t,(s,a)=>{if((0,V.r3)(t,s)&&"."!==s.substring(0,1)){const d=En(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(En(n))}{const e=[];let s=!1;if(hr(t,(g,v)=>{if("."!==g.substring(0,1)){const w=En(v);w.isEmpty()||(s=s||!w.getPriority().isEmpty(),e.push(new At(g,w)))}}),0===e.length)return ct.EMPTY_NODE;const d=lp(e,RN,g=>g.name,W1);if(s){const g=lp(e,hn.getCompare());return new ct(d,En(n),new Zo({".priority":g},{".priority":hn}))}return new ct(d,En(n),Zo.Default)}}Object.defineProperties(At,{MIN:{value:new At(Va,ct.EMPTY_NODE)},MAX:{value:new At(zo,ic)}}),G1.__EMPTY_NODE=ct.EMPTY_NODE,Yd.__childrenNodeConstructor=ct,z1=ic,q1=ic,function(t){Mm=t}(En);class up extends Lv{constructor(n){super(),this.indexPath_=n,(0,V.hu)(!gt(n)&&".priority"!==vt(n),"Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,e){const s=this.extractChild(n.node),a=this.extractChild(e.node),d=s.compareTo(a);return 0===d?tc(n.name,e.name):d}makePost(n,e){const s=En(n),a=ct.EMPTY_NODE.updateChild(this.indexPath_,s);return new At(e,a)}maxPost(){const n=ct.EMPTY_NODE.updateChild(this.indexPath_,ic);return new At(zo,n)}toString(){return op(this.indexPath_,0).join("/")}}const Zi=new class extends Lv{compare(n,e){const s=n.node.compareTo(e.node);return 0===s?tc(n.name,e.name):s}isDefinedOn(n){return!0}indexedValueChanged(n,e){return!n.equals(e)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(n,e){const s=En(n);return new At(e,s)}toString(){return".value"}},Kd="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",VN=function(){let t=0;const n=[];return function(e){const s=e===t;let a;t=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=Kd.charAt(e%64),e=Math.floor(e/64);(0,V.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(s){for(a=11;a>=0&&63===n[a];a--)n[a]=0;n[a]++}else for(a=0;a<12;a++)n[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Kd.charAt(n[a]);return(0,V.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),X1=function(t){if(t===""+bm)return"-";const n=np(t);if(null!=n)return""+(n+1);const e=new Array(t.length);for(let g=0;g<e.length;g++)e[g]=t.charAt(g);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return zo;const d=Kd.charAt(Kd.indexOf(e[s])+1);return e[s]=d,e.slice(0,s+1).join("")},eE=function(t){if(t===""+v1)return Va;const n=np(t);if(null!=n)return""+(n-1);const e=new Array(t.length);for(let s=0;s<e.length;s++)e[s]=t.charAt(s);return"-"===e[e.length-1]?1===e.length?""+bm:(delete e[e.length-1],e.join("")):(e[e.length-1]=Kd.charAt(Kd.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function BN(t){return{type:"value",snapshotNode:t}}function Jd(t,n){return{type:"child_added",snapshotNode:n,childName:t}}function Qd(t,n){return{type:"child_removed",snapshotNode:n,childName:t}}function cp(t,n,e){return{type:"child_changed",snapshotNode:n,childName:t,oldSnap:e}}class km{constructor(n){this.index_=n}updateChild(n,e,s,a,d,g){(0,V.hu)(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=n.getImmediateChild(e);return v.getChild(a).equals(s.getChild(a))&&v.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?n.hasChild(e)?g.trackChildChange(Qd(e,v)):(0,V.hu)(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?g.trackChildChange(Jd(e,s)):g.trackChildChange(cp(e,s,v))),n.isLeafNode()&&s.isEmpty())?n:n.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(n,e,s){return null!=s&&(n.isLeafNode()||n.forEachChild(hn,(a,d)=>{e.hasChild(a)||s.trackChildChange(Qd(a,d))}),e.isLeafNode()||e.forEachChild(hn,(a,d)=>{if(n.hasChild(a)){const g=n.getImmediateChild(a);g.equals(d)||s.trackChildChange(cp(a,d,g))}else s.trackChildChange(Jd(a,d))})),e.withIndex(this.index_)}updatePriority(n,e){return n.isEmpty()?ct.EMPTY_NODE:n.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dp{constructor(n){this.indexedFilter_=new km(n.getIndex()),this.index_=n.getIndex(),this.startPost_=dp.getStartPost_(n),this.endPost_=dp.getEndPost_(n)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){return this.index_.compare(this.getStartPost(),n)<=0&&this.index_.compare(n,this.getEndPost())<=0}updateChild(n,e,s,a,d,g){return this.matches(new At(e,s))||(s=ct.EMPTY_NODE),this.indexedFilter_.updateChild(n,e,s,a,d,g)}updateFullNode(n,e,s){e.isLeafNode()&&(e=ct.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(ct.EMPTY_NODE);const d=this;return e.forEachChild(hn,(g,v)=>{d.matches(new At(g,v))||(a=a.updateImmediateChild(g,ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,a,s)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const e=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),e)}return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const e=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),e)}return n.getIndex().maxPost()}}class cM{constructor(n){this.rangedFilter_=new dp(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft()}updateChild(n,e,s,a,d,g){return this.rangedFilter_.matches(new At(e,s))||(s=ct.EMPTY_NODE),n.getImmediateChild(e).equals(s)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,e,s,a,d,g):this.fullLimitUpdateChild_(n,e,s,d,g)}updateFullNode(n,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=ct.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const v=d.getNext();let w;if(w=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!w)break;a=a.updateImmediateChild(v.name,v.node),g++}}else{let d,g,v,w;if(a=e.withIndex(this.index_),a=a.updatePriority(ct.EMPTY_NODE),this.reverse_){w=a.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const x=this.index_.getCompare();v=(j,X)=>x(X,j)}else w=a.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let A=0,O=!1;for(;w.hasNext();){const x=w.getNext();!O&&v(d,x)<=0&&(O=!0),O&&A<this.limit_&&v(x,g)<=0?A++:a=a.updateImmediateChild(x.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,a,s)}updatePriority(n,e){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,e,s,a,d){let g;if(this.reverse_){const x=this.index_.getCompare();g=(j,X)=>x(X,j)}else g=this.index_.getCompare();const v=n;(0,V.hu)(v.numChildren()===this.limit_,"");const w=new At(e,s),A=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),O=this.rangedFilter_.matches(w);if(v.hasChild(e)){const x=v.getImmediateChild(e);let j=a.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=j&&(j.name===e||v.hasChild(j.name));)j=a.getChildAfterChild(this.index_,j,this.reverse_);const X=null==j?1:g(j,w);if(O&&!s.isEmpty()&&X>=0)return null!=d&&d.trackChildChange(cp(e,s,x)),v.updateImmediateChild(e,s);{null!=d&&d.trackChildChange(Qd(e,x));const Ae=v.updateImmediateChild(e,ct.EMPTY_NODE);return null!=j&&this.rangedFilter_.matches(j)?(null!=d&&d.trackChildChange(Jd(j.name,j.node)),Ae.updateImmediateChild(j.name,j.node)):Ae}}return s.isEmpty()?n:O&&g(A,w)>=0?(null!=d&&(d.trackChildChange(Qd(A.name,A.node)),d.trackChildChange(Jd(e,s))),v.updateImmediateChild(e,s).updateImmediateChild(A.name,ct.EMPTY_NODE)):n}}class hp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,V.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Va}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,V.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,V.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hn}copy(){const n=new hp;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function xm(t,n,e){const s=t.copy();return s.startSet_=!0,void 0===n&&(n=null),s.indexStartValue_=n,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function pp(t,n,e){const s=t.copy();return s.endSet_=!0,void 0===n&&(n=null),s.indexEndValue_=n,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function Om(t,n){const e=t.copy();return e.index_=n,e}function rE(t){const n={};if(t.isDefault())return n;let e;return t.index_===hn?e="$priority":t.index_===Zi?e="$value":t.index_===Ba?e="$key":((0,V.hu)(t.index_ instanceof up,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,V.Pz)(e),t.startSet_&&(n.startAt=(0,V.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,V.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,V.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,V.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n}function jN(t){const n={};if(t.startSet_&&(n.sp=t.indexStartValue_,t.startNameSet_&&(n.sn=t.indexStartName_)),t.endSet_&&(n.ep=t.indexEndValue_,t.endNameSet_&&(n.en=t.indexEndName_)),t.limitSet_){n.l=t.limit_;let e=t.viewFrom_;""===e&&(e=t.isViewFromLeft()?"l":"r"),n.vf=e}return t.index_!==hn&&(n.i=t.index_.toString()),n}class Hv extends L1{constructor(n,e,s,a){super(),this.repoInfo_=n,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=ep("p:rest:"),this.listens_={}}reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,e){return void 0!==e?"tag$"+e:((0,V.hu)(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}listen(n,e,s,a){const d=n._path.toString();this.log_("Listen called for "+d+" "+n._queryIdentifier);const g=Hv.getListenId_(n,s),v={};this.listens_[g]=v;const w=rE(n._queryParams);this.restRequest_(d+".json",w,(A,O)=>{let x=O;if(404===A&&(x=null,A=null),null===A&&this.onDataUpdate_(d,x,!1,s),(0,V.DV)(this.listens_,g)===v){let j;j=A?401===A?"permission_denied":"rest_error:"+A:"ok",a(j,null)}})}unlisten(n,e){const s=Hv.getListenId_(n,e);delete this.listens_[s]}get(n){const e=rE(n._queryParams),s=n._path.toString(),a=new V.BH;return this.restRequest_(s+".json",e,(d,g)=>{let v=g;404===d&&(v=null,d=null),null===d?(this.onDataUpdate_(s,v,!1,null),a.resolve(v)):a.reject(new Error(v))}),a.promise}refreshAuthToken(n){}restRequest_(n,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+(0,V.xO)(e);this.log_("Sending REST request for "+g);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(s&&4===v.readyState){this.log_("REST Response for "+g+" received. status:",v.status,"response:",v.responseText);let w=null;if(v.status>=200&&v.status<300){try{w=(0,V.cI)(v.responseText)}catch(A){Vr("Failed to parse JSON response for "+g+": "+v.responseText)}s(null,w)}else 401!==v.status&&404!==v.status&&Vr("Got unsuccessful REST response for "+g+" Status: "+v.status),s(v.status);s=null}},v.open("GET",g,!0),v.send()})}}class dM{constructor(){this.rootNode_=ct.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,e){this.rootNode_=this.rootNode_.updateChild(n,e)}}function gp(){return{value:null,children:new Map}}function sc(t,n,e){if(gt(n))t.value=e,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,e);else{const s=vt(n);t.children.has(s)||t.children.set(s,gp()),sc(t.children.get(s),n=dn(n),e)}}function $v(t,n){if(gt(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;{const e=t.value;return t.value=null,e.forEachChild(hn,(s,a)=>{sc(t,new Zt(s),a)}),$v(t,n)}}if(t.children.size>0){const e=vt(n);return n=dn(n),t.children.has(e)&&$v(t.children.get(e),n)&&t.children.delete(e),0===t.children.size}return!0}function jv(t,n,e){null!==t.value?e(n,t.value):function(t,n){t.children.forEach((e,s)=>{n(s,e)})}(t,(s,a)=>{jv(a,new Zt(n.toString()+"/"+s),e)})}class WN{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),e=Object.assign({},n);return this.last_&&hr(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=n,e}}class zN{constructor(n,e){this.server_=e,this.statsToReport_={},this.statsListener_=new WN(n);const s=1e4+2e4*Math.random();Yo(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const n=this.statsListener_.get(),e={};let s=!1;hr(n,(a,d)=>{d>0&&(0,V.r3)(this.statsToReport_,a)&&(e[a]=d,s=!0)}),s&&this.server_.reportStats(e),Yo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Si=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Si||(Si={})),Si))();function Pm(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class mp{constructor(n,e,s){this.path=n,this.affectedTree=e,this.revert=s,this.type=Si.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(n){if(gt(this.path)){if(null!=this.affectedTree.value)return(0,V.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Zt(n));return new mp(jt(),e,this.revert)}}return(0,V.hu)(vt(this.path)===n,"operationForChild called for unrelated child."),new mp(dn(this.path),this.affectedTree,this.revert)}}class _p{constructor(n,e){this.source=n,this.path=e,this.type=Si.LISTEN_COMPLETE}operationForChild(n){return gt(this.path)?new _p(this.source,jt()):new _p(this.source,dn(this.path))}}class qo{constructor(n,e,s){this.source=n,this.path=e,this.snap=s,this.type=Si.OVERWRITE}operationForChild(n){return gt(this.path)?new qo(this.source,jt(),this.snap.getImmediateChild(n)):new qo(this.source,dn(this.path),this.snap)}}class Xd{constructor(n,e,s){this.source=n,this.path=e,this.children=s,this.type=Si.MERGE}operationForChild(n){if(gt(this.path)){const e=this.children.subtree(new Zt(n));return e.isEmpty()?null:e.value?new qo(this.source,jt(),e.value):new Xd(this.source,jt(),e)}return(0,V.hu)(vt(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Xd(this.source,dn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Bl{constructor(n,e,s){this.node_=n,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(gt(n))return this.isFullyInitialized()&&!this.filtered_;const e=vt(n);return this.isCompleteForChild(e)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class sE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function eh(t,n,e,s,a,d){const g=s.filter(v=>v.type===e);g.sort((v,w)=>function(t,n,e){if(null==n.childName||null==e.childName)throw(0,V.g5)("Should only compare child_ events.");const s=new At(n.childName,n.snapshotNode),a=new At(e.childName,e.snapshotNode);return t.index_.compare(s,a)}(t,v,w)),g.forEach(v=>{const w=function(t,n,e){return"value"===n.type||"child_removed"===n.type||(n.prevName=e.getPredecessorChildName(n.childName,n.snapshotNode,t.index_)),n}(t,v,d);a.forEach(A=>{A.respondsTo(v.type)&&n.push(A.createEvent(w,t.query_))})})}function Fm(t,n){return{eventCache:t,serverCache:n}}function Ul(t,n,e,s){return Fm(new Bl(n,e,s),t.serverCache)}function oE(t,n,e,s){return Fm(t.eventCache,new Bl(n,e,s))}function th(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let Qn;class fn{constructor(n,e=(()=>(Qn||(Qn=new fi(uN)),Qn))()){this.value=n,this.children=e}static fromObject(n){let e=new fn(null);return hr(n,(s,a)=>{e=e.set(new Zt(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,e){if(null!=this.value&&e(this.value))return{path:jt(),value:this.value};if(gt(n))return null;{const s=vt(n),a=this.children.get(s);if(null!==a){const d=a.findRootMostMatchingPathAndValue(dn(n),e);return null!=d?{path:wn(new Zt(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(gt(n))return this;{const e=vt(n),s=this.children.get(e);return null!==s?s.subtree(dn(n)):new fn(null)}}set(n,e){if(gt(n))return new fn(e,this.children);{const s=vt(n),d=(this.children.get(s)||new fn(null)).set(dn(n),e),g=this.children.insert(s,d);return new fn(this.value,g)}}remove(n){if(gt(n))return this.children.isEmpty()?new fn(null):new fn(null,this.children);{const e=vt(n),s=this.children.get(e);if(s){const a=s.remove(dn(n));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new fn(null):new fn(this.value,d)}return this}}get(n){if(gt(n))return this.value;{const e=vt(n),s=this.children.get(e);return s?s.get(dn(n)):null}}setTree(n,e){if(gt(n))return e;{const s=vt(n),d=(this.children.get(s)||new fn(null)).setTree(dn(n),e);let g;return g=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new fn(this.value,g)}}fold(n){return this.fold_(jt(),n)}fold_(n,e){const s={};return this.children.inorderTraversal((a,d)=>{s[a]=d.fold_(wn(n,a),e)}),e(n,this.value,s)}findOnPath(n,e){return this.findOnPath_(n,jt(),e)}findOnPath_(n,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(gt(n))return null;{const d=vt(n),g=this.children.get(d);return g?g.findOnPath_(dn(n),wn(e,d),s):null}}foreachOnPath(n,e){return this.foreachOnPath_(n,jt(),e)}foreachOnPath_(n,e,s){if(gt(n))return this;{this.value&&s(e,this.value);const a=vt(n),d=this.children.get(a);return d?d.foreachOnPath_(dn(n),wn(e,a),s):new fn(null)}}foreach(n){this.foreach_(jt(),n)}foreach_(n,e){this.children.inorderTraversal((s,a)=>{a.foreach_(wn(n,s),e)}),this.value&&e(n,this.value)}foreachChild(n){this.children.inorderTraversal((e,s)=>{s.value&&n(e,s.value)})}}class Ys{constructor(n){this.writeTree_=n}static empty(){return new Ys(new fn(null))}}function Lm(t,n,e){if(gt(n))return new Ys(new fn(e));{const s=t.writeTree_.findRootMostValueAndPath(n);if(null!=s){const a=s.path;let d=s.value;const g=Kn(a,n);return d=d.updateChild(g,e),new Ys(t.writeTree_.set(a,d))}{const a=new fn(e),d=t.writeTree_.setTree(n,a);return new Ys(d)}}}function nh(t,n,e){let s=t;return hr(e,(a,d)=>{s=Lm(s,wn(n,a),d)}),s}function aE(t,n){if(gt(n))return Ys.empty();{const e=t.writeTree_.setTree(n,new fn(null));return new Ys(e)}}function lE(t,n){return null!=rh(t,n)}function rh(t,n){const e=t.writeTree_.findRootMostValueAndPath(n);return null!=e?t.writeTree_.get(e.path).getChild(Kn(e.path,n)):null}function YN(t){const n=[],e=t.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(hn,(s,a)=>{n.push(new At(s,a))}):t.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&n.push(new At(s,a.value))}),n}function $l(t,n){if(gt(n))return t;{const e=rh(t,n);return new Ys(null!=e?new fn(e):t.writeTree_.subtree(n))}}function Yv(t){return t.writeTree_.isEmpty()}function ih(t,n){return uE(jt(),t.writeTree_,n)}function uE(t,n,e){if(null!=n.value)return e.updateChild(t,n.value);{let s=null;return n.children.inorderTraversal((a,d)=>{".priority"===a?((0,V.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=uE(wn(t,a),d,e)}),!e.getChild(t).isEmpty()&&null!==s&&(e=e.updateChild(wn(t,".priority"),s)),e}}function Vm(t,n){return iA(n,t)}function mM(t,n){if(t.snap)return _s(t.path,n);for(const e in t.children)if(t.children.hasOwnProperty(e)&&_s(wn(t.path,e),n))return!0;return!1}function JN(t){return t.visible}function cE(t,n,e){let s=Ys.empty();for(let a=0;a<t.length;++a){const d=t[a];if(n(d)){const g=d.path;let v;if(d.snap)_s(e,g)?(v=Kn(e,g),s=Lm(s,v,d.snap)):_s(g,e)&&(v=Kn(g,e),s=Lm(s,jt(),d.snap.getChild(v)));else{if(!d.children)throw(0,V.g5)("WriteRecord should have .snap or .children");if(_s(e,g))v=Kn(e,g),s=nh(s,v,d.children);else if(_s(g,e))if(v=Kn(g,e),gt(v))s=nh(s,jt(),d.children);else{const w=(0,V.DV)(d.children,vt(v));if(w){const A=w.getChild(dn(v));s=Lm(s,jt(),A)}}}}}return s}function dE(t,n,e,s,a){if(s||a){const d=$l(t.visibleWrites,n);return!a&&Yv(d)?e:a||null!=e||lE(d,jt())?ih(cE(t.allWrites,function(A){return(A.visible||a)&&(!s||!~s.indexOf(A.writeId))&&(_s(A.path,n)||_s(n,A.path))},n),e||ct.EMPTY_NODE):null}{const d=rh(t.visibleWrites,n);if(null!=d)return d;{const g=$l(t.visibleWrites,n);return Yv(g)?e:null!=e||lE(g,jt())?ih(g,e||ct.EMPTY_NODE):null}}}function Bm(t,n,e,s){return dE(t.writeTree,t.treePath,n,e,s)}function hE(t,n){return function(t,n,e){let s=ct.EMPTY_NODE;const a=rh(t.visibleWrites,n);if(a)return a.isLeafNode()||a.forEachChild(hn,(d,g)=>{s=s.updateImmediateChild(d,g)}),s;if(e){const d=$l(t.visibleWrites,n);return e.forEachChild(hn,(g,v)=>{const w=ih($l(d,new Zt(g)),v);s=s.updateImmediateChild(g,w)}),YN(d).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return YN($l(t.visibleWrites,n)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(t.writeTree,t.treePath,n)}function fE(t,n,e,s){return function(t,n,e,s,a){(0,V.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const d=wn(n,e);if(lE(t.visibleWrites,d))return null;{const g=$l(t.visibleWrites,d);return Yv(g)?a.getChild(e):ih(g,a.getChild(e))}}(t.writeTree,t.treePath,n,e,s)}function Um(t,n){return function(t,n){return rh(t.visibleWrites,n)}(t.writeTree,wn(t.treePath,n))}function ac(t,n,e){return function(t,n,e,s){const a=wn(n,e),d=rh(t.visibleWrites,a);return null!=d?d:s.isCompleteForChild(e)?ih($l(t.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(t.writeTree,t.treePath,n,e)}function Zv(t,n){return iA(wn(t.treePath,n),t.writeTree)}function iA(t,n){return{treePath:t,writeTree:n}}class sA{constructor(){this.changeMap=new Map}trackChildChange(n){const e=n.type,s=n.childName;(0,V.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,V.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,cp(s,n.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,Qd(s,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,Jd(s,n.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,V.g5)("Illegal combination of changes: "+n+" occurred after "+a);this.changeMap.set(s,cp(s,n.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,n)}getChanges(){return Array.from(this.changeMap.values())}}const oA=new class{getCompleteChild(n){return null}getChildAfterChild(n,e,s){return null}};class pE{constructor(n,e,s=null){this.writes_=n,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(n){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(n))return e.getNode().getImmediateChild(n);{const s=null!=this.optCompleteServerCache_?new Bl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ac(this.writes_,n,s)}}getChildAfterChild(n,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Hl(this.viewCache_),d=function(t,n,e,s,a,d){return function(t,n,e,s,a,d,g){let v;const w=$l(t.visibleWrites,n),A=rh(w,jt());if(null!=A)v=A;else{if(null==e)return[];v=ih(w,e)}if(v=v.withIndex(g),v.isEmpty()||v.isLeafNode())return[];{const O=[],x=g.getCompare(),j=d?v.getReverseIteratorFrom(s,g):v.getIteratorFrom(s,g);let X=j.getNext();for(;X&&O.length<a;)0!==x(X,s)&&O.push(X),X=j.getNext();return O}}(t.writeTree,t.treePath,n,e,s,a,d)}(this.writes_,a,e,1,s,n);return 0===d.length?null:d[0]}}function cA(t,n,e,s,a,d){const g=n.eventCache;if(null!=Um(s,e))return n;{let v,w;if(gt(e))if((0,V.hu)(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const A=Hl(n),x=hE(s,A instanceof ct?A:ct.EMPTY_NODE);v=t.filter.updateFullNode(n.eventCache.getNode(),x,d)}else{const A=Bm(s,Hl(n));v=t.filter.updateFullNode(n.eventCache.getNode(),A,d)}else{const A=vt(e);if(".priority"===A){(0,V.hu)(1===nc(e),"Can't have a priority with additional path components");const O=g.getNode();w=n.serverCache.getNode();const x=fE(s,e,O,w);v=null!=x?t.filter.updatePriority(O,x):g.getNode()}else{const O=dn(e);let x;if(g.isCompleteForChild(A)){w=n.serverCache.getNode();const j=fE(s,e,g.getNode(),w);x=null!=j?g.getNode().getImmediateChild(A).updateChild(O,j):g.getNode().getImmediateChild(A)}else x=ac(s,A,n.serverCache);v=null!=x?t.filter.updateChild(g.getNode(),A,x,O,a,d):g.getNode()}}return Ul(n,v,g.isFullyInitialized()||gt(e),t.filter.filtersNodes())}}function Hm(t,n,e,s,a,d,g,v){const w=n.serverCache;let A;const O=g?t.filter:t.filter.getIndexedFilter();if(gt(e))A=O.updateFullNode(w.getNode(),s,null);else if(O.filtersNodes()&&!w.isFiltered()){const X=w.getNode().updateChild(e,s);A=O.updateFullNode(w.getNode(),X,null)}else{const X=vt(e);if(!w.isCompleteForPath(e)&&nc(e)>1)return n;const me=dn(e),He=w.getNode().getImmediateChild(X).updateChild(me,s);A=".priority"===X?O.updatePriority(w.getNode(),He):O.updateChild(w.getNode(),X,He,me,oA,null)}const x=oE(n,A,w.isFullyInitialized()||gt(e),O.filtersNodes());return cA(t,x,e,a,new pE(a,x,d),v)}function Kv(t,n,e,s,a,d,g){const v=n.eventCache;let w,A;const O=new pE(a,n,d);if(gt(e))A=t.filter.updateFullNode(n.eventCache.getNode(),s,g),w=Ul(n,A,!0,t.filter.filtersNodes());else{const x=vt(e);if(".priority"===x)A=t.filter.updatePriority(n.eventCache.getNode(),s),w=Ul(n,A,v.isFullyInitialized(),v.isFiltered());else{const j=dn(e),X=v.getNode().getImmediateChild(x);let me;if(gt(j))me=s;else{const Ae=O.getCompleteChild(x);me=null!=Ae?".priority"===B1(j)&&Ae.getChild(AN(j)).isEmpty()?Ae:Ae.updateChild(j,s):ct.EMPTY_NODE}w=X.equals(me)?n:Ul(n,t.filter.updateChild(v.getNode(),x,me,j,O,g),v.isFullyInitialized(),t.filter.filtersNodes())}}return w}function gE(t,n){return t.eventCache.isCompleteForChild(n)}function dA(t,n,e){return e.foreach((s,a)=>{n=n.updateChild(s,a)}),n}function $m(t,n,e,s,a,d,g,v){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let A,w=n;A=gt(e)?s:new fn(null).setTree(e,s);const O=n.serverCache.getNode();return A.children.inorderTraversal((x,j)=>{if(O.hasChild(x)){const me=dA(0,n.serverCache.getNode().getImmediateChild(x),j);w=Hm(t,w,new Zt(x),me,a,d,g,v)}}),A.children.inorderTraversal((x,j)=>{const X=!n.serverCache.isCompleteForChild(x)&&void 0===j.value;if(!O.hasChild(x)&&!X){const Ae=dA(0,n.serverCache.getNode().getImmediateChild(x),j);w=Hm(t,w,new Zt(x),Ae,a,d,g,v)}}),w}class yE{constructor(n,e){this.query_=n,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new km(s.getIndex()),d=function(t){return t.loadsAllData()?new km(t.getIndex()):t.hasLimit()?new cM(t):new dp(t)}(s);this.processor_=function(t){return{filter:t}}(d);const g=e.serverCache,v=e.eventCache,w=a.updateFullNode(ct.EMPTY_NODE,g.getNode(),null),A=d.updateFullNode(ct.EMPTY_NODE,v.getNode(),null),O=new Bl(w,g.isFullyInitialized(),a.filtersNodes()),x=new Bl(A,v.isFullyInitialized(),d.filtersNodes());this.viewCache_=Fm(x,O),this.eventGenerator_=new sE(this.query_)}get query(){return this.query_}}function Xv(t,n){const e=Hl(t.viewCache_);return e&&(t.query._queryParams.loadsAllData()||!gt(n)&&!e.getImmediateChild(vt(n)).isEmpty())?e.getChild(n):null}function yp(t){return 0===t.eventRegistrations_.length}function e0(t,n,e){const s=[];if(e){(0,V.hu)(null==n,"A cancel should cancel all event registrations.");const a=t.query._path;t.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,a);g&&s.push(g)})}if(n){let a=[];for(let d=0;d<t.eventRegistrations_.length;++d){const g=t.eventRegistrations_[d];if(g.matches(n)){if(n.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(d+1));break}}else a.push(g)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return s}function t0(t,n,e,s){n.type===Si.MERGE&&null!==n.source.queryId&&((0,V.hu)(Hl(t.viewCache_),"We should always have a full cache before handling merges"),(0,V.hu)(th(t.viewCache_),"Missing event cache, even though we have a server cache"));const a=t.viewCache_,d=function(t,n,e,s,a){const d=new sA;let g,v;if(e.type===Si.OVERWRITE){const A=e;A.source.fromUser?g=Kv(t,n,A.path,A.snap,s,a,d):((0,V.hu)(A.source.fromServer,"Unknown source."),v=A.source.tagged||n.serverCache.isFiltered()&&!gt(A.path),g=Hm(t,n,A.path,A.snap,s,a,v,d))}else if(e.type===Si.MERGE){const A=e;A.source.fromUser?g=function(t,n,e,s,a,d,g){let v=n;return s.foreach((w,A)=>{const O=wn(e,w);gE(n,vt(O))&&(v=Kv(t,v,O,A,a,d,g))}),s.foreach((w,A)=>{const O=wn(e,w);gE(n,vt(O))||(v=Kv(t,v,O,A,a,d,g))}),v}(t,n,A.path,A.children,s,a,d):((0,V.hu)(A.source.fromServer,"Unknown source."),v=A.source.tagged||n.serverCache.isFiltered(),g=$m(t,n,A.path,A.children,s,a,v,d))}else if(e.type===Si.ACK_USER_WRITE){const A=e;g=A.revert?function(t,n,e,s,a,d){let g;if(null!=Um(s,e))return n;{const v=new pE(s,n,a),w=n.eventCache.getNode();let A;if(gt(e)||".priority"===vt(e)){let O;if(n.serverCache.isFullyInitialized())O=Bm(s,Hl(n));else{const x=n.serverCache.getNode();(0,V.hu)(x instanceof ct,"serverChildren would be complete if leaf node"),O=hE(s,x)}O=O,A=t.filter.updateFullNode(w,O,d)}else{const O=vt(e);let x=ac(s,O,n.serverCache);null==x&&n.serverCache.isCompleteForChild(O)&&(x=w.getImmediateChild(O)),A=null!=x?t.filter.updateChild(w,O,x,dn(e),v,d):n.eventCache.getNode().hasChild(O)?t.filter.updateChild(w,O,ct.EMPTY_NODE,dn(e),v,d):w,A.isEmpty()&&n.serverCache.isFullyInitialized()&&(g=Bm(s,Hl(n)),g.isLeafNode()&&(A=t.filter.updateFullNode(A,g,d)))}return g=n.serverCache.isFullyInitialized()||null!=Um(s,jt()),Ul(n,A,g,t.filter.filtersNodes())}}(t,n,A.path,s,a,d):function(t,n,e,s,a,d,g){if(null!=Um(a,e))return n;const v=n.serverCache.isFiltered(),w=n.serverCache;if(null!=s.value){if(gt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return Hm(t,n,e,w.getNode().getChild(e),a,d,v,g);if(gt(e)){let A=new fn(null);return w.getNode().forEachChild(Ba,(O,x)=>{A=A.set(new Zt(O),x)}),$m(t,n,e,A,a,d,v,g)}return n}{let A=new fn(null);return s.foreach((O,x)=>{const j=wn(e,O);w.isCompleteForPath(j)&&(A=A.set(O,w.getNode().getChild(j)))}),$m(t,n,e,A,a,d,v,g)}}(t,n,A.path,A.affectedTree,s,a,d)}else{if(e.type!==Si.LISTEN_COMPLETE)throw(0,V.g5)("Unknown operation type: "+e.type);g=function(t,n,e,s,a){const d=n.serverCache;return cA(t,oE(n,d.getNode(),d.isFullyInitialized()||gt(e),d.isFiltered()),e,s,oA,a)}(t,n,e.path,s,d)}const w=d.getChanges();return function(t,n,e){const s=n.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=th(t);(e.length>0||!t.eventCache.isFullyInitialized()||a&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(BN(th(n)))}}(n,g,w),{viewCache:g,changes:w}}(t.processor_,a,n,e,s);return function(t,n){(0,V.hu)(n.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,V.hu)(n.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,d.viewCache),(0,V.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=d.viewCache,vE(t,d.changes,d.viewCache.eventCache.getNode(),null)}function vE(t,n,e,s){return function(t,n,e,s){const a=[],d=[];return n.forEach(g=>{"child_changed"===g.type&&t.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function(t,n){return{type:"child_moved",snapshotNode:n,childName:t}}(g.childName,g.snapshotNode))}),eh(t,a,"child_removed",n,s,e),eh(t,a,"child_added",n,s,e),eh(t,a,"child_moved",d,s,e),eh(t,a,"child_changed",n,s,e),eh(t,a,"value",n,s,e),a}(t.eventGenerator_,n,e,s?[s]:t.eventRegistrations_)}let vp,Ym;class bE{constructor(){this.views=new Map}}function r0(t,n,e,s){const a=n.source.queryId;if(null!==a){const d=t.views.get(a);return(0,V.hu)(null!=d,"SyncTree gave us an op for an invalid query."),t0(d,n,e,s)}{let d=[];for(const g of t.views.values())d=d.concat(t0(g,n,e,s));return d}}function Kr(t,n,e,s,a){const g=t.views.get(n._queryIdentifier);if(!g){let v=Bm(e,a?s:null),w=!1;v?w=!0:s instanceof ct?(v=hE(e,s),w=!1):(v=ct.EMPTY_NODE,w=!1);const A=Fm(new Bl(v,w,!1),new Bl(s,a,!1));return new yE(n,A)}return g}function s0(t){const n=[];for(const e of t.views.values())e.query._queryParams.loadsAllData()||n.push(e);return n}function Ks(t,n){let e=null;for(const s of t.views.values())e=e||Xv(s,n);return e}function Wm(t,n){return n._queryParams.loadsAllData()?zm(t):t.views.get(n._queryIdentifier)}function o0(t,n){return null!=Wm(t,n)}function Js(t){return null!=zm(t)}function zm(t){for(const n of t.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let CE=1;class wE{constructor(n){this.listenProvider_=n,this.syncPointTree_=new fn(null),this.pendingWriteTree_={visibleWrites:Ys.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function a0(t,n,e,s,a){return function(t,n,e,s,a){(0,V.hu)(s>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),t.allWrites.push({path:n,snap:e,writeId:s,visible:a}),a&&(t.visibleWrites=Lm(t.visibleWrites,n,e)),t.lastWriteId=s}(t.pendingWriteTree_,n,e,s,a),a?sh(t,new qo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,e)):[]}function pi(t,n,e=!1){const s=function(t,n){for(let e=0;e<t.allWrites.length;e++){const s=t.allWrites[e];if(s.writeId===n)return s}return null}(t.pendingWriteTree_,n);if(function(t,n){const e=t.allWrites.findIndex(v=>v.writeId===n);(0,V.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=t.allWrites[e];t.allWrites.splice(e,1);let a=s.visible,d=!1,g=t.allWrites.length-1;for(;a&&g>=0;){const v=t.allWrites[g];v.visible&&(g>=e&&mM(v,s.path)?a=!1:_s(s.path,v.path)&&(d=!0)),g--}return!!a&&(d?(function(t){t.visibleWrites=cE(t.allWrites,JN,jt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(s.snap?t.visibleWrites=aE(t.visibleWrites,s.path):hr(s.children,w=>{t.visibleWrites=aE(t.visibleWrites,wn(s.path,w))}),!0))}(t.pendingWriteTree_,n)){let d=new fn(null);return null!=s.snap?d=d.set(jt(),!0):hr(s.children,g=>{d=d.set(new Zt(g),!0)}),sh(t,new mp(s.path,d,e))}return[]}function Ua(t,n,e){return sh(t,new qo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,e))}function u0(t,n,e,s){const a=n._path,d=t.syncPointTree_.get(a);let g=[];if(d&&("default"===n._queryIdentifier||o0(d,n))){const v=function(t,n,e,s){const a=n._queryIdentifier,d=[];let g=[];const v=Js(t);if("default"===a)for(const[w,A]of t.views.entries())g=g.concat(e0(A,e,s)),yp(A)&&(t.views.delete(w),A.query._queryParams.loadsAllData()||d.push(A.query));else{const w=t.views.get(a);w&&(g=g.concat(e0(w,e,s)),yp(w)&&(t.views.delete(a),w.query._queryParams.loadsAllData()||d.push(w.query)))}return v&&!Js(t)&&d.push(new((0,V.hu)(vp,"Reference.ts has not been loaded"),vp)(n._repo,n._path)),{removed:d,events:g}}(d,n,e,s);(function(t){return 0===t.views.size})(d)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const w=v.removed;g=v.events;const A=-1!==w.findIndex(x=>x._queryParams.loadsAllData()),O=t.syncPointTree_.findOnPath(a,(x,j)=>Js(j));if(A&&!O){const x=t.syncPointTree_.subtree(a);if(!x.isEmpty()){const j=function(t){return t.fold((n,e,s)=>{if(e&&Js(e))return[zm(e)];{let a=[];return e&&(a=s0(e)),hr(s,(d,g)=>{a=a.concat(g)}),a}})}(x);for(let X=0;X<j.length;++X){const me=j[X],Ae=me.query,He=oh(t,me);t.listenProvider_.startListening(ah(Ae),Ha(t,Ae),He.hashFn,He.onComplete)}}}if(!O&&w.length>0&&!s)if(A){const x=null;t.listenProvider_.stopListening(ah(n),x)}else w.forEach(x=>{const j=t.queryToTagMap.get(lc(x));t.listenProvider_.stopListening(ah(x),j)});!function(t,n){for(let e=0;e<n.length;++e){const s=n[e];if(!s._queryParams.loadsAllData()){const a=lc(s),d=t.queryToTagMap.get(a);t.queryToTagMap.delete(a),t.tagToQueryMap.delete(d)}}}(t,w)}return g}function d0(t,n,e){const s=n._path;let a=null,d=!1;t.syncPointTree_.foreachOnPath(s,(x,j)=>{const X=Kn(x,s);a=a||Ks(j,X),d=d||Js(j)});let v,g=t.syncPointTree_.get(s);g?(d=d||Js(g),a=a||Ks(g,jt())):(g=new bE,t.syncPointTree_=t.syncPointTree_.set(s,g)),null!=a?v=!0:(v=!1,a=ct.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((j,X)=>{const me=Ks(X,jt());me&&(a=a.updateImmediateChild(j,me))}));const w=o0(g,n);if(!w&&!n._queryParams.loadsAllData()){const x=lc(n);(0,V.hu)(!t.queryToTagMap.has(x),"View does not exist, but we have a tag");const j=CE++;t.queryToTagMap.set(x,j),t.tagToQueryMap.set(j,x)}let O=function(t,n,e,s,a,d){const g=Kr(t,n,s,a,d);return t.views.has(n._queryIdentifier)||t.views.set(n._queryIdentifier,g),function(t,n){t.eventRegistrations_.push(n)}(g,e),function(t,n){const e=t.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(hn,(d,g)=>{s.push(Jd(d,g))}),e.isFullyInitialized()&&s.push(BN(e.getNode())),vE(t,s,e.getNode(),n)}(g,e)}(g,n,e,Vm(t.pendingWriteTree_,s),a,v);if(!w&&!d){const x=Wm(g,n);O=O.concat(function(t,n,e){const s=n._path,a=Ha(t,n),d=oh(t,e),g=t.listenProvider_.startListening(ah(n),a,d.hashFn,d.onComplete),v=t.syncPointTree_.subtree(s);if(a)(0,V.hu)(!Js(v.value),"If we're adding a query, it shouldn't be shadowed");else{const w=v.fold((A,O,x)=>{if(!gt(A)&&O&&Js(O))return[zm(O).query];{let j=[];return O&&(j=j.concat(s0(O).map(X=>X.query))),hr(x,(X,me)=>{j=j.concat(me)}),j}});for(let A=0;A<w.length;++A){const O=w[A];t.listenProvider_.stopListening(ah(O),Ha(t,O))}}return g}(t,n,x))}return O}function Cp(t,n,e){const a=t.pendingWriteTree_,d=t.syncPointTree_.findOnPath(n,(g,v)=>{const A=Ks(v,Kn(g,n));if(A)return A});return dE(a,n,d,e,!0)}function sh(t,n){return EE(n,t.syncPointTree_,null,Vm(t.pendingWriteTree_,jt()))}function EE(t,n,e,s){if(gt(t.path))return Ko(t,n,e,s);{const a=n.get(jt());null==e&&null!=a&&(e=Ks(a,jt()));let d=[];const g=vt(t.path),v=t.operationForChild(g),w=n.children.get(g);if(w&&v){const A=e?e.getImmediateChild(g):null,O=Zv(s,g);d=d.concat(EE(v,w,A,O))}return a&&(d=d.concat(r0(a,t,s,e))),d}}function Ko(t,n,e,s){const a=n.get(jt());null==e&&null!=a&&(e=Ks(a,jt()));let d=[];return n.children.inorderTraversal((g,v)=>{const w=e?e.getImmediateChild(g):null,A=Zv(s,g),O=t.operationForChild(g);O&&(d=d.concat(Ko(O,v,w,A)))}),a&&(d=d.concat(r0(a,t,s,e))),d}function oh(t,n){const e=n.query,s=Ha(t,e);return{hashFn:()=>(function(t){return t.viewCache_.serverCache.getNode()}(n)||ct.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function(t,n,e){const s=jl(t,e);if(s){const a=h0(s),d=a.path,g=a.queryId,v=Kn(d,n);return f0(t,d,new _p(Pm(g),v))}return[]}(t,e._path,s):function(t,n){return sh(t,new _p({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n))}(t,e._path);{const d=function(t,n){let e="Unknown Error";"too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?e="Client doesn't have permission to access the desired data.":"unavailable"===t&&(e="The service is unavailable");const s=new Error(t+" at "+n._path.toString()+": "+e);return s.code=t.toUpperCase(),s}(a,e);return u0(t,e,null,d)}}}}function Ha(t,n){const e=lc(n);return t.queryToTagMap.get(e)}function lc(t){return t._path.toString()+"$"+t._queryIdentifier}function jl(t,n){return t.tagToQueryMap.get(n)}function h0(t){const n=t.indexOf("$");return(0,V.hu)(-1!==n&&n<t.length-1,"Bad queryKey."),{queryId:t.substr(n+1),path:new Zt(t.substr(0,n))}}function f0(t,n,e){const s=t.syncPointTree_.get(n);return(0,V.hu)(s,"Missing sync point for query tag that we're tracking"),r0(s,e,Vm(t.pendingWriteTree_,n),null)}function ah(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,V.hu)(Ym,"Reference.ts has not been loaded"),Ym)(t._repo,t._path):t}class wp{constructor(n){this.node_=n}getImmediateChild(n){const e=this.node_.getImmediateChild(n);return new wp(e)}node(){return this.node_}}class p0{constructor(n,e){this.syncTree_=n,this.path_=e}getImmediateChild(n){const e=wn(this.path_,n);return new p0(this.syncTree_,e)}node(){return Cp(this.syncTree_,this.path_)}}const g0=function(t,n,e){return t&&"object"==typeof t?((0,V.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?uc(t[".sv"],n,e):"object"==typeof t[".sv"]?m0(t[".sv"],n):void(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},uc=function(t,n,e){switch(t){case"timestamp":return e.timestamp;default:(0,V.hu)(!1,"Unexpected server value: "+t)}},m0=function(t,n,e){t.hasOwnProperty("increment")||(0,V.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const s=t.increment;"number"!=typeof s&&(0,V.hu)(!1,"Unexpected increment value: "+s);const a=n.node();if((0,V.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},NE=function(t,n,e,s){return AE(n,new p0(e,t),s)},_0=function(t,n,e){return AE(t,new wp(n),e)};function AE(t,n,e){const s=t.getPriority().val(),a=g0(s,n.getImmediateChild(".priority"),e);let d;if(t.isLeafNode()){const g=t,v=g0(g.getValue(),n,e);return v!==g.getValue()||a!==g.getPriority().val()?new Yd(v,En(a)):t}{const g=t;return d=g,a!==g.getPriority().val()&&(d=d.updatePriority(new Yd(a))),g.forEachChild(hn,(v,w)=>{const A=AE(w,n.getImmediateChild(v),e);A!==w&&(d=d.updateImmediateChild(v,A))}),d}}class SE{constructor(n="",e=null,s={children:{},childCount:0}){this.name=n,this.parent=e,this.node=s}}function y0(t,n){let e=n instanceof Zt?n:new Zt(n),s=t,a=vt(e);for(;null!==a;){const d=(0,V.DV)(s.node.children,a)||{children:{},childCount:0};s=new SE(a,s,d),e=dn(e),a=vt(e)}return s}function lh(t){return t.node.value}function v0(t,n){t.node.value=n,RE(t)}function ME(t){return t.node.childCount>0}function b0(t,n){hr(t.node.children,(e,s)=>{n(new SE(e,t,s))})}function TA(t,n,e,s){e&&!s&&n(t),b0(t,a=>{TA(a,n,!0,s)}),e&&s&&n(t)}function Ep(t){return new Zt(null===t.parent?t.name:Ep(t.parent)+"/"+t.name)}function RE(t){null!==t.parent&&function(t,n,e){const s=function(t){return void 0===lh(t)&&!ME(t)}(e),a=(0,V.r3)(t.node.children,n);s&&a?(delete t.node.children[n],t.node.childCount--,RE(t)):!s&&!a&&(t.node.children[n]=e.node,t.node.childCount++,RE(t))}(t.parent,t.name,t)}const wM=/[\[\].#$\/\u0000-\u001F\u007F]/,EM=/[\[\].#$\u0000-\u001F\u007F]/,r=10485760,i=function(t){return"string"==typeof t&&0!==t.length&&!wM.test(t)},o=function(t){return"string"==typeof t&&0!==t.length&&!EM.test(t)},c=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Ud(t)||t&&"object"==typeof t&&(0,V.r3)(t,".sv")},h=function(t,n,e,s){s&&void 0===n||m((0,V.gK)(t,"value"),n,e)},m=function(t,n,e){const s=e instanceof Zt?new Pv(e,t):e;if(void 0===n)throw new Error(t+"contains undefined "+Gd(s));if("function"==typeof n)throw new Error(t+"contains a function "+Gd(s)+" with contents = "+n.toString());if(Ud(n))throw new Error(t+"contains "+n.toString()+" "+Gd(s));if("string"==typeof n&&n.length>r/3&&(0,V.ug)(n)>r)throw new Error(t+"contains a string greater than "+r+" utf8 bytes "+Gd(s)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){let a=!1,d=!1;if(hr(n,(g,v)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!i(g)))throw new Error(t+" contains an invalid key ("+g+") "+Gd(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(t,n){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(n),t.byteLength_+=(0,V.ug)(n),Fv(t)})(s,g),m(t,v,s),function(t){const n=t.parts_.pop();t.byteLength_-=(0,V.ug)(n),t.parts_.length>0&&(t.byteLength_-=1)}(s)}),a&&d)throw new Error(t+' contains ".value" child '+Gd(s)+" in addition to actual children.")}},C=function(t,n,e,s){if(s&&void 0===n)return;const a=(0,V.gK)(t,"values");if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");const d=[];hr(n,(g,v)=>{const w=new Zt(g);if(m(a,v,wn(e,w)),".priority"===B1(w)&&!c(v))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(w)}),function(t,n){let e,s;for(e=0;e<n.length;e++){s=n[e];const d=op(s);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!i(d[g]))throw new Error(t+"contains an invalid key ("+d[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}n.sort(U1);let a=null;for(e=0;e<n.length;e++){if(s=n[e],null!==a&&_s(a,s))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,d)},D=function(t,n,e){if(!e||void 0!==n){if(Ud(n))throw new Error((0,V.gK)(t,"priority")+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!c(n))throw new Error((0,V.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},N=function(t,n,e,s){if(!(s&&void 0===e||i(e)))throw new Error((0,V.gK)(t,n)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},R=function(t,n,e,s){if(!(s&&void 0===e||o(e)))throw new Error((0,V.gK)(t,n)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},H=function(t,n){if(".info"===vt(n))throw new Error(t+" failed = Can't modify data under /.info/")},Z=function(t,n){const e=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!i(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==e.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),o(t)}(e))throw new Error((0,V.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ne(t,n){let e=null;for(let s=0;s<n.length;s++){const a=n[s],d=a.getPath();null!==e&&!Ov(d,e.path)&&(t.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&t.eventLists_.push(e)}function Te(t,n,e){ne(t,e),Ue(t,s=>Ov(s,n))}function fe(t,n,e){ne(t,e),Ue(t,s=>_s(s,n)||_s(n,s))}function Ue(t,n){t.recursionDepth_++;let e=!0;for(let s=0;s<t.eventLists_.length;s++){const a=t.eventLists_[s];a&&(n(a.path)?(Ke(t.eventLists_[s]),t.eventLists_[s]=null):e=!1)}e&&(t.eventLists_=[]),t.recursionDepth_--}function Ke(t){for(let n=0;n<t.events.length;n++){const e=t.events[n];if(null!==e){t.events[n]=null;const s=e.getEventRunner();qr&&Dr("event: "+e.toString()),rp(s)}}}const Dt="repo_interrupt";class ys{constructor(n,e,s,a){this.repoInfo_=n,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gp(),this.transactionQueueTree_=new SE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function cc(t){const e=t.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Jo(t){return function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t}({timestamp:cc(t)})}function dc(t,n,e,s,a){t.dataUpdateCount++;const d=new Zt(n);e=t.interceptServerDataCallback_?t.interceptServerDataCallback_(n,e):e;let g=[];if(a)if(s){const w=(0,V.UI)(e,A=>En(A));g=function(t,n,e,s){const a=jl(t,s);if(a){const d=h0(a),g=d.path,v=d.queryId,w=Kn(g,n),A=fn.fromObject(e);return f0(t,g,new Xd(Pm(v),w,A))}return[]}(t.serverSyncTree_,d,w,a)}else{const w=En(e);g=function(t,n,e,s){const a=jl(t,s);if(null!=a){const d=h0(a),g=d.path,v=d.queryId,w=Kn(g,n);return f0(t,g,new qo(Pm(v),w,e))}return[]}(t.serverSyncTree_,d,w,a)}else if(s){const w=(0,V.UI)(e,A=>En(A));g=function(t,n,e){const s=fn.fromObject(e);return sh(t,new Xd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},n,s))}(t.serverSyncTree_,d,w)}else{const w=En(e);g=Ua(t.serverSyncTree_,d,w)}let v=d;g.length>0&&(v=Km(t,d)),fe(t.eventQueue_,v,g)}function Zm(t,n){Tp(t,"connected",n),!1===n&&function(t){qm(t,"onDisconnectEvents");const n=Jo(t),e=gp();jv(t.onDisconnect_,jt(),(a,d)=>{const g=NE(a,d,t.serverSyncTree_,n);sc(e,a,g)});let s=[];jv(e,jt(),(a,d)=>{s=s.concat(Ua(t.serverSyncTree_,a,d));const g=SA(t,a);Km(t,g)}),t.onDisconnect_=gp(),fe(t.eventQueue_,jt(),s)}(t)}function Tp(t,n,e){const s=new Zt("/.info/"+n),a=En(e);t.infoData_.updateSnapshot(s,a);const d=Ua(t.infoSyncTree_,s,a);fe(t.eventQueue_,s,d)}function uh(t){return t.nextWriteId_++}function IA(t,n,e,s,a){qm(t,"set",{path:n.toString(),value:e,priority:s});const d=Jo(t),g=En(e,s),v=Cp(t.serverSyncTree_,n),w=_0(g,v,d),A=uh(t),O=a0(t.serverSyncTree_,n,w,A,!0);ne(t.eventQueue_,O),t.server_.put(n.toString(),g.val(!0),(j,X)=>{const me="ok"===j;me||Vr("set at "+n+" failed: "+j);const Ae=pi(t.serverSyncTree_,A,!me);fe(t.eventQueue_,n,Ae),ch(0,a,j,X)});const x=SA(t,n);Km(t,x),fe(t.eventQueue_,x,[])}function yR(t,n,e){t.server_.onDisconnectCancel(n.toString(),(s,a)=>{"ok"===s&&$v(t.onDisconnect_,n),ch(0,e,s,a)})}function DM(t,n,e,s){const a=En(e);t.server_.onDisconnectPut(n.toString(),a.val(!0),(d,g)=>{"ok"===d&&sc(t.onDisconnect_,n,a),ch(0,s,d,g)})}function NA(t,n,e){let s;s=".info"===vt(n._path)?u0(t.infoSyncTree_,n,e):u0(t.serverSyncTree_,n,e),Te(t.eventQueue_,n._path,s)}function TM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Dt)}function qm(t,...n){let e="";t.persistentConnection_&&(e=t.persistentConnection_.id+":"),Dr(e,...n)}function ch(t,n,e,s){n&&rp(()=>{if("ok"===e)n(null);else{const a=(e||"error").toUpperCase();let d=a;s&&(d+=": "+s);const g=new Error(d);g.code=a,n(g)}})}function AA(t,n,e){return Cp(t.serverSyncTree_,n,e)||ct.EMPTY_NODE}function kE(t,n=t.transactionQueueTree_){if(n||xE(t,n),lh(n)){const e=NM(t,n);(0,V.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function(t,n,e){const s=e.map(A=>A.currentWriteId),a=AA(t,n,s);let d=a;const g=a.hash();for(let A=0;A<e.length;A++){const O=e[A];(0,V.hu)(0===O.status,"tryToSendTransactionQueue_: items in queue should all be run."),O.status=1,O.retryCount++;const x=Kn(n,O.path);d=d.updateChild(x,O.currentOutputSnapshotRaw)}const v=d.val(!0),w=n;t.server_.put(w.toString(),v,A=>{qm(t,"transaction put response",{path:w.toString(),status:A});let O=[];if("ok"===A){const x=[];for(let j=0;j<e.length;j++)e[j].status=2,O=O.concat(pi(t.serverSyncTree_,e[j].currentWriteId)),e[j].onComplete&&x.push(()=>e[j].onComplete(null,!0,e[j].currentOutputSnapshotResolved)),e[j].unwatcher();xE(t,y0(t.transactionQueueTree_,n)),kE(t,t.transactionQueueTree_),fe(t.eventQueue_,n,O);for(let j=0;j<x.length;j++)rp(x[j])}else{if("datastale"===A)for(let x=0;x<e.length;x++)e[x].status=3===e[x].status?4:0;else{Vr("transaction at "+w.toString()+" failed: "+A);for(let x=0;x<e.length;x++)e[x].status=4,e[x].abortReason=A}Km(t,n)}},g)}(t,Ep(n),e)}else ME(n)&&b0(n,e=>{kE(t,e)})}function Km(t,n){const e=IM(t,n),s=Ep(e);return function(t,n,e){if(0===n.length)return;const s=[];let a=[];const g=n.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<n.length;v++){const w=n[v],A=Kn(e,w.path);let x,O=!1;if((0,V.hu)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)O=!0,x=w.abortReason,a=a.concat(pi(t.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)O=!0,x="maxretry",a=a.concat(pi(t.serverSyncTree_,w.currentWriteId,!0));else{const j=AA(t,w.path,g);w.currentInputSnapshot=j;const X=n[v].update(j.val());if(void 0!==X){m("transaction failed: Data returned ",X,w.path);let me=En(X);"object"==typeof X&&null!=X&&(0,V.r3)(X,".priority")||(me=me.updatePriority(j.getPriority()));const He=w.currentWriteId,xt=Jo(t),nt=_0(me,j,xt);w.currentOutputSnapshotRaw=me,w.currentOutputSnapshotResolved=nt,w.currentWriteId=uh(t),g.splice(g.indexOf(He),1),a=a.concat(a0(t.serverSyncTree_,w.path,nt,w.currentWriteId,w.applyLocally)),a=a.concat(pi(t.serverSyncTree_,He,!0))}else O=!0,x="nodata",a=a.concat(pi(t.serverSyncTree_,w.currentWriteId,!0))}fe(t.eventQueue_,e,a),a=[],O&&(n[v].status=2,setTimeout(n[v].unwatcher,Math.floor(0)),n[v].onComplete&&s.push("nodata"===x?()=>n[v].onComplete(null,!1,n[v].currentInputSnapshot):()=>n[v].onComplete(new Error(x),!1,null)))}xE(t,t.transactionQueueTree_);for(let v=0;v<s.length;v++)rp(s[v]);kE(t,t.transactionQueueTree_)}(t,NM(t,e),s),s}function IM(t,n){let e,s=t.transactionQueueTree_;for(e=vt(n);null!==e&&void 0===lh(s);)s=y0(s,e),e=vt(n=dn(n));return s}function NM(t,n){const e=[];return AM(t,n,e),e.sort((s,a)=>s.order-a.order),e}function AM(t,n,e){const s=lh(n);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);b0(n,a=>{AM(t,a,e)})}function xE(t,n){const e=lh(n);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,v0(n,e.length>0?e:void 0)}b0(n,s=>{xE(t,s)})}function SA(t,n){const e=Ep(IM(t,n)),s=y0(t.transactionQueueTree_,n);return function(t,n,e){let s=t.parent;for(;null!==s;){if(n(s))return!0;s=s.parent}}(s,a=>{MA(t,a)}),MA(t,s),TA(s,a=>{MA(t,a)}),e}function MA(t,n){const e=lh(n);if(e){const s=[];let a=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,V.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,V.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(pi(t.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?v0(n,void 0):e.length=d+1,fe(t.eventQueue_,Ep(n),a);for(let g=0;g<s.length;g++)rp(s[g])}}const RA=function(t,n){const e=AR(t),s=e.namespace;return"firebase.com"===e.domain&&ms(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&ms("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Vr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new sp(e.host,e.secure,s,n,"ws"===e.scheme||"wss"===e.scheme,"",s!==e.subdomain),path:new Zt(e.pathString)}},AR=function(t){let n="",e="",s="",a="",d="",g=!0,v="https",w=443;if("string"==typeof t){let A=t.indexOf("//");A>=0&&(v=t.substring(0,A-1),t=t.substring(A+2));let O=t.indexOf("/");-1===O&&(O=t.length);let x=t.indexOf("?");-1===x&&(x=t.length),n=t.substring(0,Math.min(O,x)),O<x&&(a=function(t){let n="";const e=t.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(d){}n+="/"+a}return n}(t.substring(O,x)));const j=function(t){const n={};"?"===t.charAt(0)&&(t=t.substring(1));for(const e of t.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Vr(`Invalid query segment '${e}' in query '${t}'`)}return n}(t.substring(Math.min(t.length,x)));A=n.indexOf(":"),A>=0?(g="https"===v||"wss"===v,w=parseInt(n.substring(A+1),10)):A=n.length;const X=n.slice(0,A);if("localhost"===X.toLowerCase())e="localhost";else if(X.split(".").length<=2)e=X;else{const me=n.indexOf(".");s=n.substring(0,me).toLowerCase(),e=n.substring(me+1),d=s}"ns"in j&&(d=j.ns)}return{host:n,port:w,domain:e,subdomain:s,secure:g,scheme:v,pathString:a,namespace:d}};class SM{constructor(n,e,s,a){this.eventType=n,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const n=this.snapshot.ref;return"value"===this.eventType?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,V.Pz)(this.snapshot.exportVal())}}class MM{constructor(n,e,s){this.eventRegistration=n,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class RM{constructor(n,e){this.snapshotCallback=n,this.cancelCallback=e}onValue(n,e){this.snapshotCallback.call(null,n,e)}onCancel(n){return(0,V.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class kM{constructor(n,e){this._repo=n,this._path=e}cancel(){const n=new V.BH;return yR(this._repo,this._path,n.wrapCallback(()=>{})),n.promise}remove(){H("OnDisconnect.remove",this._path);const n=new V.BH;return DM(this._repo,this._path,null,n.wrapCallback(()=>{})),n.promise}set(n){H("OnDisconnect.set",this._path),h("OnDisconnect.set",n,this._path,!1);const e=new V.BH;return DM(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}setWithPriority(n,e){H("OnDisconnect.setWithPriority",this._path),h("OnDisconnect.setWithPriority",n,this._path,!1),D("OnDisconnect.setWithPriority",e,!1);const s=new V.BH;return function(t,n,e,s,a){const d=En(e,s);t.server_.onDisconnectPut(n.toString(),d.val(!0),(g,v)=>{"ok"===g&&sc(t.onDisconnect_,n,d),ch(0,a,g,v)})}(this._repo,this._path,n,e,s.wrapCallback(()=>{})),s.promise}update(n){H("OnDisconnect.update",this._path),C("OnDisconnect.update",n,this._path,!1);const e=new V.BH;return function(t,n,e,s){if((0,V.xb)(e))return Dr("onDisconnect().update() called with empty data.  Don't do anything."),void ch(0,s,"ok",void 0);t.server_.onDisconnectMerge(n.toString(),e,(a,d)=>{"ok"===a&&hr(e,(g,v)=>{const w=En(v);sc(t.onDisconnect_,wn(n,g),w)}),ch(0,s,a,d)})}(this._repo,this._path,n,e.wrapCallback(()=>{})),e.promise}}class vs{constructor(n,e,s,a){this._repo=n,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return gt(this._path)?null:B1(this._path)}get ref(){return new Qo(this._repo,this._path)}get _queryIdentifier(){const n=jN(this._queryParams),e=tp(n);return"{}"===e?"default":e}get _queryObject(){return jN(this._queryParams)}isEqual(n){if(!((n=(0,V.m9)(n))instanceof vs))return!1;const e=this._repo===n._repo,s=Ov(this._path,n._path);return e&&s&&this._queryIdentifier===n._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(t){let n="";for(let e=t.pieceNum_;e<t.pieces_.length;e++)""!==t.pieces_[e]&&(n+="/"+encodeURIComponent(String(t.pieces_[e])));return n||"/"}(this._path)}}function OE(t,n){if(!0===t._orderByCalled)throw new Error(n+": You can't combine multiple orderBy calls.")}function dh(t){let n=null,e=null;if(t.hasStart()&&(n=t.getIndexStartValue()),t.hasEnd()&&(e=t.getIndexEndValue()),t.getIndex()===Ba){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Va)throw new Error(s);if("string"!=typeof n)throw new Error(a)}if(t.hasEnd()){if(t.getIndexEndName()!==zo)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(t.getIndex()===hn){if(null!=n&&!c(n)||null!=e&&!c(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,V.hu)(t.getIndex()instanceof up||t.getIndex()===Zi,"unknown index type."),null!=n&&"object"==typeof n||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function PE(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Qo extends vs{constructor(n,e){super(n,e,new hp,!1)}get parent(){const n=AN(this._path);return null===n?null:new Qo(this._repo,n)}get root(){let n=this;for(;null!==n.parent;)n=n.parent;return n}}class Ip{constructor(n,e,s){this._node=n,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const e=new Zt(n),s=Np(this.ref,n);return new Ip(this._node.getChild(e),s,hn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>n(new Ip(a,Np(this.ref,s),hn)))}hasChild(n){const e=new Zt(n);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xM(t,n){return(t=(0,V.m9)(t))._checkNotDeleted("ref"),void 0!==n?Np(t._root,n):t._root}function OM(t,n){(t=(0,V.m9)(t))._checkNotDeleted("refFromURL");const e=RA(n,t._repo.repoInfo_.nodeAdmin);Z("refFromURL",e);const s=e.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&s.host!==t._repo.repoInfo_.host&&ms("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+t._repo.repoInfo_.host+")"),xM(t,e.path.toString())}function Np(t,n){return null===vt((t=(0,V.m9)(t))._path)?((e=n)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),R("child","path",e,!1)):R("child","path",n,!1),new Qo(t._repo,wn(t._path,n));var e}function kA(t,n){t=(0,V.m9)(t),H("set",t._path),h("set",n,t._path,!1);const e=new V.BH;return IA(t._repo,t._path,n,null,e.wrapCallback(()=>{})),e.promise}function xR(t,n){C("update",n,t._path,!1);const e=new V.BH;return function(t,n,e,s){qm(t,"update",{path:n.toString(),value:e});let a=!0;const d=Jo(t),g={};if(hr(e,(v,w)=>{a=!1,g[v]=NE(wn(n,v),En(w),t.serverSyncTree_,d)}),a)Dr("update() called with empty data.  Don't do anything."),ch(0,s,"ok",void 0);else{const v=uh(t),w=function(t,n,e,s){!function(t,n,e,s){(0,V.hu)(s>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:n,children:e,writeId:s,visible:!0}),t.visibleWrites=nh(t.visibleWrites,n,e),t.lastWriteId=s}(t.pendingWriteTree_,n,e,s);const a=fn.fromObject(e);return sh(t,new Xd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},n,a))}(t.serverSyncTree_,n,g,v);ne(t.eventQueue_,w),t.server_.merge(n.toString(),e,(A,O)=>{const x="ok"===A;x||Vr("update at "+n+" failed: "+A);const j=pi(t.serverSyncTree_,v,!x),X=j.length>0?Km(t,n):n;fe(t.eventQueue_,X,j),ch(0,s,A,O)}),hr(e,A=>{const O=SA(t,wn(n,A));Km(t,O)}),fe(t.eventQueue_,n,[])}}(t._repo,t._path,n,e.wrapCallback(()=>{})),e.promise}function OR(t){return function(t,n){const e=function(t,n){const e=n._path;let s=null;t.syncPointTree_.foreachOnPath(e,(A,O)=>{const x=Kn(A,e);s=s||Ks(O,x)});let a=t.syncPointTree_.get(e);a?s=s||Ks(a,jt()):(a=new bE,t.syncPointTree_=t.syncPointTree_.set(e,a));const d=null!=s,g=d?new Bl(s,!0,!1):null;return function(t){return th(t.viewCache_)}(Kr(a,n,Vm(t.pendingWriteTree_,n._path),d?g.getNode():ct.EMPTY_NODE,d))}(t.serverSyncTree_,n);return null!=e?Promise.resolve(e):t.server_.get(n).then(s=>{const a=En(s).withIndex(n._queryParams.getIndex()),d=Ua(t.serverSyncTree_,n._path,a);return Te(t.eventQueue_,n._path,d),Promise.resolve(a)},s=>(qm(t,"get for query "+(0,V.Pz)(n)+" failed: "+s),Promise.reject(new Error(s))))}((t=(0,V.m9)(t))._repo,t).then(n=>new Ip(n,new Qo(t._repo,t._path),t._queryParams.getIndex()))}class FE{constructor(n){this.callbackContext=n}respondsTo(n){return"value"===n}createEvent(n,e){const s=e._queryParams.getIndex();return new SM("value",this,new Ip(n.snapshotNode,new Qo(e._repo,e._path),s))}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new MM(this,n,e):null}matches(n){return n instanceof FE&&(!n.callbackContext||!this.callbackContext||n.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class LE{constructor(n,e){this.eventType=n,this.callbackContext=e}respondsTo(n){let e="children_added"===n?"child_added":n;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(n,e){return this.callbackContext.hasCancelCallback?new MM(this,n,e):null}createEvent(n,e){(0,V.hu)(null!=n.childName,"Child events should have a childName.");const s=Np(new Qo(e._repo,e._path),n.childName),a=e._queryParams.getIndex();return new SM(n.type,this,new Ip(n.snapshotNode,s,a),n.prevName)}getEventRunner(n){return"cancel"===n.getEventType()?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,n.prevName)}matches(n){return n instanceof LE&&this.eventType===n.eventType&&(!this.callbackContext||!n.callbackContext||this.callbackContext.matches(n.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function E0(t,n,e,s,a){let d;if("object"==typeof s&&(d=void 0,a=s),"function"==typeof s&&(d=s),a&&a.onlyOnce){const w=e,A=(O,x)=>{NA(t._repo,t,v),w(O,x)};A.userCallback=e.userCallback,A.context=e.context,e=A}const g=new RM(e,d||void 0),v="value"===n?new FE(g):new LE(n,g);return function(t,n,e){let s;s=".info"===vt(n._path)?d0(t.infoSyncTree_,n,e):d0(t.serverSyncTree_,n,e),Te(t.eventQueue_,n._path,s)}(t._repo,t,v),()=>NA(t._repo,t,v)}function xA(t,n,e,s){return E0(t,"value",n,e,s)}function PM(t,n,e,s){return E0(t,"child_added",n,e,s)}function FM(t,n,e,s){return E0(t,"child_changed",n,e,s)}function LM(t,n,e,s){return E0(t,"child_moved",n,e,s)}function VM(t,n,e,s){return E0(t,"child_removed",n,e,s)}function BM(t,n,e){let s=null;const a=e?new RM(e):null;"value"===n?s=new FE(a):n&&(s=new LE(n,a)),NA(t._repo,t,s)}class $a{}class UM extends $a{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){h("endAt",this._value,n._path,!0);const e=pp(n._queryParams,this._value,this._key);if(PE(e),dh(e),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vs(n._repo,n._path,e,n._orderByCalled)}}class FR extends $a{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){h("endBefore",this._value,n._path,!1);const e=function(t,n,e){let s,a;return t.index_===Ba?("string"==typeof n&&(n=eE(n)),a=pp(t,n,e)):(s=null==e?Va:eE(e),a=pp(t,n,s)),a.endBeforeSet_=!0,a}(n._queryParams,this._value,this._key);if(PE(e),dh(e),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new vs(n._repo,n._path,e,n._orderByCalled)}}class HM extends $a{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){h("startAt",this._value,n._path,!0);const e=xm(n._queryParams,this._value,this._key);if(PE(e),dh(e),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new vs(n._repo,n._path,e,n._orderByCalled)}}class BR extends $a{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){h("startAfter",this._value,n._path,!1);const e=function(t,n,e){let s;if(t.index_===Ba)"string"==typeof n&&(n=X1(n)),s=xm(t,n,e);else{let a;a=null==e?zo:X1(e),s=xm(t,n,a)}return s.startAfterSet_=!0,s}(n._queryParams,this._value,this._key);if(PE(e),dh(e),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new vs(n._repo,n._path,e,n._orderByCalled)}}class HR extends $a{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new vs(n._repo,n._path,function(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="l",e}(n._queryParams,this._limit),n._orderByCalled)}}class jR extends $a{constructor(n){super(),this._limit=n}_apply(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new vs(n._repo,n._path,function(t,n){const e=t.copy();return e.limitSet_=!0,e.limit_=n,e.viewFrom_="r",e}(n._queryParams,this._limit),n._orderByCalled)}}class WR extends $a{constructor(n){super(),this._path=n}_apply(n){OE(n,"orderByChild");const e=new Zt(this._path);if(gt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new up(e),a=Om(n._queryParams,s);return dh(a),new vs(n._repo,n._path,a,!0)}}class YR extends $a{_apply(n){OE(n,"orderByKey");const e=Om(n._queryParams,Ba);return dh(e),new vs(n._repo,n._path,e,!0)}}class qR extends $a{_apply(n){OE(n,"orderByPriority");const e=Om(n._queryParams,hn);return dh(e),new vs(n._repo,n._path,e,!0)}}class JR extends $a{_apply(n){OE(n,"orderByValue");const e=Om(n._queryParams,Zi);return dh(e),new vs(n._repo,n._path,e,!0)}}class XR extends $a{constructor(n,e){super(),this._value=n,this._key=e}_apply(n){if(h("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new UM(this._value,this._key)._apply(new HM(this._value,this._key)._apply(n))}}function ja(t,...n){let e=(0,V.m9)(t);for(const s of n)e=s._apply(e);return e}(function(t){(0,V.hu)(!vp,"__referenceConstructor has already been defined"),vp=t})(Qo),function(t){(0,V.hu)(!Ym,"__referenceConstructor has already been defined"),Ym=t}(Qo);const OA={};function jM(t,n,e,s,a){let d=s||t.options.databaseURL;void 0===d&&(t.options.projectId||ms("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Dr("Using default host for project ",t.options.projectId),d=`${t.options.projectId}-default-rtdb.firebaseio.com`);let w,A,g=RA(d,a),v=g.repoInfo;"undefined"!=typeof process&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(w=!0,d=`http://${A}?ns=${v.namespace}`,g=RA(d,a),v=g.repoInfo):w=!g.repoInfo.secure;const O=a&&w?new Cm(Cm.OWNER):new hN(t.name,t.options,n);Z("Invalid Firebase Database URL",g),gt(g.path)||ms("Database URL must point to the root of a Firebase Database (not including a child path).");const x=function(t,n,e,s){let a=OA[n.name];a||(a={},OA[n.name]=a);let d=a[t.toURLString()];return d&&ms("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new ys(t,false,e,s),a[t.toURLString()]=d,d}(v,t,O,new dN(t.name,e));return new ok(x,t)}class ok{constructor(n,e){this._repoInternal=n,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(t,n,e){if(t.stats_=Tm(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Hv(t.repoInfo_,(s,a,d,g)=>{dc(t,s,a,d,g)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Zm(t,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,V.Pz)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new rc(t.repoInfo_,n,(s,a,d,g)=>{dc(t,s,a,d,g)},s=>{Zm(t,s)},s=>{!function(t,n){hr(n,(e,s)=>{Tp(t,e,s)})}(t,s)},t.authTokenProvider_,t.appCheckProvider_,e),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(s=>{t.server_.refreshAuthToken(s)}),t.appCheckProvider_.addTokenChangeListener(s=>{t.server_.refreshAppCheckToken(s.token)}),t.statsReporter_=function(t,n){const e=t.toString();return $d[e]||($d[e]=n()),$d[e]}(t.repoInfo_,()=>new zN(t.stats_,t.server_)),t.infoData_=new dM,t.infoSyncTree_=new wE({startListening:(s,a,d,g)=>{let v=[];const w=t.infoData_.getNode(s._path);return w.isEmpty()||(v=Ua(t.infoSyncTree_,s._path,w),setTimeout(()=>{g("ok")},0)),v},stopListening:()=>{}}),Tp(t,"connected",!1),t.serverSyncTree_=new wE({startListening:(s,a,d,g)=>(t.server_.listen(s,d,a,(v,w)=>{const A=g(v,w);fe(t.eventQueue_,s._path,A)}),[]),stopListening:(s,a)=>{t.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Qo(this._repo,jt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(t,n){const e=OA[n];(!e||e[t.key]!==t)&&ms(`Database ${n}(${t.repoInfo_}) has already been deleted.`),TM(t),delete e[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){null===this._rootInternal&&ms("Cannot call "+n+" on a deleted database.")}}function ck(t,n){Xf(t,n)}class gk{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}rc.prototype.simpleListen=function(t,n){this.sendRequest("q",{p:t},n)},rc.prototype.echo=function(t,n){this.sendRequest("echo",{d:t},n)},u1(qu.SDK_VERSION),(0,qu._registerComponent)(new Ku.wA("database",(n,{instanceIdentifier:e})=>jM(n.getProvider("app").getImmediate(),n.getProvider("auth-internal"),n.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,qu.registerVersion)(yv,"0.12.4",void 0),(0,qu.registerVersion)(yv,"0.12.4","esm2017");const vk=new cn.Yd("@firebase/database-compat"),GM=function(t){vk.warn("FIREBASE WARNING: "+t)};class wk{constructor(n){this._delegate=n}cancel(n){(0,V.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,V.Wj)("OnDisconnect.cancel","onComplete",n,!0);const e=this._delegate.cancel();return n&&e.then(()=>n(null),s=>n(s)),e}remove(n){(0,V.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,V.Wj)("OnDisconnect.remove","onComplete",n,!0);const e=this._delegate.remove();return n&&e.then(()=>n(null),s=>n(s)),e}set(n,e){(0,V.Dv)("OnDisconnect.set",1,2,arguments.length),(0,V.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(n);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(n,e,s){(0,V.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,V.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(n,e);return s&&a.then(()=>s(null),d=>s(d)),a}update(n,e){if((0,V.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let d=0;d<n.length;++d)a[""+d]=n[d];n=a,GM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,V.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(n);return e&&s.then(()=>e(null),a=>e(a)),s}}class Ek{constructor(n,e){this.committed=n,this.snapshot=e}toJSON(){return(0,V.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class hh{constructor(n,e){this._database=n,this._delegate=e}val(){return(0,V.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,V.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,V.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,V.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(n){return(0,V.Dv)("DataSnapshot.child",0,1,arguments.length),n=String(n),R("DataSnapshot.child","path",n,!1),new hh(this._database,this._delegate.child(n))}hasChild(n){return(0,V.Dv)("DataSnapshot.hasChild",1,1,arguments.length),R("DataSnapshot.hasChild","path",n,!1),this._delegate.hasChild(n)}getPriority(){return(0,V.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(n){return(0,V.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,V.Wj)("DataSnapshot.forEach","action",n,!1),this._delegate.forEach(e=>n(new hh(this._database,e)))}hasChildren(){return(0,V.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,V.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,V.Dv)("DataSnapshot.ref",0,0,arguments.length),new Qs(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class gi{constructor(n,e){this.database=n,this._delegate=e}on(n,e,s,a){var d;(0,V.Dv)("Query.on",2,4,arguments.length),(0,V.Wj)("Query.on","callback",e,!1);const g=gi.getCancelAndContextArgs_("Query.on",s,a),v=(A,O)=>{e.call(g.context,new hh(this.database,A),O)};v.userCallback=e,v.context=g.context;const w=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(n){case"value":return xA(this._delegate,v,w),e;case"child_added":return PM(this._delegate,v,w),e;case"child_removed":return VM(this._delegate,v,w),e;case"child_changed":return FM(this._delegate,v,w),e;case"child_moved":return LM(this._delegate,v,w),e;default:throw new Error((0,V.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(n,e,s){if((0,V.Dv)("Query.off",0,3,arguments.length),function(t,n,e){if(void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,V.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,n),(0,V.Wj)("Query.off","callback",e,!0),(0,V.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,BM(this._delegate,n,a)}else BM(this._delegate,n)}get(){return OR(this._delegate).then(n=>new hh(this.database,n))}once(n,e,s,a){(0,V.Dv)("Query.once",1,4,arguments.length),(0,V.Wj)("Query.once","callback",e,!0);const d=gi.getCancelAndContextArgs_("Query.once",s,a),g=new V.BH,v=(A,O)=>{const x=new hh(this.database,A);e&&e.call(d.context,x,O),g.resolve(x)};v.userCallback=e,v.context=d.context;const w=A=>{d.cancel&&d.cancel.call(d.context,A),g.reject(A)};switch(n){case"value":xA(this._delegate,v,w,{onlyOnce:!0});break;case"child_added":PM(this._delegate,v,w,{onlyOnce:!0});break;case"child_removed":VM(this._delegate,v,w,{onlyOnce:!0});break;case"child_changed":FM(this._delegate,v,w,{onlyOnce:!0});break;case"child_moved":LM(this._delegate,v,w,{onlyOnce:!0});break;default:throw new Error((0,V.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(n){return(0,V.Dv)("Query.limitToFirst",1,1,arguments.length),new gi(this.database,ja(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new HR(t)}(n)))}limitToLast(n){return(0,V.Dv)("Query.limitToLast",1,1,arguments.length),new gi(this.database,ja(this._delegate,function(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new jR(t)}(n)))}orderByChild(n){return(0,V.Dv)("Query.orderByChild",1,1,arguments.length),new gi(this.database,ja(this._delegate,function(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return R("orderByChild","path",t,!1),new WR(t)}(n)))}orderByKey(){return(0,V.Dv)("Query.orderByKey",0,0,arguments.length),new gi(this.database,ja(this._delegate,new YR))}orderByPriority(){return(0,V.Dv)("Query.orderByPriority",0,0,arguments.length),new gi(this.database,ja(this._delegate,new qR))}orderByValue(){return(0,V.Dv)("Query.orderByValue",0,0,arguments.length),new gi(this.database,ja(this._delegate,new JR))}startAt(n=null,e){return(0,V.Dv)("Query.startAt",0,2,arguments.length),new gi(this.database,ja(this._delegate,function(t=null,n){return N("startAt","key",n,!0),new HM(t,n)}(n,e)))}startAfter(n=null,e){return(0,V.Dv)("Query.startAfter",0,2,arguments.length),new gi(this.database,ja(this._delegate,function(t,n){return N("startAfter","key",n,!0),new BR(t,n)}(n,e)))}endAt(n=null,e){return(0,V.Dv)("Query.endAt",0,2,arguments.length),new gi(this.database,ja(this._delegate,function(t,n){return N("endAt","key",n,!0),new UM(t,n)}(n,e)))}endBefore(n=null,e){return(0,V.Dv)("Query.endBefore",0,2,arguments.length),new gi(this.database,ja(this._delegate,function(t,n){return N("endBefore","key",n,!0),new FR(t,n)}(n,e)))}equalTo(n,e){return(0,V.Dv)("Query.equalTo",1,2,arguments.length),new gi(this.database,ja(this._delegate,function(t,n){return N("equalTo","key",n,!0),new XR(t,n)}(n,e)))}toString(){return(0,V.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,V.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(n){if((0,V.Dv)("Query.isEqual",1,1,arguments.length),!(n instanceof gi))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(n._delegate)}static getCancelAndContextArgs_(n,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,V.Wj)(n,"cancel",a.cancel,!0),a.context=s,(0,V.lb)(n,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,V.gK)(n,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Qs(this.database,new Qo(this._delegate._repo,this._delegate._path))}}class Qs extends gi{constructor(n,e){super(n,new vs(e._repo,e._path,new hp,!1)),this.database=n,this._delegate=e}getKey(){return(0,V.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(n){return(0,V.Dv)("Reference.child",1,1,arguments.length),"number"==typeof n&&(n=String(n)),new Qs(this.database,Np(this._delegate,n))}getParent(){(0,V.Dv)("Reference.parent",0,0,arguments.length);const n=this._delegate.parent;return n?new Qs(this.database,n):null}getRoot(){return(0,V.Dv)("Reference.root",0,0,arguments.length),new Qs(this.database,this._delegate.root)}set(n,e){(0,V.Dv)("Reference.set",1,2,arguments.length),(0,V.Wj)("Reference.set","onComplete",e,!0);const s=kA(this._delegate,n);return e&&s.then(()=>e(null),a=>e(a)),s}update(n,e){if((0,V.Dv)("Reference.update",1,2,arguments.length),Array.isArray(n)){const a={};for(let d=0;d<n.length;++d)a[""+d]=n[d];n=a,GM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}H("Reference.update",this._delegate._path),(0,V.Wj)("Reference.update","onComplete",e,!0);const s=xR(this._delegate,n);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(n,e,s){(0,V.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,V.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function(t,n,e){if(H("setWithPriority",t._path),h("setWithPriority",n,t._path,!1),D("setWithPriority",e,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";const s=new V.BH;return IA(t._repo,t._path,n,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,n,e);return s&&a.then(()=>s(null),d=>s(d)),a}remove(n){(0,V.Dv)("Reference.remove",0,1,arguments.length),(0,V.Wj)("Reference.remove","onComplete",n,!0);const e=function(t){return H("remove",t._path),kA(t,null)}(this._delegate);return n&&e.then(()=>n(null),s=>n(s)),e}transaction(n,e,s){(0,V.Dv)("Reference.transaction",1,3,arguments.length),(0,V.Wj)("Reference.transaction","transactionUpdate",n,!1),(0,V.Wj)("Reference.transaction","onComplete",e,!0),function(t,n,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,V.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function(t,n,e){var s;if(t=(0,V.m9)(t),H("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";const a=null===(s=null==e?void 0:e.applyLocally)||void 0===s||s,d=new V.BH,v=xA(t,()=>{});return function(t,n,e,s,a,d){qm(t,"transaction on "+n);const g={path:n,update:e,onComplete:s,status:null,order:Bd(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=AA(t,n,void 0);g.currentInputSnapshot=v;const w=g.update(v.val());if(void 0===w)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{m("transaction failed: Data returned ",w,g.path),g.status=0;const A=y0(t.transactionQueueTree_,n),O=lh(A)||[];let x;O.push(g),v0(A,O),"object"==typeof w&&null!==w&&(0,V.r3)(w,".priority")?(x=(0,V.DV)(w,".priority"),(0,V.hu)(c(x),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):x=(Cp(t.serverSyncTree_,n)||ct.EMPTY_NODE).getPriority().val();const j=Jo(t),X=En(w,x),me=_0(X,v,j);g.currentOutputSnapshotRaw=X,g.currentOutputSnapshotResolved=me,g.currentWriteId=uh(t);const Ae=a0(t.serverSyncTree_,n,me,g.currentWriteId,g.applyLocally);fe(t.eventQueue_,n,Ae),kE(t,t.transactionQueueTree_)}}(t._repo,t._path,n,(w,A,O)=>{let x=null;w?d.reject(w):(x=new Ip(O,new Qo(t._repo,t._path),hn),d.resolve(new gk(A,x)))},v,a),d.promise}(this._delegate,n,{applyLocally:s}).then(d=>new Ek(d.committed,new hh(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(n,e){(0,V.Dv)("Reference.setPriority",1,2,arguments.length),(0,V.Wj)("Reference.setPriority","onComplete",e,!0);const s=function(t,n){t=(0,V.m9)(t),H("setPriority",t._path),D("setPriority",n,!1);const e=new V.BH;return IA(t._repo,wn(t._path,".priority"),n,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,n);return e&&s.then(()=>e(null),a=>e(a)),s}push(n,e){(0,V.Dv)("Reference.push",0,2,arguments.length),(0,V.Wj)("Reference.push","onComplete",e,!0);const s=function(t,n){t=(0,V.m9)(t),H("push",t._path),h("push",n,t._path,!0);const e=cc(t._repo),s=VN(e),a=Np(t,s),d=Np(t,s);let g;return g=null!=n?kA(d,n).then(()=>d):Promise.resolve(d),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,n),a=s.then(g=>new Qs(this.database,g));e&&a.then(()=>e(null),g=>e(g));const d=new Qs(this.database,s);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return H("Reference.onDisconnect",this._delegate._path),new wk(new kM(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class D0{constructor(n,e){this._delegate=n,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(n,e,s={}){!function(t,n,e,s={}){(t=(0,V.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&ms("Cannot call useEmulator() after instance has already been initialized.");const a=t._repoInternal;let d;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&ms('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Cm(Cm.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,V.Sg)(s.mockUserToken,t.app.options.projectId);d=new Cm(g)}!function(t,n,e,s){t.repoInfo_=new sp(`${n}:${e}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),s&&(t.authTokenProvider_=s)}(a,n,e,d)}(this._delegate,n,e,s)}ref(n){if((0,V.Dv)("database.ref",0,1,arguments.length),n instanceof Qs){const e=OM(this._delegate,n.toString());return new Qs(this,e)}{const e=xM(this._delegate,n);return new Qs(this,e)}}refFromURL(n){(0,V.Dv)("database.refFromURL",1,1,arguments.length);const s=OM(this._delegate,n);return new Qs(this,s)}goOffline(){return(0,V.Dv)("database.goOffline",0,0,arguments.length),function(t){(t=(0,V.m9)(t))._checkNotDeleted("goOffline"),TM(t._repo)}(this._delegate)}goOnline(){return(0,V.Dv)("database.goOnline",0,0,arguments.length),function(t){(t=(0,V.m9)(t))._checkNotDeleted("goOnline"),function(t){t.persistentConnection_&&t.persistentConnection_.resume(Dt)}(t._repo)}(this._delegate)}}D0.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:t=>function(t){return{".sv":{increment:t}}}(t)};var Tk=Object.freeze({__proto__:null,initStandalone:function({app:t,url:n,version:e,customAuthImpl:s,namespace:a,nodeAdmin:d=!1}){u1(e);const g=new Ku.zt("auth-internal",new Ku.H0("database-standalone"));return g.setComponent(new Ku.wA("auth-internal",()=>s,"PRIVATE")),{instance:new D0(jM(t,g,void 0,n,d),t),namespace:a}}});const Ik=D0.ServerValue;function WM(t){return null==t}function zM(t){return"function"==typeof t.set}function YM(t,n){return zM(n)?n:t.ref(n)}function ZM(t,n){if(function(t){return"string"==typeof t}(t))return n.stringCase();if(zM(t))return n.firebaseCase();if(function(t){return"function"==typeof t.exportVal}(t))return n.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function T0(t,n,e="on",s=Eo.z){return new An.y(a=>{let d=null;return d=t[e](n,(g,v)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:v})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=d&&t.off(n,d)}}:{unsubscribe(){}}}).pipe((0,Ye.U)(a=>{const{snapshot:d,prevKey:g}=a;let v=null;return d.exists()&&(v=d.key),{type:n,payload:d,prevKey:g,key:v}}),(0,Wr.B)())}function qM(t,n){const e=t.length;for(let s=0;s<e;s++)if(t[s].payload.key===n)return s;return-1}function kk(t,n){const{payload:e,prevKey:s,key:a}=n,d=qM(t,a),g=function(t,n){if(WM(n))return 0;{const e=qM(t,n);return-1===e?t.length:e+1}}(t,s);switch(n.type){case"value":if(n.payload&&n.payload.exists()){let v=null;n.payload.forEach(w=>{const A={payload:w,type:"value",prevKey:v,key:w.key};return v=w.key,t=[...t,A],!1})}return t;case"child_added":if(d>-1){const v=t[d-1];(v&&v.key||null)!==s&&(t=t.filter(w=>w.payload.key!==e.key)).splice(g,0,n)}else{if(null==s)return[n,...t];(t=t.slice()).splice(g,0,n)}return t;case"child_removed":return t.filter(v=>v.payload.key!==e.key);case"child_changed":return t.map(v=>v.payload.key===a?n:v);case"child_moved":if(d>-1){const v=t.splice(d,1)[0];return(t=t.slice()).splice(g,0,v),t}return t;default:return t}}function KM(t){return(WM(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function JM(t,n,e){return function(t,n,e){return T0(t,"value","once",e).pipe(E(s=>{const a=[(0,Be.of)(s)];return n.forEach(d=>a.push(T0(t,d,"on",e))),(0,Qt.T)(...a).pipe(Ug(kk,[]))}),function(t,n){return e=>e.lift(new Io(t,n))}())}(t,n=KM(n),e)}function QM(t,n,e){const s=(n=KM(n)).map(a=>T0(t,a,"on",e));return(0,Qt.T)(...s)}function XM(t,n){return function(s,a){return ZM(s,{stringCase:()=>t.child(s)[n](a),firebaseCase:()=>s[n](a),snapshotCase:()=>s.ref[n](a)})}}function Fk(t){return function(e){return e?ZM(e,{stringCase:()=>t.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):t.remove()}}function eR(t,n){return function(){return T0(t,"value","on",n)}}!function(t){t.INTERNAL.registerComponent(new Ku.wA("database-compat",(n,{instanceIdentifier:e})=>{const s=n.getProvider("app-compat").getImmediate(),a=n.getProvider("database").getImmediate({identifier:e});return new D0(a,s)},"PUBLIC").setServiceProps({Reference:Qs,Query:gi,Database:D0,DataSnapshot:hh,enableLogging:ck,INTERNAL:Tk,ServerValue:Ik}).setMultipleInstances(!0)),t.registerVersion("@firebase/database-compat","0.1.4")}(l1.Z);const Bk=new l.OlP("angularfire2.realtimeDatabaseURL"),Uk=new l.OlP("angularfire2.database.use-emulator");let Hk=(()=>{class t{constructor(e,s,a,d,g,v,w,A,O,x,j,X,me,Ae,He){this.schedulers=v;const xt=w,nt=(0,fs.on)(e,g,s);A&&o1(nt,g,O,j,X,me,x,Ae),this.database=(0,fs.cc)(`${nt.name}.database.${a}`,"AngularFireDatabase",nt.name,()=>{const Dn=g.runOutsideAngular(()=>nt.database(a||void 0));return xt&&Dn.useEmulator(...xt),Dn},[xt])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>YM(this.database,e));let d=a;return s&&(d=s(a)),function(t,n){const e=n.schedulers.outsideAngular,s=n.schedulers.ngZone.run(()=>t.ref);return{query:t,update:XM(s,"update"),set:XM(s,"set"),push:a=>s.push(a),remove:Fk(s),snapshotChanges:a=>JM(t,a,e).pipe(Wi.iC),stateChanges:a=>QM(t,a,e).pipe(Wi.iC),auditTrail:a=>function(t,n,e){return function(t,n,e){return function(t,n){return T0(t,"value","on",n).pipe((0,Ye.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(t,e).pipe(Q(n),(0,Ye.U)(([a,d])=>{const g=a.lastKeyToLoad,v=d.map(w=>w.key);return{actions:d,lastKeyToLoad:g,loadedKeys:v}}),function(t){return n=>n.lift(new Qf(t))}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,Ye.U)(a=>a.actions))}(t,QM(t,n).pipe(Ug((a,d)=>[...a,d],[])),e)}(t,a,e).pipe(Wi.iC),valueChanges:(a,d)=>JM(t,a,e).pipe((0,Ye.U)(v=>v.map(w=>d&&d.idField?Object.assign(Object.assign({},w.payload.val()),{[d.idField]:w.key}):w.payload.val())),Wi.iC)}}(d,this)}object(e){return function(t,n){return{query:t,snapshotChanges:()=>eR(t,n.schedulers.outsideAngular)().pipe(Wi.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>eR(t,n.schedulers.outsideAngular)().pipe(Wi.iC,(0,Ye.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>YM(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(fs.Dh),l.LFG(fs.xv,8),l.LFG(Bk,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Wi.HU),l.LFG(Uk,8),l.LFG(_v,8),l.LFG(r1,8),l.LFG(pv,8),l.LFG(gv,8),l.LFG(mv,8),l.LFG(i1,8),l.LFG(s1,8),l.LFG(ym,8))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),$k=(()=>{class t{constructor(){n1.Z.registerVersion("angularfire",Wi.q4.full,"rtdb-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[Hk]}),t})();const tR_firebase={apiKey:"AIzaSyC6-f9A0CIw0aILDL7aCijXzWXeqXjkAVo",authDomain:"oshop-43d25.firebaseapp.com",projectId:"oshop-43d25",storageBucket:"oshop-43d25.appspot.com",messagingSenderId:"131219694988",appId:"1:131219694988:web:bee3ac5dddd2f17d2222a9"};let jk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-home"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"home works!"),l.qZA())},styles:[""]}),t})(),Gk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-shopping-cart"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"shopping-cart works!"),l.qZA())},styles:[""]}),t})(),Wk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-check-out"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"check-out works!"),l.qZA())},styles:[""]}),t})(),zk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-order-success"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"order-success works!"),l.qZA())},styles:[""]}),t})(),Yk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-my-orders"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"my-orders works!"),l.qZA())},styles:[""]}),t})(),Zk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-admin-products"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"admin-products works!"),l.qZA())},styles:[""]}),t})(),qk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-products"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"products works!"),l.qZA())},styles:[""]}),t})(),Kk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-login"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"login works!"),l.qZA())},styles:[""]}),t})(),Jk=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(e,s){1&e&&(l.TgZ(0,"p"),l._uU(1,"admin-orders works!"),l.qZA())},styles:[""]}),t})(),Qk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t,bootstrap:[xI]}),t.\u0275inj=l.cJS({providers:[],imports:[[Ch,TI.forRoot([{path:"",component:jk},{path:"products",component:qk},{path:"shopping-cart",component:Gk},{path:"check-out",component:Wk},{path:"order-success",component:zk},{path:"my/orders",component:Yk},{path:"login",component:Kk},{path:"admin/products",component:Zk},{path:"admin/orders",component:Jk}]),DC,sN,$k,fs.hO.initializeApp(tR_firebase)]]}),t})();(0,l.G48)(),ss().bootstrapModule(Qk).catch(t=>console.error(t))},3394:(Pe,pe,F)=>{"use strict";F.d(pe,{Z:()=>Ee});var l=F(3854),te=F(3910),L=F(8026),ce=F(5422);class re{constructor(he,ee){this._delegate=he,this.firebase=ee,(0,L._addComponent)(he,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(he,ee=L._DEFAULT_ENTRY_NAME){var ie;this._delegate.checkDestroyed();const ve=this._delegate.container.getProvider(he);return!ve.isInitialized()&&"EXPLICIT"===(null===(ie=ve.getComponent())||void 0===ie?void 0:ie.instantiationMode)&&ve.initialize(),ve.getImmediate({identifier:ee})}_removeServiceInstance(he,ee=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(ee)}_addComponent(he){(0,L._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,L._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),P=function Y(){const ye=function(ye){const he={},ee={__esModule:!0,initializeApp:function(ut,tn={}){const rt=L.initializeApp(ut,tn);if((0,l.r3)(he,rt.name))return he[rt.name];const Je=new ye(rt,ee);return he[rt.name]=Je,Je},app:ve,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function(ut){const tn=ut.name,rt=tn.replace("-compat","");if(L._registerComponent(ut)&&"PUBLIC"===ut.type){const Je=(bt=ve())=>{if("function"!=typeof bt[rt])throw oe.create("invalid-app-argument",{appName:tn});return bt[rt]()};void 0!==ut.serviceProps&&(0,l.ZB)(Je,ut.serviceProps),ee[rt]=Je,ye.prototype[rt]=function(...bt){return this._getService.bind(this,tn).apply(this,ut.multipleInstances?bt:[])}}return"PUBLIC"===ut.type?ee[rt]:null},removeApp:function(ut){delete he[ut]},useAsService:function(ut,tn){return"serverAuth"===tn?null:tn},modularAPIs:L}};function ve(ut){if(!(0,l.r3)(he,ut=ut||L._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:ut});return he[ut]}return ee.default=ee,Object.defineProperty(ee,"apps",{get:function(){return Object.keys(he).map(ut=>he[ut])}}),ve.App=ye,ee}(re);return ye.INTERNAL=Object.assign(Object.assign({},ye.INTERNAL),{createFirebaseNamespace:Y,extendNamespace:function(ee){(0,l.ZB)(ye,ee)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ye}(),U=new ce.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ye=self.firebase.SDK_VERSION;ye&&ye.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ee=P;(0,L.registerVersion)("@firebase/app-compat","0.1.12",undefined)},8026:(Pe,pe,F)=>{"use strict";F.r(pe),F.d(pe,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>to,_DEFAULT_ENTRY_NAME:()=>_i,_addComponent:()=>Mi,_addOrOverwriteComponent:()=>Ki,_apps:()=>Ct,_clearComponents:()=>nn,_components:()=>St,_getProvider:()=>Wt,_registerComponent:()=>yi,_removeServiceInstance:()=>eo,deleteApp:()=>Hn,getApp:()=>vi,getApps:()=>Ce,initializeApp:()=>Jr,onLog:()=>Mt,registerVersion:()=>Fe,setLogLevel:()=>Qr});var l=F(8239),te=F(3910),L=F(5422),ce=F(3854);class re{constructor(We){this.container=We}getPlatformInfoString(){return this.container.getProviders().map(ht=>{if(function($e){const We=$e.getComponent();return"VERSION"===(null==We?void 0:We.type)}(ht)){const ft=ht.getImmediate();return`${ft.library}/${ft.version}`}return null}).filter(ht=>ht).join(" ")}}const oe="@firebase/app",K="0.7.11",Y=new L.Yd("@firebase/app"),_i="[DEFAULT]",Xs={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ct=new Map,St=new Map;function Mi($e,We){try{$e.container.addComponent(We)}catch(ht){Y.debug(`Component ${We.name} failed to register with FirebaseApp ${$e.name}`,ht)}}function Ki($e,We){$e.container.addOrOverwriteComponent(We)}function yi($e){const We=$e.name;if(St.has(We))return Y.debug(`There were multiple attempts to register component ${We}.`),!1;St.set(We,$e);for(const ht of Ct.values())Mi(ht,$e);return!0}function Wt($e,We){return $e.container.getProvider(We)}function eo($e,We,ht=_i){Wt($e,We).clearInstance(ht)}function nn(){St.clear()}const It=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class rn{constructor(We,ht,ft){this._isDeleted=!1,this._options=Object.assign({},We),this._config=Object.assign({},ht),this._name=ht.name,this._automaticDataCollectionEnabled=ht.automaticDataCollectionEnabled,this._container=ft,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this.checkDestroyed(),this._automaticDataCollectionEnabled=We}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(We){this._isDeleted=We}checkDestroyed(){if(this.isDeleted)throw It.create("app-deleted",{appName:this._name})}}const to="9.6.1";function Jr($e,We={}){"object"!=typeof We&&(We={name:We});const ht=Object.assign({name:_i,automaticDataCollectionEnabled:!1},We),ft=ht.name;if("string"!=typeof ft||!ft)throw It.create("bad-app-name",{appName:String(ft)});const gr=Ct.get(ft);if(gr){if((0,ce.vZ)($e,gr.options)&&(0,ce.vZ)(ht,gr.config))return gr;throw It.create("duplicate-app",{appName:ft})}const Pt=new te.H0(ft);for(const je of St.values())Pt.addComponent(je);const Se=new rn($e,ht,Pt);return Ct.set(ft,Se),Se}function vi($e=_i){const We=Ct.get($e);if(!We)throw It.create("no-app",{appName:$e});return We}function Ce(){return Array.from(Ct.values())}function Hn($e){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.Z)(function*($e){const We=$e.name;Ct.has(We)&&(Ct.delete(We),yield Promise.all($e.container.getProviders().map(ht=>ht.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function Fe($e,We,ht){var ft;let gr=null!==(ft=Xs[$e])&&void 0!==ft?ft:$e;ht&&(gr+=`-${ht}`);const Pt=gr.match(/\s|\//),Se=We.match(/\s|\//);if(Pt||Se){const je=[`Unable to register library "${gr}" with version "${We}":`];return Pt&&je.push(`library name "${gr}" contains illegal characters (whitespace or "/")`),Pt&&Se&&je.push("and"),Se&&je.push(`version name "${We}" contains illegal characters (whitespace or "/")`),void Y.warn(je.join(" "))}yi(new te.wA(`${gr}-version`,()=>({library:gr,version:We}),"VERSION"))}function Mt($e,We){if(null!==$e&&"function"!=typeof $e)throw It.create("invalid-log-argument");(0,L.Am)($e,We)}function Qr($e){(0,L.Ub)($e)}yi(new te.wA("platform-logger",We=>new re(We),"PRIVATE")),Fe(oe,K,""),Fe(oe,K,"esm2017"),Fe("fire-js","")},3910:(Pe,pe,F)=>{"use strict";F.d(pe,{wA:()=>L,H0:()=>K,zt:()=>re});var l=F(8239),te=F(3854);class L{constructor(P,U,G){this.name=P,this.instanceFactory=U,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(P){return this.instantiationMode=P,this}setMultipleInstances(P){return this.multipleInstances=P,this}setServiceProps(P){return this.serviceProps=P,this}setInstanceCreatedCallback(P){return this.onInstanceCreated=P,this}}const ce="[DEFAULT]";class re{constructor(P,U){this.name=P,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(P){const U=this.normalizeInstanceIdentifier(P);if(!this.instancesDeferred.has(U)){const G=new te.BH;if(this.instancesDeferred.set(U,G),this.isInitialized(U)||this.shouldAutoInitialize())try{const de=this.getOrInitializeService({instanceIdentifier:U});de&&G.resolve(de)}catch(de){}}return this.instancesDeferred.get(U).promise}getImmediate(P){var U;const G=this.normalizeInstanceIdentifier(null==P?void 0:P.identifier),de=null!==(U=null==P?void 0:P.optional)&&void 0!==U&&U;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(de)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(Ie){if(de)return null;throw Ie}}getComponent(){return this.component}setComponent(P){if(P.name!==this.name)throw Error(`Mismatching Component ${P.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=P,this.shouldAutoInitialize()){if("EAGER"===P.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(U){}for(const[U,G]of this.instancesDeferred.entries()){const de=this.normalizeInstanceIdentifier(U);try{const Ie=this.getOrInitializeService({instanceIdentifier:de});G.resolve(Ie)}catch(Ie){}}}}clearInstance(P=ce){this.instancesDeferred.delete(P),this.instancesOptions.delete(P),this.instances.delete(P)}delete(){var P=this;return(0,l.Z)(function*(){const U=Array.from(P.instances.values());yield Promise.all([...U.filter(G=>"INTERNAL"in G).map(G=>G.INTERNAL.delete()),...U.filter(G=>"_delete"in G).map(G=>G._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(P=ce){return this.instances.has(P)}getOptions(P=ce){return this.instancesOptions.get(P)||{}}initialize(P={}){const{options:U={}}=P,G=this.normalizeInstanceIdentifier(P.instanceIdentifier);if(this.isInitialized(G))throw Error(`${this.name}(${G}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const de=this.getOrInitializeService({instanceIdentifier:G,options:U});for(const[Ie,Ee]of this.instancesDeferred.entries())G===this.normalizeInstanceIdentifier(Ie)&&Ee.resolve(de);return de}onInit(P,U){var G;const de=this.normalizeInstanceIdentifier(U),Ie=null!==(G=this.onInitCallbacks.get(de))&&void 0!==G?G:new Set;Ie.add(P),this.onInitCallbacks.set(de,Ie);const Ee=this.instances.get(de);return Ee&&P(Ee,de),()=>{Ie.delete(P)}}invokeOnInitCallbacks(P,U){const G=this.onInitCallbacks.get(U);if(G)for(const de of G)try{de(P,U)}catch(Ie){}}getOrInitializeService({instanceIdentifier:P,options:U={}}){let G=this.instances.get(P);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:(Y=P,Y===ce?void 0:Y),options:U}),this.instances.set(P,G),this.instancesOptions.set(P,U),this.invokeOnInitCallbacks(G,P),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,P,G)}catch(de){}var Y;return G||null}normalizeInstanceIdentifier(P=ce){return this.component?this.component.multipleInstances?P:ce:P}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class K{constructor(P){this.name=P,this.providers=new Map}addComponent(P){const U=this.getProvider(P.name);if(U.isComponentSet())throw new Error(`Component ${P.name} has already been registered with ${this.name}`);U.setComponent(P)}addOrOverwriteComponent(P){this.getProvider(P.name).isComponentSet()&&this.providers.delete(P.name),this.addComponent(P)}getProvider(P){if(this.providers.has(P))return this.providers.get(P);const U=new re(P,this);return this.providers.set(P,U),U}getProviders(){return Array.from(this.providers.values())}}},5422:(Pe,pe,F)=>{"use strict";F.d(pe,{in:()=>te,Yd:()=>oe,Ub:()=>K,Am:()=>Y});const l=[];var te=(()=>{return(P=te||(te={}))[P.DEBUG=0]="DEBUG",P[P.VERBOSE=1]="VERBOSE",P[P.INFO=2]="INFO",P[P.WARN=3]="WARN",P[P.ERROR=4]="ERROR",P[P.SILENT=5]="SILENT",te;var P})();const L={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},ce=te.INFO,re={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},J=(P,U,...G)=>{if(U<P.logLevel)return;const de=(new Date).toISOString(),Ie=re[U];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[Ie](`[${de}]  ${P.name}:`,...G)};class oe{constructor(U){this.name=U,this._logLevel=ce,this._logHandler=J,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in te))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?L[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...U),this._logHandler(this,te.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...U),this._logHandler(this,te.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,te.INFO,...U),this._logHandler(this,te.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,te.WARN,...U),this._logHandler(this,te.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...U),this._logHandler(this,te.ERROR,...U)}}function K(P){l.forEach(U=>{U.setLogLevel(P)})}function Y(P,U){for(const G of l){let de=null;U&&U.level&&(de=L[U.level]),G.userLogHandler=null===P?null:(Ie,Ee,...ye)=>{const he=ye.map(ee=>{if(null==ee)return null;if("string"==typeof ee)return ee;if("number"==typeof ee||"boolean"==typeof ee)return ee.toString();if(ee instanceof Error)return ee.message;try{return JSON.stringify(ee)}catch(ie){return null}}).filter(ee=>ee).join(" ");Ee>=(null!=de?de:Ie.logLevel)&&P({level:te[Ee].toLowerCase(),message:he,args:ye,type:Ie.name})}}}},8239:(Pe,pe,F)=>{"use strict";function l(L,ce,re,J,oe,K,Y){try{var P=L[K](Y),U=P.value}catch(G){return void re(G)}P.done?ce(U):Promise.resolve(U).then(J,oe)}function te(L){return function(){var ce=this,re=arguments;return new Promise(function(J,oe){var K=L.apply(ce,re);function Y(U){l(K,J,oe,Y,P,"next",U)}function P(U){l(K,J,oe,Y,P,"throw",U)}Y(void 0)})}}F.d(pe,{Z:()=>te})}},Pe=>{Pe(Pe.s=8721)}]);